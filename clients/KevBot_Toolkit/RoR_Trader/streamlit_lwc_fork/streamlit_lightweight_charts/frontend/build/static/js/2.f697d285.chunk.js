/*! For license information please see 2.f697d285.chunk.js.LICENSE.txt */
(this.webpackJsonpstreamlit_lightweight_charts=this.webpackJsonpstreamlit_lightweight_charts||[]).push([[2],[function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}i.d(e,"a",(function(){return s}))},function(t,e,i){"use strict";t.exports=i(11)},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=e.StreamlitProvider=e.useRenderData=void 0;var r=i(15);Object.defineProperty(e,"useRenderData",{enumerable:!0,get:function(){return r.useRenderData}}),Object.defineProperty(e,"StreamlitProvider",{enumerable:!0,get:function(){return n(r).default}});var s=i(5);Object.defineProperty(e,"useNullableRenderData",{enumerable:!0,get:function(){return s.useNullableRenderData}})},function(t,e,i){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function o(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(t,e){for(var i,a,l=o(t),u=1;u<arguments.length;u++){for(var h in i=Object(arguments[u]))r.call(i,h)&&(l[h]=i[h]);if(n){a=n(i);for(var c=0;c<a.length;c++)s.call(i,a[c])&&(l[a[c]]=i[a[c]])}}return l}},function(t,e,i){"use strict";t.exports=i(16)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=void 0;var n=i(1),r=i(6);e.useNullableRenderData=function(){var t=(0,n.useState)(),e=t[0],i=t[1];return(0,n.useEffect)((function(){var t=function(t){i(t.detail)};r.Streamlit.events.addEventListener(r.Streamlit.RENDER_EVENT,t),r.Streamlit.setComponentReady();return function(){r.Streamlit.events.removeEventListener(r.Streamlit.RENDER_EVENT,t)}}),[]),e}},function(t,e,i){"use strict";i.r(e),i.d(e,"StreamlitComponentBase",(function(){return Bu})),i.d(e,"withStreamlitConnection",(function(){return Lu})),i.d(e,"ArrowTable",(function(){return Iu})),i.d(e,"Streamlit",(function(){return ku}));var n={};i.r(n),i.d(n,"memcpy",(function(){return wt})),i.d(n,"joinUint8Arrays",(function(){return _t})),i.d(n,"toArrayBufferView",(function(){return St})),i.d(n,"toInt8Array",(function(){return xt})),i.d(n,"toInt16Array",(function(){return Tt})),i.d(n,"toInt32Array",(function(){return Et})),i.d(n,"toBigInt64Array",(function(){return It})),i.d(n,"toUint8Array",(function(){return Mt})),i.d(n,"toUint16Array",(function(){return kt})),i.d(n,"toUint32Array",(function(){return Ct})),i.d(n,"toBigUint64Array",(function(){return Ot})),i.d(n,"toFloat32Array",(function(){return Bt})),i.d(n,"toFloat64Array",(function(){return Lt})),i.d(n,"toUint8ClampedArray",(function(){return At})),i.d(n,"toArrayBufferViewIterator",(function(){return Nt})),i.d(n,"toInt8ArrayIterator",(function(){return zt})),i.d(n,"toInt16ArrayIterator",(function(){return Ft})),i.d(n,"toInt32ArrayIterator",(function(){return Pt})),i.d(n,"toUint8ArrayIterator",(function(){return Rt})),i.d(n,"toUint16ArrayIterator",(function(){return Vt})),i.d(n,"toUint32ArrayIterator",(function(){return Ut})),i.d(n,"toFloat32ArrayIterator",(function(){return jt})),i.d(n,"toFloat64ArrayIterator",(function(){return Wt})),i.d(n,"toUint8ClampedArrayIterator",(function(){return $t})),i.d(n,"toArrayBufferViewAsyncIterator",(function(){return Ht})),i.d(n,"toInt8ArrayAsyncIterator",(function(){return Yt})),i.d(n,"toInt16ArrayAsyncIterator",(function(){return Xt})),i.d(n,"toInt32ArrayAsyncIterator",(function(){return qt})),i.d(n,"toUint8ArrayAsyncIterator",(function(){return Qt})),i.d(n,"toUint16ArrayAsyncIterator",(function(){return Gt})),i.d(n,"toUint32ArrayAsyncIterator",(function(){return Jt})),i.d(n,"toFloat32ArrayAsyncIterator",(function(){return Zt})),i.d(n,"toFloat64ArrayAsyncIterator",(function(){return te})),i.d(n,"toUint8ClampedArrayAsyncIterator",(function(){return ee})),i.d(n,"rebaseValueOffsets",(function(){return ie})),i.d(n,"compareArrayLike",(function(){return ne}));var r={};i.r(r),i.d(r,"getBool",(function(){return Me})),i.d(r,"getBit",(function(){return ke})),i.d(r,"setBool",(function(){return Ce})),i.d(r,"truncateBitmap",(function(){return Oe})),i.d(r,"packBools",(function(){return Be})),i.d(r,"iterateBits",(function(){return Le})),i.d(r,"popcnt_bit_range",(function(){return Ae})),i.d(r,"popcnt_array",(function(){return De})),i.d(r,"popcnt_uint32",(function(){return Ne}));var s={};i.r(s),i.d(s,"uint16ToFloat64",(function(){return tn})),i.d(s,"float64ToUint16",(function(){return en}));var o={};i.r(o),i.d(o,"isArrowBigNumSymbol",(function(){return an})),i.d(o,"bignumToString",(function(){return fn})),i.d(o,"bignumToBigInt",(function(){return pn})),i.d(o,"BN",(function(){return bn}));var a={};i.r(a),i.d(a,"clampIndex",(function(){return tr})),i.d(a,"clampRange",(function(){return ir})),i.d(a,"createElementComparator",(function(){return sr}));var l={};i.r(l),i.d(l,"BaseInt64",(function(){return gs})),i.d(l,"Uint64",(function(){return ws})),i.d(l,"Int64",(function(){return _s})),i.d(l,"Int128",(function(){return Ss}));var u=i(8),h=i.n(u),c=i(1),d=i.n(c);const f=new WeakMap,p=new WeakMap;function y(t){const e=f.get(t);return console.assert(null!=e,"'this' is expected an Event object, but got",t),e}function b(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"===typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!==typeof console&&"function"===typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function m(t,e){f.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const i=Object.keys(e);for(let n=0;n<i.length;++n){const t=i[n];t in this||Object.defineProperty(this,t,v(t))}}function v(t){return{get(){return y(this).event[t]},set(e){y(this).event[t]=e},configurable:!0,enumerable:!0}}function g(t){return{value(){const e=y(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function w(t){if(null==t||t===Object.prototype)return m;let e=p.get(t);return null==e&&(e=function(t,e){const i=Object.keys(e);if(0===i.length)return t;function n(e,i){t.call(this,e,i)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let r=0;r<i.length;++r){const s=i[r];if(!(s in t.prototype)){const t="function"===typeof Object.getOwnPropertyDescriptor(e,s).value;Object.defineProperty(n.prototype,s,t?g(s):v(s))}}return n}(w(Object.getPrototypeOf(t)),t),p.set(t,e)),e}function _(t){return y(t).immediateStopped}function S(t,e){y(t).passiveListener=e}m.prototype={get type(){return y(this).event.type},get target(){return y(this).eventTarget},get currentTarget(){return y(this).currentTarget},composedPath(){const t=y(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return y(this).eventPhase},stopPropagation(){const t=y(this);t.stopped=!0,"function"===typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation(){const t=y(this);t.stopped=!0,t.immediateStopped=!0,"function"===typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(y(this).event.bubbles)},get cancelable(){return Boolean(y(this).event.cancelable)},preventDefault(){b(y(this))},get defaultPrevented(){return y(this).canceled},get composed(){return Boolean(y(this).event.composed)},get timeStamp(){return y(this).timeStamp},get srcElement(){return y(this).eventTarget},get cancelBubble(){return y(this).stopped},set cancelBubble(t){if(!t)return;const e=y(this);e.stopped=!0,"boolean"===typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!y(this).canceled},set returnValue(t){t||b(y(this))},initEvent(){}},Object.defineProperty(m.prototype,"constructor",{value:m,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.Event&&(Object.setPrototypeOf(m.prototype,window.Event.prototype),p.set(window.Event.prototype,m));const x=new WeakMap;function T(t){return null!==t&&"object"===typeof t}function E(t){const e=x.get(t);if(null==e)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function I(t,e){Object.defineProperty(t,"on".concat(e),function(t){return{get(){let e=E(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"===typeof e||T(e)||(e=null);const i=E(this);let n=null,r=i.get(t);for(;null!=r;)3===r.listenerType?null!==n?n.next=r.next:null!==r.next?i.set(t,r.next):i.delete(t):n=r,r=r.next;if(null!==e){const r={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===n?i.set(t,r):n.next=r}},configurable:!0,enumerable:!0}}(e))}function M(t){function e(){k.call(this)}e.prototype=Object.create(k.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let i=0;i<t.length;++i)I(e.prototype,t[i]);return e}function k(){if(!(this instanceof k)){if(1===arguments.length&&Array.isArray(arguments[0]))return M(arguments[0]);if(arguments.length>0){const t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return M(t)}throw new TypeError("Cannot call a class as a function")}x.set(this,new Map)}k.prototype={addEventListener(t,e,i){if(null==e)return;if("function"!==typeof e&&!T(e))throw new TypeError("'listener' should be a function or an object.");const n=E(this),r=T(i),s=(r?Boolean(i.capture):Boolean(i))?1:2,o={listener:e,listenerType:s,passive:r&&Boolean(i.passive),once:r&&Boolean(i.once),next:null};let a=n.get(t);if(void 0===a)return void n.set(t,o);let l=null;for(;null!=a;){if(a.listener===e&&a.listenerType===s)return;l=a,a=a.next}l.next=o},removeEventListener(t,e,i){if(null==e)return;const n=E(this),r=(T(i)?Boolean(i.capture):Boolean(i))?1:2;let s=null,o=n.get(t);for(;null!=o;){if(o.listener===e&&o.listenerType===r)return void(null!==s?s.next=o.next:null!==o.next?n.set(t,o.next):n.delete(t));s=o,o=o.next}},dispatchEvent(t){if(null==t||"string"!==typeof t.type)throw new TypeError('"event.type" should be a string.');const e=E(this),i=t.type;let n=e.get(i);if(null==n)return!0;const r=function(t,e){return new(w(Object.getPrototypeOf(e)))(t,e)}(this,t);let s=null;for(;null!=n;){if(n.once?null!==s?s.next=n.next:null!==n.next?e.set(i,n.next):e.delete(i):s=n,S(r,n.passive?n.listener:null),"function"===typeof n.listener)try{n.listener.call(this,r)}catch(o){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(o)}else 3!==n.listenerType&&"function"===typeof n.listener.handleEvent&&n.listener.handleEvent(r);if(_(r))break;n=n.next}return S(r,null),function(t,e){y(t).eventPhase=e}(r,0),function(t,e){y(t).currentTarget=e}(r,null),!r.defaultPrevented}},Object.defineProperty(k.prototype,"constructor",{value:k,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.EventTarget&&Object.setPrototypeOf(k.prototype,window.EventTarget.prototype);function C(t){this.wrapped=t}function O(t){return new C(t)}function B(t){var e,i;function n(e,i){try{var s=t[e](i),o=s.value,a=o instanceof C;Promise.resolve(a?o.wrapped:o).then((function(t){a?n("return"===e?"return":"next",t):r(s.done?"return":"normal",t)}),(function(t){n("throw",t)}))}catch(l){r("throw",l)}}function r(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?n(e.key,e.arg):i=null}this._invoke=function(t,r){return new Promise((function(s,o){var a={key:t,arg:r,resolve:s,reject:o,next:null};i?i=i.next=a:(e=i=a,n(t,r))}))},"function"!==typeof t.return&&(this.return=void 0)}function L(t){return function(){return new B(t.apply(this,arguments))}}function A(t,e){var i={},n=!1;function r(i,r){return n=!0,r=new Promise((function(e){e(t[i](r))})),{done:!1,value:e(r)}}return"function"===typeof Symbol&&Symbol.iterator&&(i[Symbol.iterator]=function(){return this}),i.next=function(t){return n?(n=!1,t):r("next",t)},"function"===typeof t.throw&&(i.throw=function(t){if(n)throw n=!1,t;return r("throw",t)}),"function"===typeof t.return&&(i.return=function(t){return n?(n=!1,t):r("return",t)}),i}"function"===typeof Symbol&&Symbol.asyncIterator&&(B.prototype[Symbol.asyncIterator]=function(){return this}),B.prototype.next=function(t){return this._invoke("next",t)},B.prototype.throw=function(t){return this._invoke("throw",t)},B.prototype.return=function(t){return this._invoke("return",t)};var D={};function N(t,e,i){return e<=t&&t<=i}function z(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}D.Offset,D.Table,D.SIZEOF_SHORT=2,D.SIZEOF_INT=4,D.FILE_IDENTIFIER_LENGTH=4,D.Encoding={UTF8_BYTES:1,UTF16_STRING:2},D.int32=new Int32Array(2),D.float32=new Float32Array(D.int32.buffer),D.float64=new Float64Array(D.int32.buffer),D.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],D.Long=function(t,e){this.low=0|t,this.high=0|e},D.Long.create=function(t,e){return 0==t&&0==e?D.Long.ZERO:new D.Long(t,e)},D.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},D.Long.prototype.equals=function(t){return this.low==t.low&&this.high==t.high},D.Long.ZERO=new D.Long(0,0),D.Builder=function(t){if(t)e=t;else var e=1024;this.bb=D.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},D.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},D.Builder.prototype.forceDefaults=function(t){this.force_defaults=t},D.Builder.prototype.dataBuffer=function(){return this.bb},D.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},D.Builder.prototype.prep=function(t,e){t>this.minalign&&(this.minalign=t);for(var i=1+~(this.bb.capacity()-this.space+e)&t-1;this.space<i+t+e;){var n=this.bb.capacity();this.bb=D.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-n}this.pad(i)},D.Builder.prototype.pad=function(t){for(var e=0;e<t;e++)this.bb.writeInt8(--this.space,0)},D.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t)},D.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t)},D.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t)},D.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t)},D.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t)},D.Builder.prototype.writeFloat64=function(t){this.bb.writeFloat64(this.space-=8,t)},D.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t)},D.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t)},D.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t)},D.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t)},D.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t)},D.Builder.prototype.addFloat64=function(t){this.prep(8,0),this.writeFloat64(t)},D.Builder.prototype.addFieldInt8=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))},D.Builder.prototype.addFieldInt16=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))},D.Builder.prototype.addFieldInt32=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))},D.Builder.prototype.addFieldInt64=function(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))},D.Builder.prototype.addFieldFloat32=function(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))},D.Builder.prototype.addFieldFloat64=function(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))},D.Builder.prototype.addFieldOffset=function(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))},D.Builder.prototype.addFieldStruct=function(t,e,i){e!=i&&(this.nested(e),this.slot(t))},D.Builder.prototype.nested=function(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},D.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},D.Builder.prototype.slot=function(t){this.vtable[t]=this.offset()},D.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},D.Builder.growByteBuffer=function(t){var e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var i=e<<1,n=D.ByteBuffer.allocate(i);return n.setPosition(i-e),n.bytes().set(t.bytes(),i-e),n},D.Builder.prototype.addOffset=function(t){this.prep(D.SIZEOF_INT,0),this.writeInt32(this.offset()-t+D.SIZEOF_INT)},D.Builder.prototype.startObject=function(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(var e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()},D.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),e=this.vtable_in_use-1;e>=0&&0==this.vtable[e];e--);for(var i=e+1;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);var n=(i+2)*D.SIZEOF_SHORT;this.addInt16(n);var r=0,s=this.space;t:for(e=0;e<this.vtables.length;e++){var o=this.bb.capacity()-this.vtables[e];if(n==this.bb.readInt16(o)){for(var a=D.SIZEOF_SHORT;a<n;a+=D.SIZEOF_SHORT)if(this.bb.readInt16(s+a)!=this.bb.readInt16(o+a))continue t;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t},D.Builder.prototype.finish=function(t,e){if(e){var i=e;if(this.prep(this.minalign,D.SIZEOF_INT+D.FILE_IDENTIFIER_LENGTH),i.length!=D.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+D.FILE_IDENTIFIER_LENGTH);for(var n=D.FILE_IDENTIFIER_LENGTH-1;n>=0;n--)this.writeInt8(i.charCodeAt(n))}this.prep(this.minalign,D.SIZEOF_INT),this.addOffset(t),this.bb.setPosition(this.space)},D.Builder.prototype.requiredField=function(t,e){var i=this.bb.capacity()-t,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+e)))throw new Error("FlatBuffers: field "+e+" must be set")},D.Builder.prototype.startVector=function(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(D.SIZEOF_INT,t*e),this.prep(i,t*e)},D.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},D.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else{e=[];for(var i=0;i<t.length;){var n,r=t.charCodeAt(i++);if(r<55296||r>=56320)n=r;else n=(r<<10)+t.charCodeAt(i++)+-56613888;n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);i=0;for(var s=this.space,o=this.bb.bytes();i<e.length;i++)o[s++]=e[i];return this.endVector()},D.Builder.prototype.createLong=function(t,e){return D.Long.create(t,e)},D.ByteBuffer=function(t){this.bytes_=t,this.position_=0},D.ByteBuffer.allocate=function(t){return new D.ByteBuffer(new Uint8Array(t))},D.ByteBuffer.prototype.clear=function(){this.position_=0},D.ByteBuffer.prototype.bytes=function(){return this.bytes_},D.ByteBuffer.prototype.position=function(){return this.position_},D.ByteBuffer.prototype.setPosition=function(t){this.position_=t},D.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},D.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24},D.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t]},D.ByteBuffer.prototype.readInt16=function(t){return this.readUint16(t)<<16>>16},D.ByteBuffer.prototype.readUint16=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8},D.ByteBuffer.prototype.readInt32=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24},D.ByteBuffer.prototype.readUint32=function(t){return this.readInt32(t)>>>0},D.ByteBuffer.prototype.readInt64=function(t){return new D.Long(this.readInt32(t),this.readInt32(t+4))},D.ByteBuffer.prototype.readUint64=function(t){return new D.Long(this.readUint32(t),this.readUint32(t+4))},D.ByteBuffer.prototype.readFloat32=function(t){return D.int32[0]=this.readInt32(t),D.float32[0]},D.ByteBuffer.prototype.readFloat64=function(t){return D.int32[D.isLittleEndian?0:1]=this.readInt32(t),D.int32[D.isLittleEndian?1:0]=this.readInt32(t+4),D.float64[0]},D.ByteBuffer.prototype.writeInt8=function(t,e){this.bytes_[t]=e},D.ByteBuffer.prototype.writeUint8=function(t,e){this.bytes_[t]=e},D.ByteBuffer.prototype.writeInt16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},D.ByteBuffer.prototype.writeUint16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},D.ByteBuffer.prototype.writeInt32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},D.ByteBuffer.prototype.writeUint32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},D.ByteBuffer.prototype.writeInt64=function(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)},D.ByteBuffer.prototype.writeUint64=function(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)},D.ByteBuffer.prototype.writeFloat32=function(t,e){D.float32[0]=e,this.writeInt32(t,D.int32[0])},D.ByteBuffer.prototype.writeFloat64=function(t,e){D.float64[0]=e,this.writeInt32(t,D.int32[D.isLittleEndian?0:1]),this.writeInt32(t+4,D.int32[D.isLittleEndian?1:0])},D.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+D.SIZEOF_INT+D.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var t="",e=0;e<D.FILE_IDENTIFIER_LENGTH;e++)t+=String.fromCharCode(this.readInt8(this.position_+D.SIZEOF_INT+e));return t},D.ByteBuffer.prototype.__offset=function(t,e){var i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0},D.ByteBuffer.prototype.__union=function(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t},D.ByteBuffer.prototype.__string=function(t,e){t+=this.readInt32(t);var i=this.readInt32(t),n="",r=0;if(t+=D.SIZEOF_INT,e===D.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+i);for(;r<i;){var s,o=this.readUint8(t+r++);if(o<192)s=o;else{var a=this.readUint8(t+r++);if(o<224)s=(31&o)<<6|63&a;else{var l=this.readUint8(t+r++);if(o<240)s=(15&o)<<12|(63&a)<<6|63&l;else s=(7&o)<<18|(63&a)<<12|(63&l)<<6|63&this.readUint8(t+r++)}}s<65536?n+=String.fromCharCode(s):(s-=65536,n+=String.fromCharCode(55296+(s>>10),56320+(1023&s)))}return n},D.ByteBuffer.prototype.__indirect=function(t){return t+this.readInt32(t)},D.ByteBuffer.prototype.__vector=function(t){return t+this.readInt32(t)+D.SIZEOF_INT},D.ByteBuffer.prototype.__vector_len=function(t){return this.readInt32(t+this.readInt32(t))},D.ByteBuffer.prototype.__has_identifier=function(t){if(t.length!=D.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+D.FILE_IDENTIFIER_LENGTH);for(var e=0;e<D.FILE_IDENTIFIER_LENGTH;e++)if(t.charCodeAt(e)!=this.readInt8(this.position_+D.SIZEOF_INT+e))return!1;return!0},D.ByteBuffer.prototype.createLong=function(t,e){return D.Long.create(t,e)};function F(t){this.tokens=[].slice.call(t)}F.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};function P(t,e){if(t)throw TypeError("Decoder error");return e||65533}function R(t,e){if(!(this instanceof R))return new R(t,e);if("utf-8"!==(t=void 0!==t?String(t).toLowerCase():"utf-8"))throw new Error("Encoding not supported. Only utf-8 is supported");e=z(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function V(t,e){if(!(this instanceof V))return new V(t,e);if("utf-8"!==(t=void 0!==t?String(t).toLowerCase():"utf-8"))throw new Error("Encoding not supported. Only utf-8 is supported");e=z(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function U(t){var e=t.fatal,i=0,n=0,r=0,s=128,o=191;this.handler=function(t,a){if(-1===a&&0!==r)return r=0,P(e);if(-1===a)return-1;if(0===r){if(N(a,0,127))return a;if(N(a,194,223))r=1,i=a-192;else if(N(a,224,239))224===a&&(s=160),237===a&&(o=159),r=2,i=a-224;else{if(!N(a,240,244))return P(e);240===a&&(s=144),244===a&&(o=143),r=3,i=a-240}return i<<=6*r,null}if(!N(a,s,o))return i=r=n=0,s=128,o=191,t.prepend(a),P(e);if(s=128,o=191,i+=a-128<<6*(r-(n+=1)),n!==r)return null;var l=i;return i=r=n=0,l}}function j(t){t.fatal;this.handler=function(t,e){if(-1===e)return-1;if(N(e,0,127))return e;var i,n;N(e,128,2047)?(i=1,n=192):N(e,2048,65535)?(i=2,n=224):N(e,65536,1114111)&&(i=3,n=240);for(var r=[(e>>6*i)+n];i>0;){var s=e>>6*(i-1);r.push(128|63&s),i-=1}return r}}R.prototype={decode:function(t,e){var i;i="object"===typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"===typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=z(e),this._streaming||(this._decoder=new U({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var n,r=new F(i),s=[];!r.endOfStream()&&-1!==(n=this._decoder.handler(r,r.read()));)null!==n&&(Array.isArray(n)?s.push.apply(s,n):s.push(n));if(!this._streaming){do{if(-1===(n=this._decoder.handler(r,r.read())))break;null!==n&&(Array.isArray(n)?s.push.apply(s,n):s.push(n))}while(!r.endOfStream());this._decoder=null}return s.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===s[0]?(this._BOMseen=!0,s.shift()):this._BOMseen=!0)),function(t){for(var e="",i=0;i<t.length;++i){var n=t[i];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e}(s)}},V.prototype={encode:function(t,e){t=t?String(t):"",e=z(e),this._streaming||(this._encoder=new j(this._options)),this._streaming=Boolean(e.stream);for(var i,n=[],r=new F(function(t){for(var e=String(t),i=e.length,n=0,r=[];n<i;){var s=e.charCodeAt(n);if(s<55296||s>57343)r.push(s);else if(56320<=s&&s<=57343)r.push(65533);else if(55296<=s&&s<=56319)if(n===i-1)r.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=1023&s,l=1023&o;r.push(65536+(a<<10)+l),n+=1}else r.push(65533)}n+=1}return r}(t));!r.endOfStream()&&-1!==(i=this._encoder.handler(r,r.read()));)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;-1!==(i=this._encoder.handler(r,r.read()));)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};const W="function"===typeof Buffer?Buffer:null,$="function"===typeof TextDecoder&&"function"===typeof TextEncoder,H=(t=>{if($||!W){const e=new t("utf-8");return t=>e.decode(t)}return t=>{const{buffer:e,byteOffset:i,length:n}=Mt(t);return W.from(e,i,n).toString()}})("undefined"!==typeof TextDecoder?TextDecoder:R),K=(t=>{if($||!W){const e=new t;return t=>e.encode(t)}return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Mt(W.from(t,"utf8"))}})("undefined"!==typeof TextEncoder?TextEncoder:V),Y=Object.freeze({done:!0,value:void 0});class X{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class q{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Q extends q{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}async cancel(t){await this.return(t)}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Y);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return re.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return re.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}async throw(t){return await this.abort(t),Y}async return(t){return await this.close(),Y}async read(t){return(await this.next(t,"read")).value}async peek(t){return(await this.next(t,"peek")).value}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,e)=>{this.resolvers.push({resolve:t,reject:e})}):Promise.resolve(Y)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("".concat(this," is closed"))}}const[G,J]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[Z,tt]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[et,it]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),nt=t=>"number"===typeof t,rt=t=>"boolean"===typeof t,st=t=>"function"===typeof t,ot=t=>null!=t&&Object(t)===t,at=t=>ot(t)&&st(t.then),lt=t=>ot(t)&&st(t[Symbol.iterator]),ut=t=>ot(t)&&st(t[Symbol.asyncIterator]),ht=t=>ot(t)&&ot(t.schema),ct=t=>ot(t)&&"done"in t&&"value"in t,dt=t=>ot(t)&&st(t.stat)&&nt(t.fd),ft=t=>ot(t)&&pt(t.body),pt=t=>ot(t)&&st(t.cancel)&&st(t.getReader)&&!(t instanceof q),yt=t=>ot(t)&&st(t.read)&&st(t.pipe)&&rt(t.readable)&&!(t instanceof q);function bt(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new mt(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function mt(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(mt=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new mt(t)}var vt=D.ByteBuffer;const gt="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function wt(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const r=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,r),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,r));return s.set(o,i),t}function _t(t,e){let i,n,r,s=function(t){let e,i,n,r,s=t[0]?[t[0]]:[];for(let o,a,l=0,u=0,h=t.length;++l<h;)o=s[u],a=t[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset?a&&(s[++u]=a):(({byteOffset:e,byteLength:n}=o),({byteOffset:i,byteLength:r}=a),e+n<i||i+r<e?a&&(s[++u]=a):s[u]=new Uint8Array(o.buffer,e,i-e+r));return s}(t),o=s.reduce((t,e)=>t+e.byteLength,0),a=0,l=-1,u=Math.min(e||1/0,o);for(let h=s.length;++l<h;){if(i=s[l],n=i.subarray(0,Math.min(i.length,u-a)),u<=a+n.length){n.length<i.length?s[l]=i.subarray(n.length):n.length===i.length&&l++,r?wt(r,n,a):r=n;break}wt(r||(r=new Uint8Array(u)),n,a),a+=n.length}return[r||new Uint8Array(0),s.slice(l),o-(r?r.byteLength:0)]}function St(t,e){let i=ct(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"===typeof i&&(i=K(i)),i instanceof ArrayBuffer||i instanceof gt?new t(i):i instanceof vt?St(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0)}const xt=t=>St(Int8Array,t),Tt=t=>St(Int16Array,t),Et=t=>St(Int32Array,t),It=t=>St(Z,t),Mt=t=>St(Uint8Array,t),kt=t=>St(Uint16Array,t),Ct=t=>St(Uint32Array,t),Ot=t=>St(et,t),Bt=t=>St(Float32Array,t),Lt=t=>St(Float64Array,t),At=t=>St(Uint8ClampedArray,t),Dt=t=>(t.next(),t);function*Nt(t,e){const i=function*(t){yield t},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof gt?i(e):lt(e)?e:i(e);yield*Dt(function*(e){let i=null;do{i=e.next(yield St(t,i))}while(!i.done)}(n[Symbol.iterator]()))}const zt=t=>Nt(Int8Array,t),Ft=t=>Nt(Int16Array,t),Pt=t=>Nt(Int32Array,t),Rt=t=>Nt(Uint8Array,t),Vt=t=>Nt(Uint16Array,t),Ut=t=>Nt(Uint32Array,t),jt=t=>Nt(Float32Array,t),Wt=t=>Nt(Float64Array,t),$t=t=>Nt(Uint8ClampedArray,t);function Ht(t,e){return Kt.apply(this,arguments)}function Kt(){return(Kt=L((function*(t,e){if(at(e))return yield*A(bt(Ht(t,yield O(e))),O);const i=function(){var t=L((function*(t){yield yield O(t)}));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=L((function*(t){yield*A(bt(Dt(function*(t){let e=null;do{e=t.next(yield e&&e.value)}while(!e.done)}(t[Symbol.iterator]()))),O)}));return function(e){return t.apply(this,arguments)}}(),r="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof gt?i(e):lt(e)?n(e):ut(e)?e:i(e);yield*A(bt(Dt(function(){var e=L((function*(e){let i=null;do{i=yield O(e.next(yield St(t,i)))}while(!i.done)}));return function(t){return e.apply(this,arguments)}}()(r[Symbol.asyncIterator]()))),O)}))).apply(this,arguments)}const Yt=t=>Ht(Int8Array,t),Xt=t=>Ht(Int16Array,t),qt=t=>Ht(Int32Array,t),Qt=t=>Ht(Uint8Array,t),Gt=t=>Ht(Uint16Array,t),Jt=t=>Ht(Uint32Array,t),Zt=t=>Ht(Float32Array,t),te=t=>Ht(Float64Array,t),ee=t=>Ht(Uint8ClampedArray,t);function ie(t,e,i){if(0!==t){i=i.slice(0,e+1);for(let n=-1;++n<=e;)i[n]+=t}return i}function ne(t,e){let i=0,n=t.length;if(n!==e.length)return!1;if(n>0)do{if(t[i]!==e[i])return!1}while(++i<n);return!0}var re={fromIterable:t=>se(function*(t){let e,i,n,r,s=!1,o=[],a=0;({cmd:n,size:r}=yield null);let l=Rt(t)[Symbol.iterator]();try{do{if(({done:e,value:i}=isNaN(r-a)?l.next(void 0):l.next(r-a)),!e&&i.byteLength>0&&(o.push(i),a+=i.byteLength),e||r<=a)do{({cmd:n,size:r}=yield"peek"===n?_t(o,r)[0]:([i,o,a]=_t(o,r),i))}while(r<a)}while(!e)}catch(u){(s=!0)&&"function"===typeof l.throw&&l.throw(u)}finally{!1===s&&"function"===typeof l.return&&l.return()}}(t)),fromAsyncIterable:t=>se(function(t){return oe.apply(this,arguments)}(t)),fromDOMStream:t=>se(function(t){return ae.apply(this,arguments)}(t)),fromNodeStream:t=>se(function(t){return he.apply(this,arguments)}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}};const se=t=>(t.next(),t);function oe(){return(oe=L((function*(t){let e,i,n,r,s=!1,o=[],a=0;({cmd:n,size:r}=yield null);let l=Qt(t)[Symbol.asyncIterator]();try{do{if(({done:e,value:i}=isNaN(r-a)?yield O(l.next(void 0)):yield O(l.next(r-a))),!e&&i.byteLength>0&&(o.push(i),a+=i.byteLength),e||r<=a)do{({cmd:n,size:r}=yield"peek"===n?_t(o,r)[0]:([i,o,a]=_t(o,r),i))}while(r<a)}while(!e)}catch(u){(s=!0)&&"function"===typeof l.throw&&(yield O(l.throw(u)))}finally{!1===s&&"function"===typeof l.return&&(yield O(l.return()))}}))).apply(this,arguments)}function ae(){return(ae=L((function*(t){let e,i,n,r=!1,s=!1,o=[],a=0;({cmd:i,size:n}=yield null);let l=new le(t);try{do{if(({done:r,value:e}=isNaN(n-a)?yield O(l.read(void 0)):yield O(l.read(n-a))),!r&&e.byteLength>0&&(o.push(Mt(e)),a+=e.byteLength),r||n<=a)do{({cmd:i,size:n}=yield"peek"===i?_t(o,n)[0]:([e,o,a]=_t(o,n),e))}while(n<a)}while(!r)}catch(u){(s=!0)&&(yield O(l.cancel(u)))}finally{!1===s?yield O(l.cancel()):t.locked&&l.releaseLock()}}))).apply(this,arguments)}class le{constructor(t){this.source=t,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch(e){this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}async cancel(t){const{reader:e,source:i}=this;e&&await e.cancel(t).catch(()=>{}),i&&i.locked&&this.releaseLock()}async read(t){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=this.supportsBYOB&&"number"===typeof t?await this.readFromBYOBReader(t):await this.getDefaultReader().read();return!e.done&&(e.value=Mt(e)),e}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch(()=>{})),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch(()=>{})),this.reader=this.byobReader}async readFromBYOBReader(t){return await async function t(e,i,n,r){if(n>=r)return{done:!1,value:new Uint8Array(i,0,r)};const{done:s,value:o}=await e.read(new Uint8Array(i,n,r-n));if((n+=o.byteLength)<r&&!s)return await t(e,o.buffer,n,r);return{done:s,value:new Uint8Array(o.buffer,0,n)}}(this.getBYOBReader(),new ArrayBuffer(t),0,t)}}const ue=(t,e)=>{let i,n=t=>i([e,t]);return[e,n,new Promise(r=>(i=r)&&t.once(e,n))]};function he(){return(he=L((function*(t){let e,i,n,r=[],s="error",o=!1,a=null,l=0,u=[];if(({cmd:e,size:i}=yield null),t.isTTY)return yield new Uint8Array(0);try{r[0]=ue(t,"end"),r[1]=ue(t,"error");do{if(r[2]=ue(t,"readable"),[s,a]=yield O(Promise.race(r.map(t=>t[2]))),"error"===s)break;if((o="end"===s)||(isFinite(i-l)?(n=Mt(t.read(i-l)),n.byteLength<i-l&&(n=Mt(t.read(void 0)))):n=Mt(t.read(void 0)),n.byteLength>0&&(u.push(n),l+=n.byteLength)),o||i<=l)do{({cmd:e,size:i}=yield"peek"===e?_t(u,i)[0]:([n,u,l]=_t(u,i),n))}while(i<l)}while(!o)}finally{yield O(function(e,i){return n=u=null,new Promise(async(n,r)=>{for(const[i,o]of e)t.off(i,o);try{const e=t.destroy;e&&e.call(t,i),i=void 0}catch(s){i=s||i}finally{null!=i?r(i):n()}})}(r,"error"===s?a:null))}}))).apply(this,arguments)}var ce,de,fe,pe,ye,be=i(0);class me{}pe=ce||(ce={}),fe=pe.apache||(pe.apache={}),function(t){let e;!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4"}(e=t.MetadataVersion||(t.MetadataVersion={}))}((de=fe.arrow||(fe.arrow={})).flatbuf||(de.flatbuf={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(e=t.UnionMode||(t.UnionMode={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(e=t.Precision||(t.Precision={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(e=t.DateUnit||(t.DateUnit={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(e=t.TimeUnit||(t.TimeUnit={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME"}(e=t.IntervalUnit||(t.IntervalUnit={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(e=t.Type||(t.Type={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(e=t.Endianness||(t.Endianness={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return e.startNull(t),e.endNull(t)}}t.Null=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return e.startStruct_(t),e.endStruct_(t)}}t.Struct_=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return e.startList(t),e.endList(t)}}t.List=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeList(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startLargeList(t){t.startObject(0)}static endLargeList(t){return t.endObject()}static createLargeList(t){return e.startLargeList(t),e.endLargeList(t)}}t.LargeList=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}listSize(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,i){return e.startFixedSizeList(t),e.addListSize(t,i),e.endFixedSizeList(t)}}t.FixedSizeList=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){let t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,i){return e.startMap(t),e.addKeysSorted(t,i),e.endMap(t)}}t.Map=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.UnionMode.Sparse}typeIds(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.UnionMode.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,n){return i.startUnion(t),i.addMode(t,e),i.addTypeIds(t,n),i.endUnion(t)}}e.Union=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){let t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,i,n){return e.startInt(t),e.addBitWidth(t,i),e.addIsSigned(t,n),e.endInt(t)}}t.Int=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.Precision.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.Precision.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return i.startFloatingPoint(t),i.addPrecision(t,e),i.endFloatingPoint(t)}}e.FloatingPoint=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return e.startUtf8(t),e.endUtf8(t)}}t.Utf8=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return e.startBinary(t),e.endBinary(t)}}t.Binary=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeUtf8(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return e.startLargeUtf8(t),e.endLargeUtf8(t)}}t.LargeUtf8=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeBinary(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return e.startLargeBinary(t),e.endLargeBinary(t)}}t.LargeBinary=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,i){return e.startFixedSizeBinary(t),e.addByteWidth(t,i),e.endFixedSizeBinary(t)}}t.FixedSizeBinary=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return e.startBool(t),e.endBool(t)}}t.Bool=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}static startDecimal(t){t.startObject(2)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static endDecimal(t){return t.endObject()}static createDecimal(t,i,n){return e.startDecimal(t),e.addPrecision(t,i),e.addScale(t,n),e.endDecimal(t)}}t.Decimal=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.DateUnit.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.DateUnit.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return i.startDate(t),i.addUnit(t,e),i.endDate(t)}}e.Date=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.TimeUnit.MILLISECOND}bitWidth(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,n){return i.startTime(t),i.addUnit(t,e),i.addBitWidth(t,n),i.endTime(t)}}e.Time=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.TimeUnit.SECOND}timezone(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.TimeUnit.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,n){return i.startTimestamp(t),i.addUnit(t,e),i.addTimezone(t,n),i.endTimestamp(t)}}e.Timestamp=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return i.startInterval(t),i.addUnit(t,e),i.endInterval(t)}}e.Interval=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDuration(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.TimeUnit.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,e){return i.startDuration(t),i.addUnit(t,e),i.endDuration(t)}}e.Duration=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}key(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,i,n){return e.startKeyValue(t),e.addKey(t,i),e.addValue(t,n),e.endKeyValue(t)}}t.KeyValue=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new t.apache.arrow.flatbuf.Int).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isOrdered(){let t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryEncoding(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryEncoding(t){return t.endObject()}static createDictionaryEncoding(t,e,n,r){return i.startDictionaryEncoding(t),i.addId(t,e),i.addIndexType(t,n),i.addIsOrdered(t,r),i.endDictionaryEncoding(t)}}e.DictionaryEncoding=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){let t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):t.apache.arrow.flatbuf.Type.NONE}type(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new t.apache.arrow.flatbuf.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}children(e,i){let n=this.bb.__offset(this.bb_pos,14);return n?(i||new t.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}childrenLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,16);return n?(i||new t.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(e,i){e.addFieldInt8(2,i,t.apache.arrow.flatbuf.Type.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}static createField(t,e,n,r,s,o,a,l){return i.startField(t),i.addName(t,e),i.addNullable(t,n),i.addTypeType(t,r),i.addType(t,s),i.addDictionary(t,o),i.addChildren(t,a),i.addCustomMetadata(t,l),i.endField(t)}}e.Field=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){t.Buffer=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.Endianness.Little}fields(e,i){let n=this.bb.__offset(this.bb_pos,6);return n?(i||new t.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}fieldsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,8);return n?(i||new t.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(3)}static addEndianness(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.Endianness.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static createSchema(t,e,n,r){return i.startSchema(t),i.addEndianness(t,e),i.addFields(t,n),i.addCustomMetadata(t,r),i.endSchema(t)}}e.Schema=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ce||(ce={})),function(t){!function(t){!function(t){!function(t){t.Schema=ce.apache.arrow.flatbuf.Schema}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ye||(ye={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(e=t.MessageHeader||(t.MessageHeader={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ye||(ye={})),function(t){!function(t){!function(t){!function(t){t.FieldNode=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ye||(ye={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}length(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(e,i){let n=this.bb.__offset(this.bb_pos,6);return n?(i||new t.apache.arrow.flatbuf.FieldNode).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null}nodesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new ce.apache.arrow.flatbuf.Buffer).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startRecordBatch(t){t.startObject(3)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static endRecordBatch(t){return t.endObject()}static createRecordBatch(t,e,n,r){return i.startRecordBatch(t),i.addLength(t,e),i.addNodes(t,n),i.addBuffers(t,r),i.endRecordBatch(t)}}e.RecordBatch=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ye||(ye={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new t.apache.arrow.flatbuf.RecordBatch).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isDelta(){let t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}static createDictionaryBatch(t,e,n,r){return i.startDictionaryBatch(t),i.addId(t,e),i.addData(t,n),i.addIsDelta(t,r),i.endDictionaryBatch(t)}}e.DictionaryBatch=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ye||(ye={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ce.apache.arrow.flatbuf.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):t.apache.arrow.flatbuf.MessageHeader.NONE}header(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new ce.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,ce.apache.arrow.flatbuf.MetadataVersion.V1)}static addHeaderType(e,i){e.addFieldInt8(1,i,t.apache.arrow.flatbuf.MessageHeader.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static createMessage(t,e,n,r,s,o){return i.startMessage(t),i.addVersion(t,e),i.addHeaderType(t,n),i.addHeader(t,r),i.addBodyLength(t,s),i.addCustomMetadata(t,o),i.endMessage(t)}}e.Message=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ye||(ye={}));ce.apache.arrow.flatbuf.Type;var ve,ge,we=ce.apache.arrow.flatbuf.DateUnit,_e=ce.apache.arrow.flatbuf.TimeUnit,Se=ce.apache.arrow.flatbuf.Precision,xe=ce.apache.arrow.flatbuf.UnionMode,Te=ce.apache.arrow.flatbuf.IntervalUnit,Ee=ye.apache.arrow.flatbuf.MessageHeader,Ie=ce.apache.arrow.flatbuf.MetadataVersion;function Me(t,e,i,n){return 0!==(i&1<<n)}function ke(t,e,i,n){return(i&1<<n)>>n}function Ce(t,e,i){return i?!!(t[e>>3]|=1<<e%8)||!0:!(t[e>>3]&=~(1<<e%8))&&!1}function Oe(t,e,i){const n=i.byteLength+7&-8;if(t>0||i.byteLength<n){const r=new Uint8Array(n);return r.set(t%8===0?i.subarray(t>>3):Be(Le(i,t,e,null,Me)).subarray(0,n)),r}return i}function Be(t){let e=[],i=0,n=0,r=0;for(const o of t)o&&(r|=1<<n),8===++n&&(e[i++]=r,r=n=0);(0===i||n>0)&&(e[i++]=r);let s=new Uint8Array(e.length+7&-8);return s.set(e),s}function*Le(t,e,i,n,r){let s=e%8,o=e>>3,a=0,l=i;for(;l>0;s=0){let e=t[o++];do{yield r(n,a++,e,s)}while(--l>0&&++s<8)}}function Ae(t,e,i){if(i-e<=0)return 0;if(i-e<8){let n=0;for(const r of Le(t,e,i-e,t,ke))n+=r;return n}const n=i>>3<<3,r=e+(e%8===0?0:8-e%8);return Ae(t,e,r)+Ae(t,n,i)+De(t,r>>3,n-r>>3)}function De(t,e,i){let n=0,r=0|e;const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=void 0===i?t.byteLength:r+i;for(;o-r>=4;)n+=Ne(s.getUint32(r)),r+=4;for(;o-r>=2;)n+=Ne(s.getUint16(r)),r+=2;for(;o-r>=1;)n+=Ne(s.getUint8(r)),r+=1;return n}function Ne(t){let e=0|t;return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(ve||(ve={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(ge||(ge={}));class ze{visitMany(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.map((t,e)=>this.visit(t,...i.map(t=>t[e])))}visit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null,r=ve.NONE;e instanceof Bi||e instanceof me?r=Fe(e.type):e instanceof qe?r=Fe(e):"number"!==typeof(r=e)&&(r=ve[e]);switch(r){case ve.Null:n=t.visitNull;break;case ve.Bool:n=t.visitBool;break;case ve.Int:n=t.visitInt;break;case ve.Int8:n=t.visitInt8||t.visitInt;break;case ve.Int16:n=t.visitInt16||t.visitInt;break;case ve.Int32:n=t.visitInt32||t.visitInt;break;case ve.Int64:n=t.visitInt64||t.visitInt;break;case ve.Uint8:n=t.visitUint8||t.visitInt;break;case ve.Uint16:n=t.visitUint16||t.visitInt;break;case ve.Uint32:n=t.visitUint32||t.visitInt;break;case ve.Uint64:n=t.visitUint64||t.visitInt;break;case ve.Float:n=t.visitFloat;break;case ve.Float16:n=t.visitFloat16||t.visitFloat;break;case ve.Float32:n=t.visitFloat32||t.visitFloat;break;case ve.Float64:n=t.visitFloat64||t.visitFloat;break;case ve.Utf8:n=t.visitUtf8;break;case ve.Binary:n=t.visitBinary;break;case ve.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case ve.Date:n=t.visitDate;break;case ve.DateDay:n=t.visitDateDay||t.visitDate;break;case ve.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case ve.Timestamp:n=t.visitTimestamp;break;case ve.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case ve.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case ve.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case ve.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case ve.Time:n=t.visitTime;break;case ve.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case ve.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case ve.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case ve.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case ve.Decimal:n=t.visitDecimal;break;case ve.List:n=t.visitList;break;case ve.Struct:n=t.visitStruct;break;case ve.Union:n=t.visitUnion;break;case ve.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case ve.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case ve.Dictionary:n=t.visitDictionary;break;case ve.Interval:n=t.visitInterval;break;case ve.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case ve.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case ve.FixedSizeList:n=t.visitFixedSizeList;break;case ve.Map:n=t.visitMap}if("function"===typeof n)return n;if(!i)return()=>null;throw new Error("Unrecognized type '".concat(ve[r],"'"))}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function Fe(t){switch(t.typeId){case ve.Null:return ve.Null;case ve.Int:const{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?ve.Int8:ve.Uint8;case 16:return i?ve.Int16:ve.Uint16;case 32:return i?ve.Int32:ve.Uint32;case 64:return i?ve.Int64:ve.Uint64}return ve.Int;case ve.Float:switch(t.precision){case Se.HALF:return ve.Float16;case Se.SINGLE:return ve.Float32;case Se.DOUBLE:return ve.Float64}return ve.Float;case ve.Binary:return ve.Binary;case ve.Utf8:return ve.Utf8;case ve.Bool:return ve.Bool;case ve.Decimal:return ve.Decimal;case ve.Time:switch(t.unit){case _e.SECOND:return ve.TimeSecond;case _e.MILLISECOND:return ve.TimeMillisecond;case _e.MICROSECOND:return ve.TimeMicrosecond;case _e.NANOSECOND:return ve.TimeNanosecond}return ve.Time;case ve.Timestamp:switch(t.unit){case _e.SECOND:return ve.TimestampSecond;case _e.MILLISECOND:return ve.TimestampMillisecond;case _e.MICROSECOND:return ve.TimestampMicrosecond;case _e.NANOSECOND:return ve.TimestampNanosecond}return ve.Timestamp;case ve.Date:switch(t.unit){case we.DAY:return ve.DateDay;case we.MILLISECOND:return ve.DateMillisecond}return ve.Date;case ve.Interval:switch(t.unit){case Te.DAY_TIME:return ve.IntervalDayTime;case Te.YEAR_MONTH:return ve.IntervalYearMonth}return ve.Interval;case ve.Map:return ve.Map;case ve.List:return ve.List;case ve.Struct:return ve.Struct;case ve.Union:switch(t.mode){case xe.Dense:return ve.DenseUnion;case xe.Sparse:return ve.SparseUnion}return ve.Union;case ve.FixedSizeBinary:return ve.FixedSizeBinary;case ve.FixedSizeList:return ve.FixedSizeList;case ve.Dictionary:return ve.Dictionary}throw new Error("Unrecognized type '".concat(ve[t.typeId],"'"))}ze.prototype.visitInt8=null,ze.prototype.visitInt16=null,ze.prototype.visitInt32=null,ze.prototype.visitInt64=null,ze.prototype.visitUint8=null,ze.prototype.visitUint16=null,ze.prototype.visitUint32=null,ze.prototype.visitUint64=null,ze.prototype.visitFloat16=null,ze.prototype.visitFloat32=null,ze.prototype.visitFloat64=null,ze.prototype.visitDateDay=null,ze.prototype.visitDateMillisecond=null,ze.prototype.visitTimestampSecond=null,ze.prototype.visitTimestampMillisecond=null,ze.prototype.visitTimestampMicrosecond=null,ze.prototype.visitTimestampNanosecond=null,ze.prototype.visitTimeSecond=null,ze.prototype.visitTimeMillisecond=null,ze.prototype.visitTimeMicrosecond=null,ze.prototype.visitTimeNanosecond=null,ze.prototype.visitDenseUnion=null,ze.prototype.visitSparseUnion=null,ze.prototype.visitIntervalDayTime=null,ze.prototype.visitIntervalYearMonth=null;class Pe extends ze{compareSchemas(t,e){return t===e||e instanceof t.constructor&&Xe.compareFields(t.fields,e.fields)}compareFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((t,i)=>Xe.compareField(t,e[i]))}compareField(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&Xe.visit(t.type,e.type)}}function Re(t,e){return e instanceof t.constructor}function Ve(t,e){return t===e||Re(t,e)}function Ue(t,e){return t===e||Re(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function je(t,e){return t===e||Re(t,e)&&t.precision===e.precision}function We(t,e){return t===e||Re(t,e)&&t.unit===e.unit}function $e(t,e){return t===e||Re(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function He(t,e){return t===e||Re(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function Ke(t,e){return t===e||Re(t,e)&&t.mode===e.mode&&t.typeIds.every((t,i)=>t===e.typeIds[i])&&Xe.compareFields(t.children,e.children)}function Ye(t,e){return t===e||Re(t,e)&&t.unit===e.unit}Pe.prototype.visitNull=Ve,Pe.prototype.visitBool=Ve,Pe.prototype.visitInt=Ue,Pe.prototype.visitInt8=Ue,Pe.prototype.visitInt16=Ue,Pe.prototype.visitInt32=Ue,Pe.prototype.visitInt64=Ue,Pe.prototype.visitUint8=Ue,Pe.prototype.visitUint16=Ue,Pe.prototype.visitUint32=Ue,Pe.prototype.visitUint64=Ue,Pe.prototype.visitFloat=je,Pe.prototype.visitFloat16=je,Pe.prototype.visitFloat32=je,Pe.prototype.visitFloat64=je,Pe.prototype.visitUtf8=Ve,Pe.prototype.visitBinary=Ve,Pe.prototype.visitFixedSizeBinary=function(t,e){return t===e||Re(t,e)&&t.byteWidth===e.byteWidth},Pe.prototype.visitDate=We,Pe.prototype.visitDateDay=We,Pe.prototype.visitDateMillisecond=We,Pe.prototype.visitTimestamp=$e,Pe.prototype.visitTimestampSecond=$e,Pe.prototype.visitTimestampMillisecond=$e,Pe.prototype.visitTimestampMicrosecond=$e,Pe.prototype.visitTimestampNanosecond=$e,Pe.prototype.visitTime=He,Pe.prototype.visitTimeSecond=He,Pe.prototype.visitTimeMillisecond=He,Pe.prototype.visitTimeMicrosecond=He,Pe.prototype.visitTimeNanosecond=He,Pe.prototype.visitDecimal=Ve,Pe.prototype.visitList=function(t,e){return t===e||Re(t,e)&&t.children.length===e.children.length&&Xe.compareFields(t.children,e.children)},Pe.prototype.visitStruct=function(t,e){return t===e||Re(t,e)&&t.children.length===e.children.length&&Xe.compareFields(t.children,e.children)},Pe.prototype.visitUnion=Ke,Pe.prototype.visitDenseUnion=Ke,Pe.prototype.visitSparseUnion=Ke,Pe.prototype.visitDictionary=function(t,e){return t===e||Re(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&Xe.visit(t.indices,e.indices)&&Xe.visit(t.dictionary,e.dictionary)},Pe.prototype.visitInterval=Ye,Pe.prototype.visitIntervalDayTime=Ye,Pe.prototype.visitIntervalYearMonth=Ye,Pe.prototype.visitFixedSizeList=function(t,e){return t===e||Re(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&Xe.compareFields(t.children,e.children)},Pe.prototype.visitMap=function(t,e){return t===e||Re(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&Xe.compareFields(t.children,e.children)};const Xe=new Pe;class qe{static isNull(t){return t&&t.typeId===ve.Null}static isInt(t){return t&&t.typeId===ve.Int}static isFloat(t){return t&&t.typeId===ve.Float}static isBinary(t){return t&&t.typeId===ve.Binary}static isUtf8(t){return t&&t.typeId===ve.Utf8}static isBool(t){return t&&t.typeId===ve.Bool}static isDecimal(t){return t&&t.typeId===ve.Decimal}static isDate(t){return t&&t.typeId===ve.Date}static isTime(t){return t&&t.typeId===ve.Time}static isTimestamp(t){return t&&t.typeId===ve.Timestamp}static isInterval(t){return t&&t.typeId===ve.Interval}static isList(t){return t&&t.typeId===ve.List}static isStruct(t){return t&&t.typeId===ve.Struct}static isUnion(t){return t&&t.typeId===ve.Union}static isFixedSizeBinary(t){return t&&t.typeId===ve.FixedSizeBinary}static isFixedSizeList(t){return t&&t.typeId===ve.FixedSizeList}static isMap(t){return t&&t.typeId===ve.Map}static isDictionary(t){return t&&t.typeId===ve.Dictionary}get typeId(){return ve.NONE}compareTo(t){return Xe.visit(this,t)}}var Qe;qe[Symbol.toStringTag]=((Qe=qe.prototype).children=null,Qe.ArrayType=Array,Qe[Symbol.toStringTag]="DataType");class Ge extends qe{toString(){return"Null"}get typeId(){return ve.Null}}Ge[Symbol.toStringTag]=(t=>t[Symbol.toStringTag]="Null")(Ge.prototype);class Je extends qe{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return ve.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}Je[Symbol.toStringTag]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Je.prototype);class Ze extends Je{constructor(){super(!0,8)}}class ti extends Je{constructor(){super(!0,16)}}class ei extends Je{constructor(){super(!0,32)}}class ii extends Je{constructor(){super(!0,64)}}class ni extends Je{constructor(){super(!1,8)}}class ri extends Je{constructor(){super(!1,16)}}class si extends Je{constructor(){super(!1,32)}}class oi extends Je{constructor(){super(!1,64)}}Object.defineProperty(Ze.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(ti.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(ei.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(ii.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(ni.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(ri.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(si.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(oi.prototype,"ArrayType",{value:Uint32Array});class ai extends qe{constructor(t){super(),this.precision=t}get typeId(){return ve.Float}get ArrayType(){switch(this.precision){case Se.HALF:return Uint16Array;case Se.SINGLE:return Float32Array;case Se.DOUBLE:return Float64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"Float".concat(this.precision<<5||16)}}ai[Symbol.toStringTag]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(ai.prototype);class li extends ai{constructor(){super(Se.HALF)}}class ui extends ai{constructor(){super(Se.SINGLE)}}class hi extends ai{constructor(){super(Se.DOUBLE)}}Object.defineProperty(li.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(ui.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(hi.prototype,"ArrayType",{value:Float64Array});class ci extends qe{constructor(){super()}get typeId(){return ve.Binary}toString(){return"Binary"}}ci[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(ci.prototype);class di extends qe{constructor(){super()}get typeId(){return ve.Utf8}toString(){return"Utf8"}}di[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(di.prototype);class fi extends qe{constructor(){super()}get typeId(){return ve.Bool}toString(){return"Bool"}}fi[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(fi.prototype);class pi extends qe{constructor(t,e){super(),this.scale=t,this.precision=e}get typeId(){return ve.Decimal}toString(){return"Decimal[".concat(this.precision,"e").concat(this.scale>0?"+":"").concat(this.scale,"]")}}pi[Symbol.toStringTag]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(pi.prototype);class yi extends qe{constructor(t){super(),this.unit=t}get typeId(){return ve.Date}toString(){return"Date".concat(32*(this.unit+1),"<").concat(we[this.unit],">")}}yi[Symbol.toStringTag]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(yi.prototype);class bi extends yi{constructor(){super(we.DAY)}}class mi extends yi{constructor(){super(we.MILLISECOND)}}class vi extends qe{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return ve.Time}toString(){return"Time".concat(this.bitWidth,"<").concat(_e[this.unit],">")}}vi[Symbol.toStringTag]=(t=>(t.unit=null,t.bitWidth=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Time"))(vi.prototype);class gi extends qe{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return ve.Timestamp}toString(){return"Timestamp<".concat(_e[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}gi[Symbol.toStringTag]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(gi.prototype);class wi extends qe{constructor(t){super(),this.unit=t}get typeId(){return ve.Interval}toString(){return"Interval<".concat(Te[this.unit],">")}}wi[Symbol.toStringTag]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(wi.prototype);class _i extends qe{constructor(t){super(),this.children=[t]}get typeId(){return ve.List}toString(){return"List<".concat(this.valueType,">")}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}_i[Symbol.toStringTag]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(_i.prototype);class Si extends qe{constructor(t){super(),this.children=t}get typeId(){return ve.Struct}toString(){return"Struct<{".concat(this.children.map(t=>"".concat(t.name,":").concat(t.type)).join(", "),"}>")}}Si[Symbol.toStringTag]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Si.prototype);class xi extends qe{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((t,e,i)=>(t[e]=i)&&t||t,Object.create(null))}get typeId(){return ve.Union}toString(){return"".concat(this[Symbol.toStringTag],"<").concat(this.children.map(t=>"".concat(t.type)).join(" | "),">")}}xi[Symbol.toStringTag]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(xi.prototype);class Ti extends qe{constructor(t){super(),this.byteWidth=t}get typeId(){return ve.FixedSizeBinary}toString(){return"FixedSizeBinary[".concat(this.byteWidth,"]")}}Ti[Symbol.toStringTag]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Ti.prototype);class Ei extends qe{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return ve.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}Ei[Symbol.toStringTag]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Ei.prototype);class Ii extends qe{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return ve.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return"Map<{".concat(this.children[0].type.children.map(t=>"".concat(t.name,":").concat(t.type)).join(", "),"}>")}}Ii[Symbol.toStringTag]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Ii.prototype);const Mi=(ki=-1,()=>++ki);var ki;class Ci extends qe{constructor(t,e,i,n){super(),this.indices=e,this.dictionary=t,this.isOrdered=n||!1,this.id=null==i?Mi():"number"===typeof i?i:i.low}get typeId(){return ve.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return"Dictionary<".concat(this.indices,", ").concat(this.dictionary,">")}}function Oi(t){let e=t;switch(t.typeId){case ve.Decimal:return 4;case ve.Timestamp:return 2;case ve.Date:case ve.Interval:return 1+e.unit;case ve.Int:case ve.Time:return+(e.bitWidth>32)+1;case ve.FixedSizeList:return e.listSize;case ve.FixedSizeBinary:return e.byteWidth;default:return 1}}Ci[Symbol.toStringTag]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(Ci.prototype);class Bi{constructor(t,e,i,n,r,s,o){let a;this.type=t,this.dictionary=o,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),this.childData=(s||[]).map(t=>t instanceof Bi?t:t.data),r instanceof Bi?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=Oi(t),r&&((a=r[0])&&(this.valueOffsets=a),(a=r[1])&&(this.values=a),(a=r[2])&&(this.nullBitmap=a),(a=r[3])&&(this.typeIds=a)))}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0,{valueOffsets:e,values:i,nullBitmap:n,typeIds:r}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),this.childData.reduce((t,e)=>t+e.byteLength,t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Ae(t,this.offset,this.offset+this.length)),e}clone(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.childData;return new Bi(t,e,i,n,r,s,this.dictionary)}slice(t,e){const{stride:i,typeId:n,childData:r}=this,s=+(0===this._nullCount)-1,o=16===n?i:1,a=this._sliceBuffers(t,e,i,n);return this.clone(this.type,this.offset+t,e,s,a,!r.length||this.valueOffsets?r:this._sliceChildren(r,o*t,o*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===ve.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:i}=this,n=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);n[e>>3]=(1<<e-(-8&e))-1,i>0&&n.set(Oe(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[ge.VALIDITY]=n,this.clone(this.type,0,t,i+(t-e),r)}_sliceBuffers(t,e,i,n){let r,{buffers:s}=this;return(r=s[ge.TYPE])&&(s[ge.TYPE]=r.subarray(t,t+e)),(r=s[ge.OFFSET])&&(s[ge.OFFSET]=r.subarray(t,t+e+1))||(r=s[ge.DATA])&&(s[ge.DATA]=6===n?r:r.subarray(i*t,i*(t+e))),s}_sliceChildren(t,e,i){return t.map(t=>t.slice(e,i))}static new(t,e,i,n,r,s,o){switch(r instanceof Bi?r=r.buffers:r||(r=[]),t.typeId){case ve.Null:return Bi.Null(t,e,i);case ve.Int:return Bi.Int(t,e,i,n||0,r[ge.VALIDITY],r[ge.DATA]||[]);case ve.Dictionary:return Bi.Dictionary(t,e,i,n||0,r[ge.VALIDITY],r[ge.DATA]||[],o);case ve.Float:return Bi.Float(t,e,i,n||0,r[ge.VALIDITY],r[ge.DATA]||[]);case ve.Bool:return Bi.Bool(t,e,i,n||0,r[ge.VALIDITY],r[ge.DATA]||[]);case ve.Decimal:return Bi.Decimal(t,e,i,n||0,r[ge.VALIDITY],r[ge.DATA]||[]);case ve.Date:return Bi.Date(t,e,i,n||0,r[ge.VALIDITY],r[ge.DATA]||[]);case ve.Time:return Bi.Time(t,e,i,n||0,r[ge.VALIDITY],r[ge.DATA]||[]);case ve.Timestamp:return Bi.Timestamp(t,e,i,n||0,r[ge.VALIDITY],r[ge.DATA]||[]);case ve.Interval:return Bi.Interval(t,e,i,n||0,r[ge.VALIDITY],r[ge.DATA]||[]);case ve.FixedSizeBinary:return Bi.FixedSizeBinary(t,e,i,n||0,r[ge.VALIDITY],r[ge.DATA]||[]);case ve.Binary:return Bi.Binary(t,e,i,n||0,r[ge.VALIDITY],r[ge.OFFSET]||[],r[ge.DATA]||[]);case ve.Utf8:return Bi.Utf8(t,e,i,n||0,r[ge.VALIDITY],r[ge.OFFSET]||[],r[ge.DATA]||[]);case ve.List:return Bi.List(t,e,i,n||0,r[ge.VALIDITY],r[ge.OFFSET]||[],(s||[])[0]);case ve.FixedSizeList:return Bi.FixedSizeList(t,e,i,n||0,r[ge.VALIDITY],(s||[])[0]);case ve.Struct:return Bi.Struct(t,e,i,n||0,r[ge.VALIDITY],s||[]);case ve.Map:return Bi.Map(t,e,i,n||0,r[ge.VALIDITY],r[ge.OFFSET]||[],(s||[])[0]);case ve.Union:return Bi.Union(t,e,i,n||0,r[ge.VALIDITY],r[ge.TYPE]||[],r[ge.OFFSET]||s,s)}throw new Error("Unrecognized typeId ".concat(t.typeId))}static Null(t,e,i){return new Bi(t,e,i,0)}static Int(t,e,i,n,r,s){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,s),Mt(r)])}static Dictionary(t,e,i,n,r,s,o){return new Bi(t,e,i,n,[void 0,St(t.indices.ArrayType,s),Mt(r)],[],o)}static Float(t,e,i,n,r,s){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,s),Mt(r)])}static Bool(t,e,i,n,r,s){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,s),Mt(r)])}static Decimal(t,e,i,n,r,s){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,s),Mt(r)])}static Date(t,e,i,n,r,s){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,s),Mt(r)])}static Time(t,e,i,n,r,s){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,s),Mt(r)])}static Timestamp(t,e,i,n,r,s){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,s),Mt(r)])}static Interval(t,e,i,n,r,s){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,s),Mt(r)])}static FixedSizeBinary(t,e,i,n,r,s){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,s),Mt(r)])}static Binary(t,e,i,n,r,s,o){return new Bi(t,e,i,n,[Et(s),Mt(o),Mt(r)])}static Utf8(t,e,i,n,r,s,o){return new Bi(t,e,i,n,[Et(s),Mt(o),Mt(r)])}static List(t,e,i,n,r,s,o){return new Bi(t,e,i,n,[Et(s),void 0,Mt(r)],[o])}static FixedSizeList(t,e,i,n,r,s){return new Bi(t,e,i,n,[void 0,void 0,Mt(r)],[s])}static Struct(t,e,i,n,r,s){return new Bi(t,e,i,n,[void 0,void 0,Mt(r)],s)}static Map(t,e,i,n,r,s,o){return new Bi(t,e,i,n,[Et(s),void 0,Mt(r)],[o])}static Union(t,e,i,n,r,s,o,a){const l=[void 0,void 0,Mt(r),St(t.ArrayType,s)];return t.mode===xe.Sparse?new Bi(t,e,i,n,l,o):(l[ge.OFFSET]=Et(o),new Bi(t,e,i,n,l,a))}}Bi.prototype.childData=Object.freeze([]);function Li(t){if(null===t)return"null";if(void 0===t)return"undefined";switch(typeof t){case"number":case"bigint":return"".concat(t);case"string":return'"'.concat(t,'"')}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?"[".concat(t,"]"):JSON.stringify(t)}function Ai(t){if(!t||t.length<=0)return function(t){return!0};let e="",i=t.filter(t=>t===t);return i.length>0&&(e="\n    switch (x) {".concat(i.map(t=>"\n        case ".concat(function(t){if("bigint"!==typeof t)return Li(t);if(J)return"".concat(Li(t),"n");return'"'.concat(Li(t),'"')}(t),":")).join(""),"\n            return false;\n    }")),t.length!==i.length&&(e="if (x !== x) return false;\n".concat(e)),new Function("x","".concat(e,"\nreturn true;"))}const Di=(t,e)=>(t*e+63&-64||64)/e;class Ni{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.buffer=t,this.stride=e,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=t.length/e|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,e){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const e=this.stride,i=this.length*e,n=this.buffer.length;i>=n&&this._resize(Di(0===n?1*i:2*i,this.BYTES_PER_ELEMENT))}return this}flush(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;t=Di(t*this.stride,this.BYTES_PER_ELEMENT);const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.length>=e?t.subarray(0,e):wt(new t.constructor(e),t,0)}(this.buffer,t);return this.clear(),e}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=wt(new this.ArrayType(t),this.buffer)}}Ni.prototype.offset=0;class zi extends Ni{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,e){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=e,this}}class Fi extends zi{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array(0),1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,e){const{buffer:i}=this.reserve(t-this.length+1),n=t>>3,r=t%8,s=i[n]>>r&1;return e?0===s&&(i[n]|=1<<r,++this.numValid):1===s&&(i[n]&=~(1<<r),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Pi extends zi{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Int32Array(1),1)}append(t){return this.set(this.length-1,t)}set(t,e){const i=this.length-1,n=this.reserve(t-i+1).buffer;return i<t++&&n.fill(n[i],i,t),n[t]=n[t-1]+e,this}flush(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length-1;return t>this.length&&this.set(t-1,0),super.flush(t+1)}}class Ri extends Ni{get ArrayType64(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?Z:et)}set(t,e){switch(this.reserve(t-this.length+1),typeof e){case"bigint":this.buffer64[t]=e;break;case"number":this.buffer[t*this.stride]=e;break;default:this.buffer.set(e,t*this.stride)}return this}_resize(t){const e=super._resize(t),i=e.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return J&&(this.buffer64=new this.ArrayType64(e.buffer,e.byteOffset,i)),e}}function Vi(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(Vi=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new Vi(t)}class Ui{constructor(t){let{type:e,nullValues:i}=t;this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=i,this.stride=Oi(e),this._nulls=new Fi,i&&i.length>0&&(this._isValid=Ai(i))}static new(t){}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}static throughIterable(t){return function(t){const{queueingStrategy:e="count"}=t,{highWaterMark:i=("bytes"!==e?1e3:16384)}=t,n="bytes"!==e?"length":"byteLength";return function*(e){let r=0,s=Ui.new(t);for(const t of e)s.append(t)[n]>=i&&++r&&(yield s.toVector());(s.finish().length>0||0===r)&&(yield s.toVector())}}(t)}static throughAsyncIterable(t){return function(t){const{queueingStrategy:e="count"}=t,{highWaterMark:i=("bytes"!==e?1e3:16384)}=t,n="bytes"!==e?"length":"byteLength";return function(){var e=L((function*(e){let r=0,s=Ui.new(t);var o,a=!1,l=!1;try{for(var u,h=function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new Vi(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(e);a=!(u=yield O(h.next())).done;a=!1){const t=u.value;s.append(t)[n]>=i&&++r&&(yield s.toVector())}}catch(c){l=!0,o=c}finally{try{a&&null!=h.return&&(yield O(h.return()))}finally{if(l)throw o}}(s.finish().length>0||0===r)&&(yield s.toVector())}));return function(t){return e.apply(this,arguments)}}()}(t)}toVector(){return me.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),this._typeIds&&(t+=this._typeIds.byteLength),this.children.reduce((t,e)=>t+e.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((t,e)=>t+e.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,e){return this.setValid(t,this.isValid(e))&&this.setValue(t,e),this}setValue(t,e){this._setValue(this,t,e)}setValid(t,e){return this.length=this._nulls.set(t,+e).length,e}addChild(t){arguments.length>1&&void 0!==arguments[1]||"".concat(this.numChildren);throw new Error('Cannot append children to non-nested type "'.concat(this.type,'"'))}getChildAt(t){return this.children[t]||null}flush(){const t=[],e=this._values,i=this._offsets,n=this._typeIds,{length:r,nullCount:s}=this;n?(t[ge.TYPE]=n.flush(r),i&&(t[ge.OFFSET]=i.flush(r))):i?(e&&(t[ge.DATA]=e.flush(i.last())),t[ge.OFFSET]=i.flush(r)):e&&(t[ge.DATA]=e.flush(r)),s>0&&(t[ge.VALIDITY]=this._nulls.flush(r));const o=Bi.new(this.type,0,r,s,t,this.children.map(t=>t.flush()));return this.clear(),o}finish(){return this.finished=!0,this.children.forEach(t=>t.finish()),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach(t=>t.clear()),this}}Ui.prototype.length=1,Ui.prototype.stride=1,Ui.prototype.children=null,Ui.prototype.finished=!1,Ui.prototype.nullValues=null,Ui.prototype._isValid=()=>!0;class ji extends Ui{constructor(t){super(t),this._values=new zi(new this.ArrayType(0),this.stride)}setValue(t,e){const i=this._values;return i.reserve(t-i.length+1),super.setValue(t,e)}}class Wi extends Ui{constructor(t){super(t),this._pendingLength=0,this._offsets=new Pi}setValue(t,e){const i=this._pending||(this._pending=new Map),n=i.get(t);n&&(this._pendingLength-=n.length),this._pendingLength+=e.length,i.set(t,e)}setValid(t,e){return!!super.setValid(t,e)||((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,e=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,e),this}}class $i extends Ui{constructor(t){super(t),this._values=new Fi}setValue(t,e){this._values.set(t,+e)}}class Hi extends Ui{setValue(t,e){}setValid(t,e){return this.length=Math.max(t+1,this.length),e}}class Ki extends ji{}class Yi extends Ki{}class Xi extends Ki{}class qi extends ji{}class Qi extends Ui{constructor(t){let{type:e,nullValues:i,dictionaryHashFunction:n}=t;super({type:new Ci(e.dictionary,e.indices,e.id,e.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Ui.new({type:this.type.indices,nullValues:i}),this.dictionary=Ui.new({type:this.type.dictionary,nullValues:null}),"function"===typeof n&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,e){const i=this.indices;return e=i.setValid(t,e),this.length=i.length,e}setValue(t,e){let i=this._keysToIndices,n=this.valueToKey(e),r=i[n];return void 0===r&&(i[n]=r=this._dictionaryOffset+this.dictionary.append(e).length-1),this.indices.setValue(t,r)}flush(){const t=this.type,e=this._dictionary,i=this.dictionary.toVector(),n=this.indices.flush().clone(t);return n.dictionary=e?e.concat(i):i,this.finished||(this._dictionaryOffset+=i.length),this._dictionary=n.dictionary,this.clear(),n}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return"string"===typeof t?t:"".concat(t)}}class Gi extends ji{}const Ji=new Float64Array(1),Zi=new Uint32Array(Ji.buffer);function tn(t){let e=(31744&t)>>10,i=(1023&t)/1024,n=(-1)**((32768&t)>>15);switch(e){case 31:return n*(i?NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*2**(e-15)*(1+i)}function en(t){if(t!==t)return 32256;Ji[0]=t;let e=(2147483648&Zi[1])>>16&65535,i=2146435072&Zi[1],n=0;return i>=1089470464?Zi[0]>0?i=31744:(i=(2080374784&i)>>16,n=(1048575&Zi[1])>>10):i<=1056964608?(n=1048576+(1048575&Zi[1]),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=512+(1048575&Zi[1])>>10),e|i|65535&n}class nn extends ji{}class rn extends nn{setValue(t,e){this._values.set(t,en(e))}}class sn extends nn{setValue(t,e){this._values.set(t,e)}}class on extends nn{setValue(t,e){this._values.set(t,e)}}const an=Symbol.for("isArrowBigNum");function ln(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return 0===i.length?Object.setPrototypeOf(St(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...i),this.constructor.prototype)}function un(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return ln.apply(this,e)}function hn(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return ln.apply(this,e)}function cn(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return ln.apply(this,e)}function dn(t){let e,i,{buffer:n,byteOffset:r,length:s,signed:o}=t,a=new Int32Array(n,r,s),l=0,u=0,h=a.length;for(;u<h;)i=a[u++],e=a[u++],o||(e>>>=0),l+=(i>>>0)+e*u**32;return l}let fn,pn;function yn(t){let e="",i=new Uint32Array(2),n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),r=new Uint32Array((n=new Uint16Array(n).reverse()).buffer),s=-1,o=n.length-1;do{for(i[0]=n[s=0];s<o;)n[s++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+n[s];n[s]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e="".concat(i[0]).concat(e)}while(r[0]||r[1]||r[2]||r[3]);return e||"0"}ln.prototype[an]=!0,ln.prototype.toJSON=function(){return'"'.concat(fn(this),'"')},ln.prototype.valueOf=function(){return dn(this)},ln.prototype.toString=function(){return fn(this)},ln.prototype[Symbol.toPrimitive]=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";switch(t){case"number":return dn(this);case"string":return fn(this);case"default":return pn(this)}return fn(this)},Object.setPrototypeOf(un.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(hn.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(cn.prototype,Object.create(Uint32Array.prototype)),Object.assign(un.prototype,ln.prototype,{constructor:un,signed:!0,TypedArray:Int32Array,BigIntArray:Z}),Object.assign(hn.prototype,ln.prototype,{constructor:hn,signed:!1,TypedArray:Uint32Array,BigIntArray:et}),Object.assign(cn.prototype,ln.prototype,{constructor:cn,signed:!0,TypedArray:Uint32Array,BigIntArray:et}),J?(pn=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:yn(t),fn=t=>8===t.byteLength?"".concat(new t.BigIntArray(t.buffer,t.byteOffset,1)[0]):yn(t)):(fn=yn,pn=fn);class bn{constructor(t,e){return bn.new(t,e)}static new(t,e){switch(e){case!0:return new un(t);case!1:return new hn(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case Z:return new un(t)}return 16===t.byteLength?new cn(t):new hn(t)}static signed(t){return new un(t)}static unsigned(t){return new hn(t)}static decimal(t){return new cn(t)}}class mn extends ji{setValue(t,e){this._values.set(t,e)}}class vn extends mn{}class gn extends mn{}class wn extends mn{}class _n extends mn{constructor(t){t.nullValues&&(t.nullValues=t.nullValues.map(In)),super(t),this._values=new Ri(new Int32Array(0),2)}get values64(){return this._values.buffer64}isValid(t){return super.isValid(In(t))}}class Sn extends mn{}class xn extends mn{}class Tn extends mn{}class En extends mn{constructor(t){t.nullValues&&(t.nullValues=t.nullValues.map(In)),super(t),this._values=new Ri(new Uint32Array(0),2)}get values64(){return this._values.buffer64}isValid(t){return super.isValid(In(t))}}const In=(Mn={BigIntArray:Z},t=>(ArrayBuffer.isView(t)&&(Mn.buffer=t.buffer,Mn.byteOffset=t.byteOffset,Mn.byteLength=t.byteLength,t=pn(Mn),Mn.buffer=null),t));var Mn;class kn extends ji{}class Cn extends kn{}class On extends kn{}class Bn extends kn{}class Ln extends kn{}class An extends ji{}class Dn extends An{}class Nn extends An{}class zn extends An{}class Fn extends An{}class Pn extends ji{}class Rn extends Pn{}class Vn extends Pn{}class Un extends Wi{constructor(t){super(t),this._values=new Ni(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+4*this.length;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,Mt(e))}_flushPending(t,e){const i=this._offsets,n=this._values.reserve(e).buffer;let r,s=0,o=0,a=0;for([s,r]of t)void 0===r?i.set(s,0):(o=r.length,n.set(r,a),i.set(s,o),a+=o)}}class jn extends Wi{constructor(t){super(t),this._values=new Ni(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+4*this.length;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,K(e))}_flushPending(t,e){}}jn.prototype._flushPending=Un.prototype._flushPending;class Wn{get length(){return this._values.length}get(t){return this._values[t]}clear(){return this._values=null,this}bind(t){return t instanceof me?t:(this._values=t,this)}}const $n=Symbol.for("parent"),Hn=Symbol.for("rowIndex"),Kn=Symbol.for("keyToIdx"),Yn=Symbol.for("idxToVal"),Xn=Symbol.for("nodejs.util.inspect.custom");class qn{constructor(t,e){this[$n]=t,this.size=e}entries(){return this[Symbol.iterator]()}has(t){return void 0!==this.get(t)}get(t){let e=void 0;if(null!==t&&void 0!==t){const i=this[Kn]||(this[Kn]=new Map);let n=i.get(t);if(void 0!==n){const t=this[Yn]||(this[Yn]=new Array(this.size));void 0!==(e=t[n])||(t[n]=e=this.getValue(n))}else if((n=this.getIndex(t))>-1){i.set(t,n);const r=this[Yn]||(this[Yn]=new Array(this.size));void 0!==(e=r[n])||(r[n]=e=this.getValue(n))}}return e}set(t,e){if(null!==t&&void 0!==t){const i=this[Kn]||(this[Kn]=new Map);let n=i.get(t);if(void 0===n&&i.set(t,n=this.getIndex(t)),n>-1){(this[Yn]||(this[Yn]=new Array(this.size)))[n]=this.setValue(n,e)}}return this}clear(){throw new Error("Clearing ".concat(this[Symbol.toStringTag]," not supported."))}delete(t){throw new Error("Deleting ".concat(this[Symbol.toStringTag]," values not supported."))}*[Symbol.iterator](){const t=this.keys(),e=this.values(),i=this[Kn]||(this[Kn]=new Map),n=this[Yn]||(this[Yn]=new Array(this.size));for(let r,s,o,a,l=0;!(o=t.next()).done&&!(a=e.next()).done;++l)r=o.value,s=a.value,n[l]=s,i.has(r)||i.set(r,l),yield[r,s]}forEach(t,e){const i=this.keys(),n=this.values(),r=void 0===e?t:(i,n,r)=>t.call(e,i,n,r),s=this[Kn]||(this[Kn]=new Map),o=this[Yn]||(this[Yn]=new Array(this.size));for(let a,l,u,h,c=0;!(u=i.next()).done&&!(h=n.next()).done;++c)a=u.value,l=h.value,o[c]=l,s.has(a)||s.set(a,c),r(l,a,this)}toArray(){return[...this.values()]}toJSON(){const t={};return this.forEach((e,i)=>t[i]=e),t}inspect(){return this.toString()}[Xn](){return this.toString()}toString(){const t=[];return this.forEach((e,i)=>{i=Li(i),e=Li(e),t.push("".concat(i,": ").concat(e))}),"{ ".concat(t.join(", ")," }")}}qn[Symbol.toStringTag]=(t=>(Object.defineProperties(t,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[$n]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Hn]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),t[Symbol.toStringTag]="Row"))(qn.prototype);class Qn extends qn{constructor(t){return super(t,t.length),Zn(this)}keys(){return this[$n].getChildAt(0)[Symbol.iterator]()}values(){return this[$n].getChildAt(1)[Symbol.iterator]()}getKey(t){return this[$n].getChildAt(0).get(t)}getIndex(t){return this[$n].getChildAt(0).indexOf(t)}getValue(t){return this[$n].getChildAt(1).get(t)}setValue(t,e){this[$n].getChildAt(1).set(t,e)}}class Gn extends qn{constructor(t){return super(t,t.type.children.length),Jn(this)}*keys(){for(const t of this[$n].type.children)yield t.name}*values(){for(const t of this[$n].type.children)yield this[t.name]}getKey(t){return this[$n].type.children[t].name}getIndex(t){return this[$n].type.children.findIndex(e=>e.name===t)}getValue(t){return this[$n].getChildAt(t).get(this[Hn])}setValue(t,e){return this[$n].getChildAt(t).set(this[Hn],e)}}Object.setPrototypeOf(qn.prototype,Map.prototype);const Jn=(()=>{const t={enumerable:!0,configurable:!1,get:null,set:null};return e=>{let i=-1,n=e[Kn]||(e[Kn]=new Map);const r=t=>function(){return this.get(t)},s=t=>function(e){return this.set(t,e)};for(const o of e.keys())n.set(o,++i),t.get=r(o),t.set=s(o),e.hasOwnProperty(o)||(t.enumerable=!0,Object.defineProperty(e,o,t)),e.hasOwnProperty(i)||(t.enumerable=!1,Object.defineProperty(e,i,t));return t.get=t.set=null,e}})(),Zn=(()=>{if("undefined"===typeof Proxy)return Jn;const t=qn.prototype.has,e=qn.prototype.get,i=qn.prototype.set,n=qn.prototype.getKey,r={isExtensible:()=>!1,deleteProperty:()=>!1,preventExtensions:()=>!0,ownKeys:t=>[...t.keys()].map(t=>"".concat(t)),has(t,e){switch(e){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case $n:case Hn:case Yn:case Kn:case Xn:return!0}return"number"!==typeof e||t.has(e)||(e=t.getKey(e)),t.has(e)},get(i,r,s){switch(r){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case $n:case Hn:case Yn:case Kn:case Xn:return Reflect.get(i,r,s)}return"number"!==typeof r||t.call(s,r)||(r=n.call(s,r)),e.call(s,r)},set(e,r,s,o){switch(r){case $n:case Hn:case Yn:case Kn:return Reflect.set(e,r,s,o);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return"number"!==typeof r||t.call(o,r)||(r=n.call(o,r)),!!t.call(o,r)&&!!i.call(o,r,s)}};return t=>new Proxy(t,r)})();function tr(t,e,i){const n=t.length,r=e>-1?e:n+e%n;return i?i(t,r):r}let er;function ir(t,e,i,n){let{length:r=0}=t,s="number"!==typeof e?0:e,o="number"!==typeof i?r:i;return s<0&&(s=(s%r+r)%r),o<0&&(o=(o%r+r)%r),o<s&&(er=s,s=o,o=er),o>r&&(o=r),n?n(t,s,o):[s,o]}const nr=J?G(0):0,rr=t=>t!==t;function sr(t){let e=typeof t;if("object"!==e||null===t)return rr(t)?rr:"bigint"!==e?e=>e===t:e=>nr+e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&ne(t,e):t instanceof Map?function(t){let e=-1;const i=[];return t.forEach(t=>i[++e]=sr(t)),or(i)}(t):Array.isArray(t)?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=sr(t[i]);return or(e)}(t):t instanceof me?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=sr(t.get(i));return or(e)}(t):function(t){const e=Object.keys(t);if(0===e.length)return()=>!1;const i=[];for(let n=-1,r=e.length;++n<r;)i[n]=sr(t[e[n]]);return or(i,e)}(t)}function or(t,e){return i=>{if(!i||"object"!==typeof i)return!1;switch(i.constructor){case Array:return function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e[n]))return!1;return!0}(t,i);case Map:case Qn:case Gn:return ar(t,i,i.keys());case Object:case void 0:return ar(t,i,e||Object.keys(i))}return i instanceof me&&function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e.get(n)))return!1;return!0}(t,i)}}function ar(t,e,i){const n=i[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0,a=t.length,l=s.next(),u=n.next(),h=r.next();for(;o<a&&!u.done&&!h.done&&!l.done&&(u.value===h.value&&t[o](l.value));++o,u=n.next(),h=r.next(),l=s.next());return!!(o===a&&u.done&&h.done&&l.done)||(n.return&&n.return(),r.return&&r.return(),s.return&&s.return(),!1)}class lr extends me{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){let e=new Uint32Array((t||[]).length+1),i=e[0]=0,n=e.length;for(let r=0;++r<n;)e[r]=i+=t[r-1].length;return e}(e);super(),this._nullCount=-1,this._type=t,this._chunks=e,this._chunkOffsets=i,this._length=i[i.length-1],this._numChildren=(this._type.children||[]).length}static flatten(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return br(me,e)}static concat(){const t=lr.flatten(...arguments);return new lr(t[0].type,t)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return"Chunked<".concat(this._type,">")}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce((t,e)=>t+e.byteLength,0)}get nullCount(){let t=this._nullCount;return t<0&&(this._nullCount=t=this._chunks.reduce((t,e)=>{let{nullCount:i}=e;return t+i},0)),t}get indices(){if(qe.isDictionary(this._type)){if(!this._indices){const t=this._chunks;this._indices=1===t.length?t[0].indices:lr.concat(...t.map(t=>t.indices))}return this._indices}return null}get dictionary(){return qe.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}*[Symbol.iterator](){for(const t of this._chunks)yield*t}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._chunks;return new lr(this._type,t)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.clone(lr.flatten(this,...e))}slice(t,e){return ir(this,t,e,this._sliceInternal)}getChildAt(t){if(t<0||t>=this._numChildren)return null;let e,i,n,r=this._children||(this._children=[]);return(e=r[t])?e:(i=(this._type.children||[])[t])&&(n=this._chunks.map(e=>e.getChildAt(t)).filter(t=>null!=t),n.length>0)?r[t]=new lr(i.type,n):null}search(t,e){let i=t,n=this._chunkOffsets,r=n.length-1;if(i<0)return null;if(i>=n[r])return null;if(r<=1)return e?e(this,0,i):[0,i];let s=0,o=0,a=0;do{if(s+1===r)return e?e(this,s,i-o):[s,i-o];a=s+(r-s)/2|0,i>=n[a]?s=a:r=a}while(i<n[r]&&i>=(o=n[s]));return null}isValid(t){return!!this.search(t,this.isValidInternal)}get(t){return this.search(t,this.getInternal)}set(t,e){this.search(t,(t,i,n)=>{let{chunks:r}=t;return r[i].set(n,e)})}indexOf(t,e){return e&&"number"===typeof e?this.search(e,(e,i,n)=>this.indexOfInternal(e,i,n,t)):this.indexOfInternal(this,0,Math.max(0,e||0),t)}toArray(){const{chunks:t}=this,e=t.length;let i=this._type.ArrayType;if(e<=0)return new i(0);if(e<=1)return t[0].toArray();let n=0,r=new Array(e);for(let a=-1;++a<e;)n+=(r[a]=t[a].toArray()).length;i!==r[0].constructor&&(i=r[0].constructor);let s=new i(n),o=i===Array?hr:ur;for(let a=-1,l=0;++a<e;)l=o(r[a],s,l);return s}getInternal(t,e,i){let{_chunks:n}=t;return n[e].get(i)}isValidInternal(t,e,i){let{_chunks:n}=t;return n[e].isValid(i)}indexOfInternal(t,e,i,n){let{_chunks:r}=t,s=e-1,o=r.length,a=i,l=0,u=-1;for(;++s<o;){if(~(u=r[s].indexOf(n,a)))return l+u;a=0,l+=r[s].length}return-1}_sliceInternal(t,e,i){const n=[],{chunks:r,_chunkOffsets:s}=t;for(let o=-1,a=r.length;++o<a;){const t=r[o],a=t.length,l=s[o];if(l>=i)break;if(e>=l+a)continue;if(l>=e&&l+a<=i){n.push(t);continue}const u=Math.max(0,e-l),h=Math.min(i-l,a);n.push(t.slice(u,h))}return t.clone(n)}}const ur=(t,e,i)=>(e.set(t,i),i+t.length),hr=(t,e,i)=>{let n=i;for(let r=-1,s=t.length;++r<s;)e[n++]=t[r];return n};class cr extends lr{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;if(e=lr.flatten(...e),super(t.type,e,i),this._field=t,1===e.length&&!(this instanceof dr))return new dr(t,e[0],this._chunkOffsets)}static new(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];const s=lr.flatten(Array.isArray(e)?[...e,...n]:e instanceof me?[e,...n]:[me.new(e,...n)]);if("string"===typeof t){const e=s[0].data.type;t=new Sr(t,e,!0)}else!t.nullable&&s.some(t=>{let{nullCount:e}=t;return e>0})&&(t=t.clone({nullable:!0}));return new cr(t,s)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._chunks;return new cr(this._field,t)}getChildAt(t){if(t<0||t>=this.numChildren)return null;let e,i,n,r=this._children||(this._children=[]);return(e=r[t])?e:(i=(this.type.children||[])[t])&&(n=this._chunks.map(e=>e.getChildAt(t)).filter(t=>null!=t),n.length>0)?r[t]=new cr(i,n):null}}class dr extends cr{constructor(t,e,i){super(t,[e],i),this._chunk=e}search(t,e){return e?e(this,0,t):[0,t]}isValid(t){return this._chunk.isValid(t)}get(t){return this._chunk.get(t)}set(t,e){this._chunk.set(t,e)}indexOf(t,e){return this._chunk.indexOf(t,e)}}const fr=Array.isArray,pr=(t,e)=>vr(t,e,[],0),yr=t=>wr(t,[[],[]]),br=(t,e)=>function t(e,i,n,r){let s,o=r,a=-1,l=i.length;for(;++a<l;)fr(s=i[a])?o=t(e,s,n,o).length:s instanceof lr?o=t(e,s.chunks,n,o).length:s instanceof e&&(n[o++]=s);return n}(t,e,[],0),mr=(t,e)=>function t(e,i,n,r){let s,o=r,a=-1,l=i.length;for(;++a<l;)fr(s=i[a])?o=t(e,s,n,o).length:s instanceof e?o=vr(me,s.schema.fields.map((t,e)=>s.getChildAt(e)),n,o).length:s instanceof me&&(n[o++]=s);return n}(t,e,[],0);function vr(t,e,i,n){let r,s=n,o=-1,a=e.length;for(;++o<a;)fr(r=e[o])?s=vr(t,r,i,s).length:r instanceof t&&(i[s++]=r);return i}const gr=(t,e,i)=>{let[n,r]=e;return t[0][i]=n,t[1][i]=r,t};function wr(t,e){let i,n;switch(n=t.length){case 0:return e;case 1:if(i=e[0],!t[0])return e;if(fr(t[0]))return wr(t[0],e);t[0]instanceof Bi||t[0]instanceof me||t[0]instanceof qe||([i,t]=Object.entries(t[0]).reduce(gr,e));break;default:fr(i=t[n-1])?t=fr(t[0])?t[0]:t.slice(0,n-1):(t=fr(t[0])?t[0]:t,i=[])}let r,s,o=-1,a=-1,l=-1,u=t.length,[h,c]=e;for(;++l<u;)s=t[l],s instanceof cr&&(c[++a]=s)?h[++o]=s.field.clone(i[l],s.type,!0):(({[l]:r=l}=i),s instanceof qe&&(c[++a]=s)?h[++o]=Sr.new(r,s,!0):s&&s.type&&(c[++a]=s)&&(s instanceof Bi&&(c[a]=s=me.new(s)),h[++o]=Sr.new(r,s.type,!0)));return e}class _r{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,i||(i=Tr(t)),this.dictionaries=i}static from(){return _r.new(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new _r(yr(e)[0])}get[Symbol.toStringTag](){return"Schema"}toString(){return"Schema<{ ".concat(this.fields.map((t,e)=>"".concat(e,": ").concat(t)).join(", ")," }>")}compareTo(t){return Xe.compareSchemas(this,t)}select(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e.reduce((t,e)=>(t[e]=!0)&&t,Object.create(null));return new _r(this.fields.filter(t=>n[t.name]),this.metadata)}selectAt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new _r(e.map(t=>this.fields[t]).filter(Boolean),this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e[0]instanceof _r?e[0]:new _r(pr(Sr,e)),r=[...this.fields],s=xr(xr(new Map,this.metadata),n.metadata),o=n.fields.filter(t=>{const e=r.findIndex(e=>e.name===t.name);return!~e||(r[e]=t.clone({metadata:xr(xr(new Map,r[e].metadata),t.metadata)}))&&!1}),a=Tr(o,new Map);return new _r([...r,...o],s,new Map([...this.dictionaries,...a]))}}class Sr{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=i,this.metadata=n||new Map}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]&&(({name:n}=e[0]),void 0===r&&(r=e[0].type),void 0===s&&(s=e[0].nullable),void 0===o&&(o=e[0].metadata)),new Sr("".concat(n),r,s,o)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return"".concat(this.name,": ").concat(this.type)}compareTo(t){return Xe.compareField(this,t)}clone(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]?({name:n=this.name,type:r=this.type,nullable:s=this.nullable,metadata:o=this.metadata}=e[0]):[n=this.name,r=this.type,s=this.nullable,o=this.metadata]=e,Sr.new(n,r,s,o)}}function xr(t,e){return new Map([...t||new Map,...e||new Map])}function Tr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let i=-1,n=t.length;++i<n;){const n=t[i].type;if(qe.isDictionary(n))if(e.has(n.id)){if(e.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(n.id,n.dictionary);n.children&&n.children.length>0&&Tr(n.children,e)}return e}_r.prototype.fields=null,_r.prototype.metadata=null,_r.prototype.dictionaries=null,Sr.prototype.type=null,Sr.prototype.name=null,Sr.prototype.nullable=null,Sr.prototype.metadata=null;class Er extends Wi{constructor(t){super(t),this._run=new Wn,this._offsets=new Pi}addChild(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new _i(new Sr(e,t.type,!0)),this.numChildren-1}clear(){return this._run.clear(),super.clear()}_flushPending(t){const e=this._run,i=this._offsets,n=this._setValue;let r,s=0;for([s,r]of t)void 0===r?i.set(s,0):(i.set(s,r.length),n(this,s,e.bind(r)))}}class Ir extends Ui{constructor(){super(...arguments),this._run=new Wn}setValue(t,e){super.setValue(t,this._run.bind(e))}addChild(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const i=this.children.push(t);return this.type=new Ei(this.type.listSize,new Sr(e,t.type,!0)),i}clear(){return this._run.clear(),super.clear()}}class Mr extends Wi{set(t,e){return super.set(t,e)}setValue(t,e){e=e instanceof Map?e:new Map(Object.entries(e));const i=this._pending||(this._pending=new Map),n=i.get(t);n&&(this._pendingLength-=n.size),this._pendingLength+=e.size,i.set(t,e)}addChild(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.numChildren);if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Ii(new Sr(e,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const e=this._offsets,i=this._setValue;t.forEach((t,n)=>{void 0===t?e.set(n,0):(e.set(n,t.size),i(this,n,t))})}}class kr extends Ui{addChild(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.numChildren);const i=this.children.push(t);return this.type=new Si([...this.type.children,new Sr(e,t.type,!0)]),i}}class Cr extends Ui{constructor(t){super(t),this._typeIds=new zi(new Int8Array(0),1),"function"===typeof t.valueToChildTypeId&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,e){return this.set(this.length,t,e)}set(t,e,i){return void 0===i&&(i=this._valueToChildTypeId(this,e,t)),this.setValid(t,this.isValid(e))&&this.setValue(t,e,i),this}setValue(t,e,i){this._typeIds.set(t,i),super.setValue(t,e)}addChild(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.children.length);const i=this.children.push(t),{type:{children:n,mode:r,typeIds:s}}=this,o=[...n,new Sr(e,t.type)];return this.type=new xi(r,[...s,i],o),i}_valueToChildTypeId(t,e,i){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class Or extends Cr{}class Br extends Cr{constructor(t){super(t),this._offsets=new zi(new Int32Array(0))}setValue(t,e,i){const n=this.type.typeIdToChildIndex[i];return this._offsets.set(t,this.getChildAt(n).length),super.setValue(t,e,i)}}class Lr extends ze{}const Ar=(t,e,i)=>{t[e]=i%4294967296|0,t[e+1]=i/4294967296|0},Dr=(t,e,i,n)=>{const{[i]:r,[i+1]:s}=e;null!=r&&null!=s&&t.set(n.subarray(0,s-r),r)},Nr=(t,e,i)=>{let{values:n}=t;((t,e,i)=>{t[e]=i/864e5|0})(n,e,i.valueOf())},zr=(t,e,i)=>{let{values:n}=t;Ar(n,2*e,i.valueOf())},Fr=(t,e,i)=>{let{stride:n,values:r}=t;r[n*e]=i},Pr=(t,e,i)=>{let{stride:n,values:r}=t;r[n*e]=en(i)},Rr=(t,e,i)=>{switch(typeof i){case"bigint":t.values64[e]=i;break;case"number":t.values[e*t.stride]=i;break;default:const n=i,{stride:r,ArrayType:s}=t,o=St(s,n);t.values.set(o.subarray(0,r),r*e)}},Vr=(t,e,i)=>{let{values:n}=t;return Ar(n,2*e,i/1e3)},Ur=(t,e,i)=>{let{values:n}=t;return Ar(n,2*e,i)},jr=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=1e3*i%4294967296|0,t[e+1]=1e3*i/4294967296|0})(n,2*e,i)},Wr=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=1e6*i%4294967296|0,t[e+1]=1e6*i/4294967296|0})(n,2*e,i)},$r=(t,e,i)=>{let{values:n,stride:r}=t;n[r*e]=i},Hr=(t,e,i)=>{let{values:n,stride:r}=t;n[r*e]=i},Kr=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},Yr=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},Xr=(t,e,i)=>{const n=t.typeIdToChildIndex[t.typeIds[e]],r=t.getChildAt(n);r&&r.set(t.valueOffsets[e],i)},qr=(t,e,i)=>{const n=t.typeIdToChildIndex[t.typeIds[e]],r=t.getChildAt(n);r&&r.set(e,i)},Qr=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},Gr=(t,e,i)=>{let{values:n}=t;n[e]=12*i[0]+i[1]%12};Lr.prototype.visitBool=(t,e,i)=>{let{offset:n,values:r}=t;const s=n+e;i?r[s>>3]|=1<<s%8:r[s>>3]&=~(1<<s%8)},Lr.prototype.visitInt=(t,e,i)=>{t.type.bitWidth<64?Fr(t,e,i):Rr(t,e,i)},Lr.prototype.visitInt8=Fr,Lr.prototype.visitInt16=Fr,Lr.prototype.visitInt32=Fr,Lr.prototype.visitInt64=Rr,Lr.prototype.visitUint8=Fr,Lr.prototype.visitUint16=Fr,Lr.prototype.visitUint32=Fr,Lr.prototype.visitUint64=Rr,Lr.prototype.visitFloat=(t,e,i)=>{t.type.precision!==Se.HALF?Fr(t,e,i):Pr(t,e,i)},Lr.prototype.visitFloat16=Pr,Lr.prototype.visitFloat32=Fr,Lr.prototype.visitFloat64=Fr,Lr.prototype.visitUtf8=(t,e,i)=>{let{values:n,valueOffsets:r}=t;Dr(n,r,e,K(i))},Lr.prototype.visitBinary=(t,e,i)=>{let{values:n,valueOffsets:r}=t;return Dr(n,r,e,i)},Lr.prototype.visitFixedSizeBinary=(t,e,i)=>{let{stride:n,values:r}=t;r.set(i.subarray(0,n),n*e)},Lr.prototype.visitDate=(t,e,i)=>{t.type.unit===we.DAY?Nr(t,e,i):zr(t,e,i)},Lr.prototype.visitDateDay=Nr,Lr.prototype.visitDateMillisecond=zr,Lr.prototype.visitTimestamp=(t,e,i)=>{switch(t.type.unit){case _e.SECOND:return Vr(t,e,i);case _e.MILLISECOND:return Ur(t,e,i);case _e.MICROSECOND:return jr(t,e,i);case _e.NANOSECOND:return Wr(t,e,i)}},Lr.prototype.visitTimestampSecond=Vr,Lr.prototype.visitTimestampMillisecond=Ur,Lr.prototype.visitTimestampMicrosecond=jr,Lr.prototype.visitTimestampNanosecond=Wr,Lr.prototype.visitTime=(t,e,i)=>{switch(t.type.unit){case _e.SECOND:return $r(t,e,i);case _e.MILLISECOND:return Hr(t,e,i);case _e.MICROSECOND:return Kr(t,e,i);case _e.NANOSECOND:return Yr(t,e,i)}},Lr.prototype.visitTimeSecond=$r,Lr.prototype.visitTimeMillisecond=Hr,Lr.prototype.visitTimeMicrosecond=Kr,Lr.prototype.visitTimeNanosecond=Yr,Lr.prototype.visitDecimal=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,4),4*e)},Lr.prototype.visitList=(t,e,i)=>{const n=t.getChildAt(0),r=t.valueOffsets;for(let s=-1,o=r[e],a=r[e+1];o<a;)n.set(o++,i.get(++s))},Lr.prototype.visitStruct=(t,e,i)=>{const n=i instanceof Map?(r=e,s=i,(t,e,i)=>t&&t.set(r,s.get(e.name))):i instanceof me?((t,e)=>(i,n,r)=>i&&i.set(t,e.get(r)))(e,i):Array.isArray(i)?((t,e)=>(i,n,r)=>i&&i.set(t,e[r]))(e,i):((t,e)=>(i,n,r)=>i&&i.set(t,e[n.name]))(e,i);var r,s;t.type.children.forEach((e,i)=>n(t.getChildAt(i),e,i))},Lr.prototype.visitUnion=(t,e,i)=>{t.type.mode===xe.Dense?Xr(t,e,i):qr(t,e,i)},Lr.prototype.visitDenseUnion=Xr,Lr.prototype.visitSparseUnion=qr,Lr.prototype.visitDictionary=(t,e,i)=>{const n=t.getKey(e);null!==n&&t.setValue(n,i)},Lr.prototype.visitInterval=(t,e,i)=>{t.type.unit===Te.DAY_TIME?Qr(t,e,i):Gr(t,e,i)},Lr.prototype.visitIntervalDayTime=Qr,Lr.prototype.visitIntervalYearMonth=Gr,Lr.prototype.visitFixedSizeList=(t,e,i)=>{const n=t.getChildAt(0),{stride:r}=t;for(let s=-1,o=e*r;++s<r;)n.set(o+s,i.get(s))},Lr.prototype.visitMap=(t,e,i)=>{const n=t.getChildAt(0),r=t.valueOffsets,s=i instanceof Map?[...i]:Object.entries(i);for(let o=-1,a=r[e],l=r[e+1];a<l;)n.set(a++,s[++o])};const Jr=new Lr;const Zr=new class extends ze{visitNull(){return Hi}visitBool(){return $i}visitInt(){return mn}visitInt8(){return vn}visitInt16(){return gn}visitInt32(){return wn}visitInt64(){return _n}visitUint8(){return Sn}visitUint16(){return xn}visitUint32(){return Tn}visitUint64(){return En}visitFloat(){return nn}visitFloat16(){return rn}visitFloat32(){return sn}visitFloat64(){return on}visitUtf8(){return jn}visitBinary(){return Un}visitFixedSizeBinary(){return Gi}visitDate(){return Ki}visitDateDay(){return Yi}visitDateMillisecond(){return Xi}visitTimestamp(){return An}visitTimestampSecond(){return Dn}visitTimestampMillisecond(){return Nn}visitTimestampMicrosecond(){return zn}visitTimestampNanosecond(){return Fn}visitTime(){return kn}visitTimeSecond(){return Cn}visitTimeMillisecond(){return On}visitTimeMicrosecond(){return Bn}visitTimeNanosecond(){return Ln}visitDecimal(){return qi}visitList(){return Er}visitStruct(){return kr}visitUnion(){return Cr}visitDenseUnion(){return Br}visitSparseUnion(){return Or}visitDictionary(){return Qi}visitInterval(){return Pn}visitIntervalDayTime(){return Rn}visitIntervalYearMonth(){return Vn}visitFixedSizeList(){return Ir}visitMap(){return Mr}};var ts;Ui.new=function t(e){const i=e.type,n=new(Zr.getVisitFn(i)())(e);if(i.children&&i.children.length>0){const r=e.children||[],s={nullValues:e.nullValues},o=Array.isArray(r)?(t,e)=>r[e]||s:t=>{let{name:e}=t;return r[e]||s};i.children.forEach((e,i)=>{const{type:r}=e,s=o(e,i);n.children.push(t(Object(be.a)(Object(be.a)({},s),{},{type:r})))})}return n},Object.keys(ve).map(t=>ve[t]).filter(t=>"number"===typeof t&&t!==ve.NONE).forEach(t=>{Zr.visit(t).prototype._setValue=Jr.getVisitFn(t)}),jn.prototype._setValue=Jr.visitBinary,function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ce.apache.arrow.flatbuf.MetadataVersion.V1}schema(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new ce.apache.arrow.flatbuf.Schema).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(e,i){let n=this.bb.__offset(this.bb_pos,8);return n?(i||new t.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}dictionariesLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(e,i){let n=this.bb.__offset(this.bb_pos,10);return n?(i||new t.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}recordBatchesLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(4)}static addVersion(t,e){t.addFieldInt16(0,e,ce.apache.arrow.flatbuf.MetadataVersion.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static createFooter(t,e,n,r,s){return i.startFooter(t),i.addVersion(t,e),i.addSchema(t,n),i.addDictionaries(t,r),i.addRecordBatches(t,s),i.endFooter(t)}}e.Footer=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ts||(ts={})),function(t){!function(t){!function(t){!function(t){t.Block=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(t,e,i,n){return t.prep(8,24),t.writeInt64(n),t.pad(4),t.writeInt32(i),t.writeInt64(e),t.offset()}}}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ts||(ts={}));var es=D.Long,is=D.Builder,ns=D.ByteBuffer,rs=ts.apache.arrow.flatbuf.Block,ss=ts.apache.arrow.flatbuf.Footer;class os{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie.V4,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.schema=t,this.version=e,i&&(this._recordBatches=i),n&&(this._dictionaryBatches=n)}static decode(t){t=new ns(Mt(t));const e=ss.getRootAsFooter(t),i=_r.decode(e.schema());return new as(i,e)}static encode(t){const e=new is,i=_r.encode(e,t.schema);ss.startRecordBatchesVector(e,t.numRecordBatches),[...t.recordBatches()].slice().reverse().forEach(t=>ls.encode(e,t));const n=e.endVector();ss.startDictionariesVector(e,t.numDictionaries),[...t.dictionaryBatches()].slice().reverse().forEach(t=>ls.encode(e,t));const r=e.endVector();return ss.startFooter(e),ss.addSchema(e,i),ss.addVersion(e,Ie.V4),ss.addRecordBatches(e,n),ss.addDictionaries(e,r),ss.finishFooterBuffer(e,ss.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class as extends os{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return ls.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return ls.decode(e)}return null}}class ls{static decode(t){return new ls(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:i}=e,n=new es(e.offset,0),r=new es(e.bodyLength,0);return rs.createBlock(t,n,i,r)}constructor(t,e,i){this.metaDataLength=t,this.offset="number"===typeof i?i:i.low,this.bodyLength="number"===typeof e?e:e.low}}function us(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(us=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new us(t)}class hs extends Q{write(t){if((t=Mt(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?H(this.toUint8Array(!0)):this.toUint8Array(!1).then(H)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?_t(this._values)[0]:(async()=>{let t=[],e=0;var i,n=!1,r=!1;try{for(var s,o=function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new us(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(this);n=!(s=await o.next()).done;n=!1){const i=s.value;t.push(i),e+=i.byteLength}}catch(a){r=!0,i=a}finally{try{n&&null!=o.return&&await o.return()}finally{if(r)throw i}}return _t(t,e)[0]})()}}class cs{constructor(t){t&&(this.source=new fs(re.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class ds{constructor(t){t instanceof ds?this.source=t.source:t instanceof hs?this.source=new ps(re.fromAsyncIterable(t)):yt(t)?this.source=new ps(re.fromNodeStream(t)):pt(t)?this.source=new ps(re.fromDOMStream(t)):ft(t)?this.source=new ps(re.fromDOMStream(t.body)):lt(t)?this.source=new ps(re.fromIterable(t)):(at(t)||ut(t))&&(this.source=new ps(re.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class fs{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Y)}return(t){return Object.create(this.source.return&&this.source.return(t)||Y)}}class ps{constructor(t){this.source=t,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}async cancel(t){await this.return(t)}get closed(){return this._closedPromise}async read(t){return(await this.next(t,"read")).value}async peek(t){return(await this.next(t,"peek")).value}async next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return await this.source.next({cmd:e,size:t})}async throw(t){const e=this.source.throw&&await this.source.throw(t)||Y;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}async return(t){const e=this.source.return&&await this.source.return(t)||Y;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}}class ys extends cs{constructor(t,e){super(),this.position=0,this.buffer=Mt(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:i,position:n}=this;return e&&n<i?("number"!==typeof t&&(t=1/0),this.position=Math.min(i,n+Math.min(i-n,t)),e.subarray(n,this.position)):null}readAt(t,e){const i=this.buffer,n=Math.min(this.size,t+e);return i?i.subarray(t,n):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class bs extends ds{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(async()=>{this.size=(await t.stat()).size,delete this._pending})()}async readInt32(t){const{buffer:e,byteOffset:i}=await this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}async seek(t){return this._pending&&await this._pending,this.position=Math.min(t,this.size),t<this.size}async read(t){this._pending&&await this._pending;const{_handle:e,size:i,position:n}=this;if(e&&n<i){"number"!==typeof t&&(t=1/0);let r=n,s=0,o=0,a=Math.min(i,r+Math.min(i-r,t)),l=new Uint8Array(Math.max(0,(this.position=a)-r));for(;(r+=o)<a&&(s+=o)<l.byteLength;)({bytesRead:o}=await e.read(l,s,l.byteLength-s,r));return l}return null}async readAt(t,e){this._pending&&await this._pending;const{_handle:i,size:n}=this;if(i&&t+e<n){const r=Math.min(n,t+e),s=new Uint8Array(r-t);return(await i.read(s,0,e,t)).buffer}return new Uint8Array(e)}async close(){const t=this._handle;this._handle=null,t&&await t.close()}async throw(t){return await this.close(),{done:!0,value:t}}async return(t){return await this.close(),{done:!0,value:t}}}function ms(t){return t<0&&(t=4294967295+t+1),"0x".concat(t.toString(16))}const vs=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class gs{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let n=e[3]*i[3];this.buffer[0]=65535&n;let r=n>>>16;return n=e[2]*i[3],r+=n,n=e[3]*i[2]>>>0,r+=n,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<n?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return"".concat(ms(this.buffer[1])," ").concat(ms(this.buffer[0]))}}class ws extends gs{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return ws.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return ws.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.length;let n=new ws(e);for(let r=0;r<i;){const e=8<i-r?8:i-r,s=new ws(new Uint32Array([parseInt(t.substr(r,e),10),0])),o=new ws(new Uint32Array([vs[e],0]));n.times(o),n.plus(s),r+=e}return n}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)ws.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new ws(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new ws(new Uint32Array(t.buffer)).plus(e)}}class _s extends gs{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,i=t.buffer[1]<<0;return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return _s.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return _s.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.startsWith("-"),n=t.length;let r=new _s(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new _s(new Uint32Array([parseInt(t.substr(s,e),10),0])),o=new _s(new Uint32Array([vs[e],0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)_s.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new _s(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new _s(new Uint32Array(t.buffer)).plus(e)}}class Ss{constructor(t){this.buffer=t}high(){return new _s(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new _s(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new ws(new Uint32Array([this.buffer[3],0])),i=new ws(new Uint32Array([this.buffer[2],0])),n=new ws(new Uint32Array([this.buffer[1],0])),r=new ws(new Uint32Array([this.buffer[0],0])),s=new ws(new Uint32Array([t.buffer[3],0])),o=new ws(new Uint32Array([t.buffer[2],0])),a=new ws(new Uint32Array([t.buffer[1],0])),l=new ws(new Uint32Array([t.buffer[0],0]));let u=ws.multiply(r,l);this.buffer[0]=u.low();let h=new ws(new Uint32Array([u.high(),0]));return u=ws.multiply(n,l),h.plus(u),u=ws.multiply(r,a),h.plus(u),this.buffer[1]=h.low(),this.buffer[3]=h.lessThan(u)?1:0,this.buffer[2]=h.high(),new ws(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ws.multiply(i,l)).plus(ws.multiply(n,a)).plus(ws.multiply(r,o)),this.buffer[3]+=ws.multiply(e,l).plus(ws.multiply(i,a)).plus(ws.multiply(n,o)).plus(ws.multiply(r,s)).low(),this}plus(t){let e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return"".concat(ms(this.buffer[3])," ").concat(ms(this.buffer[2])," ").concat(ms(this.buffer[1])," ").concat(ms(this.buffer[0]))}static multiply(t,e){return new Ss(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Ss(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return Ss.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return Ss.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const i=t.startsWith("-"),n=t.length;let r=new Ss(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new Ss(new Uint32Array([parseInt(t.substr(s,e),10),0,0,0])),o=new Ss(new Uint32Array([vs[e],0,0,0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(4*t.length);for(let i=-1,n=t.length;++i<n;)Ss.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class xs extends ze{constructor(t,e,i,n){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=n}visit(t){return super.visit(t instanceof Sr?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Null(t,0,e)}visitBool(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Bool(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitInt(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Int(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitFloat(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Float(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitUtf8(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Utf8(t,0,e,i,this.readNullBitmap(t,i),this.readOffsets(t),this.readData(t))}visitBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Binary(t,0,e,i,this.readNullBitmap(t,i),this.readOffsets(t),this.readData(t))}visitFixedSizeBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.FixedSizeBinary(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitDate(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Date(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitTimestamp(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Timestamp(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitTime(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Time(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitDecimal(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Decimal(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.List(t,0,e,i,this.readNullBitmap(t,i),this.readOffsets(t),this.visit(t.children[0]))}visitStruct(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Struct(t,0,e,i,this.readNullBitmap(t,i),this.visitMany(t.children))}visitUnion(t){return t.mode===xe.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Union(t,0,e,i,this.readNullBitmap(t,i),this.readTypeIds(t),this.readOffsets(t),this.visitMany(t.children))}visitSparseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Union(t,0,e,i,this.readNullBitmap(t,i),this.readTypeIds(t),this.visitMany(t.children))}visitDictionary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Dictionary(t,0,e,i,this.readNullBitmap(t,i),this.readData(t.indices),this.readDictionary(t))}visitInterval(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Interval(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitFixedSizeList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.FixedSizeList(t,0,e,i,this.readNullBitmap(t,i),this.visit(t.children[0]))}visitMap(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Map(t,0,e,i,this.readNullBitmap(t,i),this.readOffsets(t),this.visit(t.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class Ts extends xs{constructor(t,e,i,n){super(new Uint8Array(0),e,i,n),this.sources=t}readNullBitmap(t,e){let{offset:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):Be(this.sources[i])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return St(Uint8Array,St(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return St(Uint8Array,St(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:i}=this;return qe.isTimestamp(t)||(qe.isInt(t)||qe.isTime(t))&&64===t.bitWidth||qe.isDate(t)&&t.unit===we.MILLISECOND?St(Uint8Array,_s.convertArray(i[e])):qe.isDecimal(t)?St(Uint8Array,Ss.convertArray(i[e])):qe.isBinary(t)||qe.isFixedSizeBinary(t)?function(t){const e=t.join(""),i=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)i[n>>1]=parseInt(e.substr(n,2),16);return i}(i[e]):qe.isBool(t)?Be(i[e]):qe.isUtf8(t)?K(i[e].join("")):St(Uint8Array,St(t.ArrayType,i[e].map(t=>+t)))}}var Es=D.Long,Is=ce.apache.arrow.flatbuf.Null,Ms=ce.apache.arrow.flatbuf.Int,ks=ce.apache.arrow.flatbuf.FloatingPoint,Cs=ce.apache.arrow.flatbuf.Binary,Os=ce.apache.arrow.flatbuf.Bool,Bs=ce.apache.arrow.flatbuf.Utf8,Ls=ce.apache.arrow.flatbuf.Decimal,As=ce.apache.arrow.flatbuf.Date,Ds=ce.apache.arrow.flatbuf.Time,Ns=ce.apache.arrow.flatbuf.Timestamp,zs=ce.apache.arrow.flatbuf.Interval,Fs=ce.apache.arrow.flatbuf.List,Ps=ce.apache.arrow.flatbuf.Struct_,Rs=ce.apache.arrow.flatbuf.Union,Vs=ce.apache.arrow.flatbuf.DictionaryEncoding,Us=ce.apache.arrow.flatbuf.FixedSizeBinary,js=ce.apache.arrow.flatbuf.FixedSizeList,Ws=ce.apache.arrow.flatbuf.Map;const $s=new class extends ze{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return Is.startNull(e),Is.endNull(e)}visitInt(t,e){return Ms.startInt(e),Ms.addBitWidth(e,t.bitWidth),Ms.addIsSigned(e,t.isSigned),Ms.endInt(e)}visitFloat(t,e){return ks.startFloatingPoint(e),ks.addPrecision(e,t.precision),ks.endFloatingPoint(e)}visitBinary(t,e){return Cs.startBinary(e),Cs.endBinary(e)}visitBool(t,e){return Os.startBool(e),Os.endBool(e)}visitUtf8(t,e){return Bs.startUtf8(e),Bs.endUtf8(e)}visitDecimal(t,e){return Ls.startDecimal(e),Ls.addScale(e,t.scale),Ls.addPrecision(e,t.precision),Ls.endDecimal(e)}visitDate(t,e){return As.startDate(e),As.addUnit(e,t.unit),As.endDate(e)}visitTime(t,e){return Ds.startTime(e),Ds.addUnit(e,t.unit),Ds.addBitWidth(e,t.bitWidth),Ds.endTime(e)}visitTimestamp(t,e){const i=t.timezone&&e.createString(t.timezone)||void 0;return Ns.startTimestamp(e),Ns.addUnit(e,t.unit),void 0!==i&&Ns.addTimezone(e,i),Ns.endTimestamp(e)}visitInterval(t,e){return zs.startInterval(e),zs.addUnit(e,t.unit),zs.endInterval(e)}visitList(t,e){return Fs.startList(e),Fs.endList(e)}visitStruct(t,e){return Ps.startStruct_(e),Ps.endStruct_(e)}visitUnion(t,e){Rs.startTypeIdsVector(e,t.typeIds.length);const i=Rs.createTypeIdsVector(e,t.typeIds);return Rs.startUnion(e),Rs.addMode(e,t.mode),Rs.addTypeIds(e,i),Rs.endUnion(e)}visitDictionary(t,e){const i=this.visit(t.indices,e);return Vs.startDictionaryEncoding(e),Vs.addId(e,new Es(t.id,0)),Vs.addIsOrdered(e,t.isOrdered),void 0!==i&&Vs.addIndexType(e,i),Vs.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Us.startFixedSizeBinary(e),Us.addByteWidth(e,t.byteWidth),Us.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return js.startFixedSizeList(e),js.addListSize(e,t.listSize),js.endFixedSizeList(e)}visitMap(t,e){return Ws.startMap(e),Ws.addKeysSorted(e,t.keysSorted),Ws.endMap(e)}};function Hs(t){return new co(t.count,function t(e){return(e||[]).reduce((e,i)=>{return[...e,new yo(i.count,(n=i.VALIDITY,(n||[]).reduce((t,e)=>t+ +(0===e),0))),...t(i.children)];var n},[])}(t.columns),function t(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let n=-1,r=(e||[]).length;++n<r;){const r=e[n];r.VALIDITY&&i.push(new po(i.length,r.VALIDITY.length)),r.TYPE&&i.push(new po(i.length,r.TYPE.length)),r.OFFSET&&i.push(new po(i.length,r.OFFSET.length)),r.DATA&&i.push(new po(i.length,r.DATA.length)),i=t(r.children,i)}return i}(t.columns))}function Ks(t,e){return(t.fields||[]).filter(Boolean).map(t=>Sr.fromJSON(t,e))}function Ys(t,e){return(t.children||[]).filter(Boolean).map(t=>Sr.fromJSON(t,e))}function Xs(t){return new Map(Object.entries(t||{}))}function qs(t){return new Je(t.isSigned,t.bitWidth)}function Qs(t,e){const i=t.type.name;switch(i){case"NONE":case"null":return new Ge;case"binary":return new ci;case"utf8":return new di;case"bool":return new fi;case"list":return new _i((e||[])[0]);case"struct":case"struct_":return new Si(e||[])}switch(i){case"int":{const e=t.type;return new Je(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new ai(Se[e.precision])}case"decimal":{const e=t.type;return new pi(e.scale,e.precision)}case"date":{const e=t.type;return new yi(we[e.unit])}case"time":{const e=t.type;return new vi(_e[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new gi(_e[e.unit],e.timezone)}case"interval":{const e=t.type;return new wi(Te[e.unit])}case"union":{const i=t.type;return new xi(xe[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{const e=t.type;return new Ti(e.byteWidth)}case"fixedsizelist":{const i=t.type;return new Ei(i.listSize,(e||[])[0])}case"map":{const i=t.type;return new Ii((e||[])[0],i.keysSorted)}}throw new Error('Unrecognized type: "'.concat(i,'"'))}var Gs=D.Long,Js=D.Builder,Zs=D.ByteBuffer,to=ce.apache.arrow.flatbuf.Type,eo=ce.apache.arrow.flatbuf.Field,io=ce.apache.arrow.flatbuf.Schema,no=ce.apache.arrow.flatbuf.Buffer,ro=ye.apache.arrow.flatbuf.Message,so=ce.apache.arrow.flatbuf.KeyValue,oo=ye.apache.arrow.flatbuf.FieldNode,ao=ce.apache.arrow.flatbuf.Endianness,lo=ye.apache.arrow.flatbuf.RecordBatch,uo=ye.apache.arrow.flatbuf.DictionaryBatch;class ho{constructor(t,e,i,n){this._version=e,this._headerType=i,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(t,e){const i=new ho(0,Ie.V4,e);return i._createHeader=function(t,e){return()=>{switch(e){case Ee.Schema:return _r.fromJSON(t);case Ee.RecordBatch:return co.fromJSON(t);case Ee.DictionaryBatch:return fo.fromJSON(t)}throw new Error("Unrecognized Message type: { name: ".concat(Ee[e],", type: ").concat(e," }"))}}(t,e),i}static decode(t){t=new Zs(Mt(t));const e=ro.getRootAsMessage(t),i=e.bodyLength(),n=e.version(),r=e.headerType(),s=new ho(i,n,r);return s._createHeader=function(t,e){return()=>{switch(e){case Ee.Schema:return _r.decode(t.header(new io));case Ee.RecordBatch:return co.decode(t.header(new lo),t.version());case Ee.DictionaryBatch:return fo.decode(t.header(new uo),t.version())}throw new Error("Unrecognized Message type: { name: ".concat(Ee[e],", type: ").concat(e," }"))}}(e,r),s}static encode(t){let e=new Js,i=-1;return t.isSchema()?i=_r.encode(e,t.header()):t.isRecordBatch()?i=co.encode(e,t.header()):t.isDictionaryBatch()&&(i=fo.encode(e,t.header())),ro.startMessage(e),ro.addVersion(e,Ie.V4),ro.addHeader(e,i),ro.addHeaderType(e,t.headerType),ro.addBodyLength(e,new Gs(t.bodyLength,0)),ro.finishMessageBuffer(e,ro.endMessage(e)),e.asUint8Array()}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t instanceof _r)return new ho(0,Ie.V4,Ee.Schema,t);if(t instanceof co)return new ho(e,Ie.V4,Ee.RecordBatch,t);if(t instanceof fo)return new ho(e,Ie.V4,Ee.DictionaryBatch,t);throw new Error("Unrecognized Message header: ".concat(t))}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ee.Schema}isRecordBatch(){return this.headerType===Ee.RecordBatch}isDictionaryBatch(){return this.headerType===Ee.DictionaryBatch}}class co{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,e,i){this._nodes=e,this._buffers=i,this._length="number"===typeof t?t:t.low}}class fo{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=i,this._id="number"===typeof e?e:e.low}}class po{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class yo{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function bo(t){const e=[];for(let i,n=-1,r=-1,s=t.nodesLength();++n<s;)(i=t.nodes(n))&&(e[++r]=yo.decode(i));return e}function mo(t,e){const i=[];for(let n,r=-1,s=-1,o=t.buffersLength();++r<o;)(n=t.buffers(r))&&(e<Ie.V4&&(n.bb_pos+=8*(r+1)),i[++s]=po.decode(n));return i}function vo(t,e){const i=[];for(let n,r=-1,s=-1,o=t.fieldsLength();++r<o;)(n=t.fields(r))&&(i[++s]=Sr.decode(n,e));return i}function go(t,e){const i=[];for(let n,r=-1,s=-1,o=t.childrenLength();++r<o;)(n=t.children(r))&&(i[++s]=Sr.decode(n,e));return i}function wo(t){const e=new Map;if(t)for(let i,n,r=-1,s=0|t.customMetadataLength();++r<s;)(i=t.customMetadata(r))&&null!=(n=i.key())&&e.set(n,i.value());return e}function _o(t){return new Je(t.isSigned(),t.bitWidth())}function So(t,e){const i=t.typeType();switch(i){case to.NONE:case to.Null:return new Ge;case to.Binary:return new ci;case to.Utf8:return new di;case to.Bool:return new fi;case to.List:return new _i((e||[])[0]);case to.Struct_:return new Si(e||[])}switch(i){case to.Int:{const e=t.type(new ce.apache.arrow.flatbuf.Int);return new Je(e.isSigned(),e.bitWidth())}case to.FloatingPoint:{const e=t.type(new ce.apache.arrow.flatbuf.FloatingPoint);return new ai(e.precision())}case to.Decimal:{const e=t.type(new ce.apache.arrow.flatbuf.Decimal);return new pi(e.scale(),e.precision())}case to.Date:{const e=t.type(new ce.apache.arrow.flatbuf.Date);return new yi(e.unit())}case to.Time:{const e=t.type(new ce.apache.arrow.flatbuf.Time);return new vi(e.unit(),e.bitWidth())}case to.Timestamp:{const e=t.type(new ce.apache.arrow.flatbuf.Timestamp);return new gi(e.unit(),e.timezone())}case to.Interval:{const e=t.type(new ce.apache.arrow.flatbuf.Interval);return new wi(e.unit())}case to.Union:{const i=t.type(new ce.apache.arrow.flatbuf.Union);return new xi(i.mode(),i.typeIdsArray()||[],e||[])}case to.FixedSizeBinary:{const e=t.type(new ce.apache.arrow.flatbuf.FixedSizeBinary);return new Ti(e.byteWidth())}case to.FixedSizeList:{const i=t.type(new ce.apache.arrow.flatbuf.FixedSizeList);return new Ei(i.listSize(),(e||[])[0])}case to.Map:{const i=t.type(new ce.apache.arrow.flatbuf.Map);return new Ii((e||[])[0],i.keysSorted())}}throw new Error('Unrecognized type: "'.concat(to[i],'" (').concat(i,")"))}Sr.encode=function(t,e){let i=-1,n=-1,r=-1,s=e.type,o=e.typeId;qe.isDictionary(s)?(o=s.dictionary.typeId,r=$s.visit(s,t),n=$s.visit(s.dictionary,t)):n=$s.visit(s,t);const a=(s.children||[]).map(e=>Sr.encode(t,e)),l=eo.createChildrenVector(t,a),u=e.metadata&&e.metadata.size>0?eo.createCustomMetadataVector(t,[...e.metadata].map(e=>{let[i,n]=e;const r=t.createString("".concat(i)),s=t.createString("".concat(n));return so.startKeyValue(t),so.addKey(t,r),so.addValue(t,s),so.endKeyValue(t)})):-1;e.name&&(i=t.createString(e.name));eo.startField(t),eo.addType(t,n),eo.addTypeType(t,o),eo.addChildren(t,l),eo.addNullable(t,!!e.nullable),-1!==i&&eo.addName(t,i);-1!==r&&eo.addDictionary(t,r);-1!==u&&eo.addCustomMetadata(t,u);return eo.endField(t)},Sr.decode=function(t,e){let i,n,r,s,o,a;e&&(a=t.dictionary())?e.has(i=a.id().low)?(s=(s=a.indexType())?_o(s):new ei,o=new Ci(e.get(i),s,i,a.isOrdered()),n=new Sr(t.name(),o,t.nullable(),wo(t))):(s=(s=a.indexType())?_o(s):new ei,e.set(i,r=So(t,go(t,e))),o=new Ci(r,s,i,a.isOrdered()),n=new Sr(t.name(),o,t.nullable(),wo(t))):(r=So(t,go(t,e)),n=new Sr(t.name(),r,t.nullable(),wo(t)));return n||null},Sr.fromJSON=function(t,e){let i,n,r,s,o,a;return e&&(s=t.dictionary)?e.has(i=s.id)?(n=(n=s.indexType)?qs(n):new ei,a=new Ci(e.get(i),n,i,s.isOrdered),r=new Sr(t.name,a,t.nullable,Xs(t.customMetadata))):(n=(n=s.indexType)?qs(n):new ei,e.set(i,o=Qs(t,Ys(t,e))),a=new Ci(o,n,i,s.isOrdered),r=new Sr(t.name,a,t.nullable,Xs(t.customMetadata))):(o=Qs(t,Ys(t,e)),r=new Sr(t.name,o,t.nullable,Xs(t.customMetadata))),r||null},_r.encode=function(t,e){const i=e.fields.map(e=>Sr.encode(t,e));io.startFieldsVector(t,i.length);const n=io.createFieldsVector(t,i),r=e.metadata&&e.metadata.size>0?io.createCustomMetadataVector(t,[...e.metadata].map(e=>{let[i,n]=e;const r=t.createString("".concat(i)),s=t.createString("".concat(n));return so.startKeyValue(t),so.addKey(t,r),so.addValue(t,s),so.endKeyValue(t)})):-1;io.startSchema(t),io.addFields(t,n),io.addEndianness(t,xo?ao.Little:ao.Big),-1!==r&&io.addCustomMetadata(t,r);return io.endSchema(t)},_r.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const i=vo(t,e);return new _r(i,wo(t),e)},_r.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new _r(Ks(t,e),Xs(t.customMetadata),e)},co.encode=function(t,e){const i=e.nodes||[],n=e.buffers||[];lo.startNodesVector(t,i.length),i.slice().reverse().forEach(e=>yo.encode(t,e));const r=t.endVector();lo.startBuffersVector(t,n.length),n.slice().reverse().forEach(e=>po.encode(t,e));const s=t.endVector();return lo.startRecordBatch(t),lo.addLength(t,new Gs(e.length,0)),lo.addNodes(t,r),lo.addBuffers(t,s),lo.endRecordBatch(t)},co.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie.V4;return new co(t.length(),bo(t),mo(t,e))},co.fromJSON=Hs,fo.encode=function(t,e){const i=co.encode(t,e.data);return uo.startDictionaryBatch(t),uo.addId(t,new Gs(e.id,0)),uo.addIsDelta(t,e.isDelta),uo.addData(t,i),uo.endDictionaryBatch(t)},fo.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie.V4;return new fo(co.decode(t.data(),e),t.id(),t.isDelta())},fo.fromJSON=function(t){return new fo(Hs(t.data),t.id,t.isDelta)},yo.encode=function(t,e){return oo.createFieldNode(t,new Gs(e.length,0),new Gs(e.nullCount,0))},yo.decode=function(t){return new yo(t.length(),t.nullCount())},po.encode=function(t,e){return no.createBuffer(t,new Gs(e.offset,0),new Gs(e.length,0))},po.decode=function(t){return new po(t.offset(),t.length())};const xo=function(){const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}();var To=D.ByteBuffer;const Eo=t=>"Expected ".concat(Ee[t]," Message in stream, but was null or length 0."),Io=t=>"Header pointer of flatbuffer-encoded ".concat(Ee[t]," Message is null or length 0."),Mo=(t,e)=>"Expected to read ".concat(t," metadata bytes, but only read ").concat(e,"."),ko=(t,e)=>"Expected to read ".concat(t," bytes for message body, but only read ").concat(e,".");class Co{constructor(t){this.source=t instanceof cs?t:new cs(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Y:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Eo(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=Mt(this.source.read(t));if(e.byteLength<t)throw new Error(ko(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=Ee.Schema,i=this.readMessage(e),n=i&&i.header();if(t&&!n)throw new Error(Io(e));return n}readMetadataLength(){const t=this.source.read(Lo),e=t&&new To(t),i=e&&e.readInt32(0)||0;return{done:0===i,value:i}}readMetadata(t){const e=this.source.read(t);if(!e)return Y;if(e.byteLength<t)throw new Error(Mo(t,e.byteLength));return{done:!1,value:ho.decode(e)}}}class Oo{constructor(t,e){this.source=t instanceof ds?t:dt(t)?new bs(t,e):new ds(t)}[Symbol.asyncIterator](){return this}async next(){let t;return(t=await this.readMetadataLength()).done||-1===t.value&&(t=await this.readMetadataLength()).done||(t=await this.readMetadata(t.value)).done?Y:t}async throw(t){return await this.source.throw(t)}async return(t){return await this.source.return(t)}async readMessage(t){let e;if((e=await this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Eo(t));return e.value}async readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=Mt(await this.source.read(t));if(e.byteLength<t)throw new Error(ko(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}async readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=Ee.Schema,i=await this.readMessage(e),n=i&&i.header();if(t&&!n)throw new Error(Io(e));return n}async readMetadataLength(){const t=await this.source.read(Lo),e=t&&new To(t),i=e&&e.readInt32(0)||0;return{done:0===i,value:i}}async readMetadata(t){const e=await this.source.read(t);if(!e)return Y;if(e.byteLength<t)throw new Error(Mo(t,e.byteLength));return{done:!1,value:ho.decode(e)}}}class Bo extends Co{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof X?t:new X(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:ho.fromJSON(t.schema,Ee.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:ho.fromJSON(e,Ee.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:ho.fromJSON(e,Ee.RecordBatch)}}return this._body=[],Y}readMessageBody(t){return function t(e){return(e||[]).reduce((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE&&[i.TYPE]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)],[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Eo(t));return e.value}readSchema(){const t=Ee.Schema,e=this.readMessage(t),i=e&&e.header();if(!e||!i)throw new Error(Io(t));return i}}const Lo=4,Ao=new Uint8Array("ARROW1".length);for(let Au=0;Au<"ARROW1".length;Au+=1)Ao[Au]="ARROW1".charCodeAt(Au);function Do(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=-1,n=Ao.length;++i<n;)if(Ao[i]!==t[e+i])return!1;return!0}const No=Ao.length,zo=No+Lo,Fo=2*No+Lo;class Po extends ze{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=new Po;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=mr(Ul,i),[s=t]=t.visitMany(r);return s}visit(t){if(!qe.isDictionary(t.type)){const{data:e,length:i,nullCount:n}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");qe.isNull(t.type)||Ro.call(this,n<=0?new Uint8Array(0):Oe(e.offset,i,e.nullBitmap)),this.nodes.push(new yo(i,n))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ro(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new po(this._byteLength,e)),this._byteLength+=e,this}function Vo(t){return Ro.call(this,t.values.subarray(0,t.length*t.stride))}function Uo(t){const{length:e,values:i,valueOffsets:n}=t,r=n[0],s=n[e],o=Math.min(s-r,i.byteLength-r);return Ro.call(this,ie(-n[0],e,n)),Ro.call(this,i.subarray(r,r+o)),this}function jo(t){const{length:e,valueOffsets:i}=t;return i&&Ro.call(this,ie(i[0],e,i)),this.visit(t.getChildAt(0))}function Wo(t){return this.visitMany(t.type.children.map((e,i)=>t.getChildAt(i)).filter(Boolean))[0]}Po.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?Ro.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?Ro.call(this,Oe(t.offset,t.length,e)):Ro.call(this,Be(t))},Po.prototype.visitInt=Vo,Po.prototype.visitFloat=Vo,Po.prototype.visitUtf8=Uo,Po.prototype.visitBinary=Uo,Po.prototype.visitFixedSizeBinary=Vo,Po.prototype.visitDate=Vo,Po.prototype.visitTimestamp=Vo,Po.prototype.visitTime=Vo,Po.prototype.visitDecimal=Vo,Po.prototype.visitList=jo,Po.prototype.visitStruct=Wo,Po.prototype.visitUnion=function(t){const{type:e,length:i,typeIds:n,valueOffsets:r}=t;if(Ro.call(this,n),e.mode===xe.Sparse)return Wo.call(this,t);if(e.mode===xe.Dense){if(t.offset<=0)return Ro.call(this,r),Wo.call(this,t);{const s=n.reduce((t,e)=>Math.max(t,e),n[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),l=new Int32Array(i),u=ie(-r[0],i,r);for(let t,e,r=-1;++r<i;)-1===(e=a[t=n[r]])&&(e=a[t]=u[t]),l[r]=u[r]-e,++o[t];Ro.call(this,l);for(let n,r=-1,h=e.children.length;++r<h;)if(n=t.getChildAt(r)){const t=e.typeIds[r],s=Math.min(i,o[t]);this.visit(n.slice(a[t],s))}}}return this},Po.prototype.visitInterval=Vo,Po.prototype.visitFixedSizeList=jo,Po.prototype.visitMap=jo;function $o(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return($o=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new $o(t)}class Ho extends q{constructor(t){super(),this._position=0,this._started=!1,this._sink=new hs,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,ot(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return at(t)?t.then(t=>this.writeAll(t)):ut(t)?qo(this,t):Xo(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var i;return t===this._sink||t instanceof hs?this._sink=t:(this._sink=new hs,t&&(ot(i=t)&&st(i.abort)&&st(i.getWriter)&&!(i instanceof q))?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>ot(t)&&st(t.end)&&st(t.write)&&rt(t.writable)&&!(t instanceof q))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&e.compareTo(this._schema)||(null===e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null===t||void 0===t)return this.finish()&&void 0;if(t instanceof Vl&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof Ul&&!(e=t.schema))return this.finish()&&void 0;if(e&&!e.compareTo(this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof Ul?t instanceof jl||this._writeRecordBatch(t):t instanceof Vl?this.writeAll(t.chunks):lt(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,i=ho.encode(t),n=i.byteLength,r=this._writeLegacyIpcFormat?4:8,s=n+r+e&~e,o=s-n-r;return t.headerType===Ee.RecordBatch?this._recordBatchBlocks.push(new ls(s,t.bodyLength,this._position)):t.headerType===Ee.DictionaryBatch&&this._dictionaryBlocks.push(new ls(s,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(s-r)),n>0&&this._write(i),this._writePadding(o)}_write(t){if(this._started){const e=Mt(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(ho.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Ao)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:i,bufferRegions:n,buffers:r}=Po.assemble(t),s=new co(t.length,i,n),o=ho.from(s,e);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:n,nodes:r,bufferRegions:s,buffers:o}=Po.assemble(t),a=new co(t.length,r,s),l=new fo(a,e,i),u=ho.from(l,n);return this._writeMessage(u)._writeBodyBuffers(o)}_writeBodyBuffers(t){let e,i,n;for(let r=-1,s=t.length;++r<s;)(e=t[r])&&(i=e.byteLength)>0&&(this._write(e),(n=(i+7&-8)-i)>0&&this._writePadding(n));return this}_writeDictionaries(t){for(let[e,i]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(i=i.slice(t)).length>0){const n="chunks"in i?i.chunks:[i];for(const i of n)this._writeDictionaryBatch(i,e,t>0),t+=i.length}}return this}}class Ko extends Ho{static writeAll(t,e){const i=new Ko(e);return at(t)?t.then(t=>i.writeAll(t)):ut(t)?qo(i,t):Xo(i,t)}}class Yo extends Ho{constructor(){super(),this._autoDestroy=!0}static writeAll(t){const e=new Yo;return at(t)?t.then(t=>e.writeAll(t)):ut(t)?qo(e,t):Xo(e,t)}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=os.encode(new os(t,Ie.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function Xo(t,e){let i=e;e instanceof Vl&&(i=e.chunks,t.reset(void 0,e.schema));for(const n of i)t.write(n);return t.finish()}async function qo(t,e){var i,n=!1,r=!1;try{for(var s,o=function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new $o(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(e);n=!(s=await o.next()).done;n=!1){const e=s.value;t.write(e)}}catch(a){r=!0,i=a}finally{try{n&&null!=o.return&&await o.return()}finally{if(r)throw i}}return t.finish()}const Qo=new Uint8Array(0),Go=t=>[Qo,Qo,new Uint8Array(t),Qo];function Jo(t,e){return function(t,e){const i=[...t.fields],n=[],r={numBatches:e.reduce((t,e)=>Math.max(t,e.length),0)};let s,o=0,a=0,l=-1,u=e.length,h=[];for(;r.numBatches-- >0;){for(a=Number.POSITIVE_INFINITY,l=-1;++l<u;)h[l]=s=e[l].shift(),a=Math.min(a,s?s.length:a);isFinite(a)&&(h=Zo(i,a,h,e,r),a>0&&(n[o++]=[a,h.slice()]))}return[t=new _r(i,t.metadata),n.map(e=>new Ul(t,...e))]}(t,e.map(t=>t instanceof lr?t.chunks.map(t=>t.data):[t.data]))}function Zo(t,e,i,n,r){let s,o,a=0,l=-1,u=n.length;const h=(e+63&-64)>>3;for(;++l<u;)(s=i[l])&&(a=s.length)>=e?a===e?i[l]=s:(i[l]=s.slice(0,e),s=s.slice(e,a-e),r.numBatches=Math.max(r.numBatches,n[l].unshift(s))):((o=t[l]).nullable||(t[l]=o.clone({nullable:!0})),i[l]=s?s._changeLengthAndBackfillNullBitmap(e):Bi.new(o.type,0,e,e,Go(h)));return i}function ta(t,e){if(null==t)return{};var i,n,r=function(t,e){if(null==t)return{};var i,n,r={},s=Object.keys(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}class ea extends me{constructor(t,e){super(),this._children=e,this.numChildren=t.childData.length,this._bindDataAccessors(this.data=t)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return"".concat(ve[this.typeId],"Vector")}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return"".concat(this.VectorName,"<").concat(this.type[Symbol.toStringTag],">")}clone(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._children;return me.new(t,e)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return lr.concat(this,...e)}slice(t,e){return ir(this,t,e,this._sliceInternal)}isValid(t){if(this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}getChildAt(t){return t<0||t>=this.numChildren?null:(this._children||(this._children=[]))[t]||(this._children[t]=me.new(this.data.childData[t]))}toJSON(){return[...this]}_sliceInternal(t,e,i){return t.clone(t.data.slice(e,i-e),null)}_bindDataAccessors(t){}}ea.prototype[Symbol.isConcatSpreadable]=!0;class ia extends ea{asUtf8(){return me.new(this.data.clone(new di))}}class na extends ea{static from(t){return Pl(()=>new fi,t)}}class ra extends ea{static from(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return 2===e.length?Pl(()=>e[1]===we.DAY?new bi:new mi,e[0]):Pl(()=>new mi,e[0])}}class sa extends ra{}class oa extends ra{}class aa extends ea{}class la extends ea{constructor(t){super(t),this.indices=me.new(t.clone(this.type.indices))}static from(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(3===e.length){const[t,i,n]=e,r=new Ci(t.type,i,null,null);return me.new(Bi.Dictionary(r,0,n.length,0,null,n,t))}return Pl(()=>e[0].type,e[0])}get dictionary(){return this.data.dictionary}reverseLookup(t){return this.dictionary.indexOf(t)}getKey(t){return this.indices.get(t)}getValue(t){return this.dictionary.get(t)}setKey(t,e){return this.indices.set(t,e)}setValue(t,e){return this.dictionary.set(t,e)}}la.prototype.indices=null;class ua extends ea{}class ha extends ea{}class ca extends ea{static from(t){let e=ma(this);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){let i=ba(t.constructor)||e;if(null===e&&(e=i),e&&e===i){let i=new e,n=t.byteLength/i.ArrayType.BYTES_PER_ELEMENT;if(!ya(e,t.constructor))return me.new(Bi.Float(i,0,n,0,null,t))}}if(e)return Pl(()=>new e,t);if(t instanceof DataView||t instanceof ArrayBuffer)throw new TypeError("Cannot infer float type from instance of ".concat(t.constructor.name));throw new TypeError("Unrecognized FloatVector input")}}class da extends ca{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}}class fa extends ca{}class pa extends ca{}const ya=(t,e)=>t===li&&e!==Uint16Array,ba=t=>{switch(t){case Uint16Array:return li;case Float32Array:return ui;case Float64Array:return hi;default:return null}},ma=t=>{switch(t){case da:return li;case fa:return ui;case pa:return hi;default:return null}};class va extends ea{}class ga extends va{}class wa extends va{}class _a extends ea{static from(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r=!1]=e,s=La(this,r);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)){let t=Ba(n.constructor,r)||s;if(null===s&&(s=t),s&&s===t){let t=new s,e=n.byteLength/t.ArrayType.BYTES_PER_ELEMENT;return Oa(s,n.constructor)&&(e*=.5),me.new(Bi.Int(t,0,e,0,null,n))}}if(s)return Pl(()=>new s,n);if(n instanceof DataView||n instanceof ArrayBuffer)throw new TypeError("Cannot infer integer type from instance of ".concat(n.constructor.name));throw new TypeError("Unrecognized IntVector input")}}class Sa extends _a{}class xa extends _a{}class Ta extends _a{}class Ea extends _a{toBigInt64Array(){return It(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}}class Ia extends _a{}class Ma extends _a{}class ka extends _a{}class Ca extends _a{toBigUint64Array(){return Ot(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}}const Oa=(t,e)=>(t===ii||t===oi)&&(e===Int32Array||e===Uint32Array),Ba=(t,e)=>{switch(t){case Int8Array:return Ze;case Int16Array:return ti;case Int32Array:return e?ii:ei;case Z:return ii;case Uint8Array:return ni;case Uint16Array:return ri;case Uint32Array:return e?oi:si;case et:return oi;default:return null}},La=(t,e)=>{switch(t){case Sa:return Ze;case xa:return ti;case Ta:return e?ii:ei;case Ea:return ii;case Ia:return ni;case Ma:return ri;case ka:return e?oi:si;case Ca:return oi;default:return null}};class Aa extends ea{}class Da extends ea{asList(){const t=this.type.children[0];return me.new(this.data.clone(new _i(t)))}bind(t){const e=this.getChildAt(0),{[t]:i,[t+1]:n}=this.valueOffsets;return new Qn(e.slice(i,n))}}class Na extends ea{}const za=Symbol.for("rowIndex");class Fa extends ea{bind(t){const e=this._row||(this._row=new Gn(this)),i=Object.create(e);return i[za]=t,i}}class Pa extends ea{}class Ra extends Pa{}class Va extends Pa{}class Ua extends Pa{}class ja extends Pa{}class Wa extends ea{}class $a extends Wa{}class Ha extends Wa{}class Ka extends Wa{}class Ya extends Wa{}class Xa extends ea{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}}class qa extends Xa{get valueOffsets(){return this.data.valueOffsets}}class Qa extends Xa{}class Ga extends ea{static from(t){return Pl(()=>new di,t)}asBinary(){return me.new(this.data.clone(new ci))}}function Ja(t){return function(){return t(this)}}function Za(t){return function(e,i){return t(this,e,i)}}class tl extends ze{}const el=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),il=t=>new Date(t),nl=(t,e,i)=>{const{[i]:n,[i+1]:r}=e;return null!=n&&null!=r?t.subarray(n,r):null},rl=(t,e)=>{let{values:i}=t;return((t,e)=>il(((t,e)=>864e5*t[e])(t,e)))(i,e)},sl=(t,e)=>{let{values:i}=t;return((t,e)=>il(el(t,e)))(i,2*e)},ol=(t,e)=>{let{stride:i,values:n}=t;return n[i*e]},al=(t,e)=>{let{stride:i,values:n}=t;return tn(n[i*e])},ll=(t,e)=>{let{stride:i,values:n,type:r}=t;return bn.new(n.subarray(i*e,i*(e+1)),r.isSigned)},ul=(t,e)=>{let{values:i}=t;return 1e3*el(i,2*e)},hl=(t,e)=>{let{values:i}=t;return el(i,2*e)},cl=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(i,2*e)},dl=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(i,2*e)},fl=(t,e)=>{let{values:i,stride:n}=t;return i[n*e]},pl=(t,e)=>{let{values:i,stride:n}=t;return i[n*e]},yl=(t,e)=>{let{values:i}=t;return bn.signed(i.subarray(2*e,2*(e+1)))},bl=(t,e)=>{let{values:i}=t;return bn.signed(i.subarray(2*e,2*(e+1)))},ml=(t,e)=>{const i=t.typeIdToChildIndex[t.typeIds[e]],n=t.getChildAt(i);return n?n.get(t.valueOffsets[e]):null},vl=(t,e)=>{const i=t.typeIdToChildIndex[t.typeIds[e]],n=t.getChildAt(i);return n?n.get(e):null},gl=(t,e)=>{let{values:i}=t;return i.subarray(2*e,2*(e+1))},wl=(t,e)=>{let{values:i}=t;const n=i[e],r=new Int32Array(2);return r[0]=n/12|0,r[1]=n%12|0,r};tl.prototype.visitNull=(t,e)=>null,tl.prototype.visitBool=(t,e)=>{let{offset:i,values:n}=t;const r=i+e;return 0!==(n[r>>3]&1<<r%8)},tl.prototype.visitInt=(t,e)=>t.type.bitWidth<64?ol(t,e):ll(t,e),tl.prototype.visitInt8=ol,tl.prototype.visitInt16=ol,tl.prototype.visitInt32=ol,tl.prototype.visitInt64=ll,tl.prototype.visitUint8=ol,tl.prototype.visitUint16=ol,tl.prototype.visitUint32=ol,tl.prototype.visitUint64=ll,tl.prototype.visitFloat=(t,e)=>t.type.precision!==Se.HALF?ol(t,e):al(t,e),tl.prototype.visitFloat16=al,tl.prototype.visitFloat32=ol,tl.prototype.visitFloat64=ol,tl.prototype.visitUtf8=(t,e)=>{let{values:i,valueOffsets:n}=t;const r=nl(i,n,e);return null!==r?H(r):null},tl.prototype.visitBinary=(t,e)=>{let{values:i,valueOffsets:n}=t;return nl(i,n,e)},tl.prototype.visitFixedSizeBinary=(t,e)=>{let{stride:i,values:n}=t;return n.subarray(i*e,i*(e+1))},tl.prototype.visitDate=(t,e)=>t.type.unit===we.DAY?rl(t,e):sl(t,e),tl.prototype.visitDateDay=rl,tl.prototype.visitDateMillisecond=sl,tl.prototype.visitTimestamp=(t,e)=>{switch(t.type.unit){case _e.SECOND:return ul(t,e);case _e.MILLISECOND:return hl(t,e);case _e.MICROSECOND:return cl(t,e);case _e.NANOSECOND:return dl(t,e)}},tl.prototype.visitTimestampSecond=ul,tl.prototype.visitTimestampMillisecond=hl,tl.prototype.visitTimestampMicrosecond=cl,tl.prototype.visitTimestampNanosecond=dl,tl.prototype.visitTime=(t,e)=>{switch(t.type.unit){case _e.SECOND:return fl(t,e);case _e.MILLISECOND:return pl(t,e);case _e.MICROSECOND:return yl(t,e);case _e.NANOSECOND:return bl(t,e)}},tl.prototype.visitTimeSecond=fl,tl.prototype.visitTimeMillisecond=pl,tl.prototype.visitTimeMicrosecond=yl,tl.prototype.visitTimeNanosecond=bl,tl.prototype.visitDecimal=(t,e)=>{let{values:i}=t;return bn.decimal(i.subarray(4*e,4*(e+1)))},tl.prototype.visitList=(t,e)=>{const i=t.getChildAt(0),{valueOffsets:n,stride:r}=t;return i.slice(n[e*r],n[e*r+1])},tl.prototype.visitStruct=(t,e)=>t.bind(e),tl.prototype.visitUnion=(t,e)=>t.type.mode===xe.Dense?ml(t,e):vl(t,e),tl.prototype.visitDenseUnion=ml,tl.prototype.visitSparseUnion=vl,tl.prototype.visitDictionary=(t,e)=>t.getValue(t.getKey(e)),tl.prototype.visitInterval=(t,e)=>t.type.unit===Te.DAY_TIME?gl(t,e):wl(t,e),tl.prototype.visitIntervalDayTime=gl,tl.prototype.visitIntervalYearMonth=wl,tl.prototype.visitFixedSizeList=(t,e)=>{const i=t.getChildAt(0),{stride:n}=t;return i.slice(e*n,(e+1)*n)},tl.prototype.visitMap=(t,e)=>t.bind(e);const _l=new tl;class Sl extends ze{}function xl(t,e,i){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let n=0;for(const r of Le(i,t.data.offset+(e||0),t.length,i,Me)){if(!r)return n;++n}return-1}(t,i);const n=sr(e);for(let r=(i||0)-1,s=t.length;++r<s;)if(n(t.get(r)))return r;return-1}function Tl(t,e,i){const n=sr(e);for(let r=(i||0)-1,s=t.length;++r<s;)if(n(t.get(r)))return r;return-1}Sl.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},Sl.prototype.visitBool=xl,Sl.prototype.visitInt=xl,Sl.prototype.visitInt8=xl,Sl.prototype.visitInt16=xl,Sl.prototype.visitInt32=xl,Sl.prototype.visitInt64=xl,Sl.prototype.visitUint8=xl,Sl.prototype.visitUint16=xl,Sl.prototype.visitUint32=xl,Sl.prototype.visitUint64=xl,Sl.prototype.visitFloat=xl,Sl.prototype.visitFloat16=xl,Sl.prototype.visitFloat32=xl,Sl.prototype.visitFloat64=xl,Sl.prototype.visitUtf8=xl,Sl.prototype.visitBinary=xl,Sl.prototype.visitFixedSizeBinary=xl,Sl.prototype.visitDate=xl,Sl.prototype.visitDateDay=xl,Sl.prototype.visitDateMillisecond=xl,Sl.prototype.visitTimestamp=xl,Sl.prototype.visitTimestampSecond=xl,Sl.prototype.visitTimestampMillisecond=xl,Sl.prototype.visitTimestampMicrosecond=xl,Sl.prototype.visitTimestampNanosecond=xl,Sl.prototype.visitTime=xl,Sl.prototype.visitTimeSecond=xl,Sl.prototype.visitTimeMillisecond=xl,Sl.prototype.visitTimeMicrosecond=xl,Sl.prototype.visitTimeNanosecond=xl,Sl.prototype.visitDecimal=xl,Sl.prototype.visitList=xl,Sl.prototype.visitStruct=xl,Sl.prototype.visitUnion=xl,Sl.prototype.visitDenseUnion=Tl,Sl.prototype.visitSparseUnion=Tl,Sl.prototype.visitDictionary=xl,Sl.prototype.visitInterval=xl,Sl.prototype.visitIntervalDayTime=xl,Sl.prototype.visitIntervalYearMonth=xl,Sl.prototype.visitFixedSizeList=xl,Sl.prototype.visitMap=xl;const El=new Sl;class Il extends ze{}function Ml(t){if(t.nullCount>0)return function(t){const e=_l.getVisitFn(t);return Le(t.nullBitmap,t.offset,t.length,t,(t,i,n,r)=>0!==(n&1<<r)?e(t,i):null)}(t);const{type:e,typeId:i,length:n}=t;return 1===t.stride&&(i===ve.Timestamp||i===ve.Int&&64!==e.bitWidth||i===ve.Time&&64!==e.bitWidth||i===ve.Float&&e.precision>0)?t.values.subarray(0,n)[Symbol.iterator]():function*(e){for(let i=-1;++i<n;)yield e(t,i)}(_l.getVisitFn(t))}Il.prototype.visitNull=Ml,Il.prototype.visitBool=Ml,Il.prototype.visitInt=Ml,Il.prototype.visitInt8=Ml,Il.prototype.visitInt16=Ml,Il.prototype.visitInt32=Ml,Il.prototype.visitInt64=Ml,Il.prototype.visitUint8=Ml,Il.prototype.visitUint16=Ml,Il.prototype.visitUint32=Ml,Il.prototype.visitUint64=Ml,Il.prototype.visitFloat=Ml,Il.prototype.visitFloat16=Ml,Il.prototype.visitFloat32=Ml,Il.prototype.visitFloat64=Ml,Il.prototype.visitUtf8=Ml,Il.prototype.visitBinary=Ml,Il.prototype.visitFixedSizeBinary=Ml,Il.prototype.visitDate=Ml,Il.prototype.visitDateDay=Ml,Il.prototype.visitDateMillisecond=Ml,Il.prototype.visitTimestamp=Ml,Il.prototype.visitTimestampSecond=Ml,Il.prototype.visitTimestampMillisecond=Ml,Il.prototype.visitTimestampMicrosecond=Ml,Il.prototype.visitTimestampNanosecond=Ml,Il.prototype.visitTime=Ml,Il.prototype.visitTimeSecond=Ml,Il.prototype.visitTimeMillisecond=Ml,Il.prototype.visitTimeMicrosecond=Ml,Il.prototype.visitTimeNanosecond=Ml,Il.prototype.visitDecimal=Ml,Il.prototype.visitList=Ml,Il.prototype.visitStruct=Ml,Il.prototype.visitUnion=Ml,Il.prototype.visitDenseUnion=Ml,Il.prototype.visitSparseUnion=Ml,Il.prototype.visitDictionary=Ml,Il.prototype.visitInterval=Ml,Il.prototype.visitIntervalDayTime=Ml,Il.prototype.visitIntervalYearMonth=Ml,Il.prototype.visitFixedSizeList=Ml,Il.prototype.visitMap=Ml;const kl=new Il;class Cl extends ze{}function Ol(t){const{type:e,length:i,stride:n}=t;switch(e.typeId){case ve.Int:case ve.Float:case ve.Decimal:case ve.Time:case ve.Timestamp:return t.values.subarray(0,i*n)}return[...kl.visit(t)]}Cl.prototype.visitNull=Ol,Cl.prototype.visitBool=Ol,Cl.prototype.visitInt=Ol,Cl.prototype.visitInt8=Ol,Cl.prototype.visitInt16=Ol,Cl.prototype.visitInt32=Ol,Cl.prototype.visitInt64=Ol,Cl.prototype.visitUint8=Ol,Cl.prototype.visitUint16=Ol,Cl.prototype.visitUint32=Ol,Cl.prototype.visitUint64=Ol,Cl.prototype.visitFloat=Ol,Cl.prototype.visitFloat16=Ol,Cl.prototype.visitFloat32=Ol,Cl.prototype.visitFloat64=Ol,Cl.prototype.visitUtf8=Ol,Cl.prototype.visitBinary=Ol,Cl.prototype.visitFixedSizeBinary=Ol,Cl.prototype.visitDate=Ol,Cl.prototype.visitDateDay=Ol,Cl.prototype.visitDateMillisecond=Ol,Cl.prototype.visitTimestamp=Ol,Cl.prototype.visitTimestampSecond=Ol,Cl.prototype.visitTimestampMillisecond=Ol,Cl.prototype.visitTimestampMicrosecond=Ol,Cl.prototype.visitTimestampNanosecond=Ol,Cl.prototype.visitTime=Ol,Cl.prototype.visitTimeSecond=Ol,Cl.prototype.visitTimeMillisecond=Ol,Cl.prototype.visitTimeMicrosecond=Ol,Cl.prototype.visitTimeNanosecond=Ol,Cl.prototype.visitDecimal=Ol,Cl.prototype.visitList=Ol,Cl.prototype.visitStruct=Ol,Cl.prototype.visitUnion=Ol,Cl.prototype.visitDenseUnion=Ol,Cl.prototype.visitSparseUnion=Ol,Cl.prototype.visitDictionary=Ol,Cl.prototype.visitInterval=Ol,Cl.prototype.visitIntervalDayTime=Ol,Cl.prototype.visitIntervalYearMonth=Ol,Cl.prototype.visitFixedSizeList=Ol,Cl.prototype.visitMap=Ol;const Bl=new Cl,Ll=(t,e)=>t+e,Al=t=>"Cannot compute the byte width of variable-width column ".concat(t);const Dl=new class extends ze{visitNull(t){return 0}visitInt(t){return t.bitWidth/8}visitFloat(t){return t.ArrayType.BYTES_PER_ELEMENT}visitBinary(t){throw new Error(Al(t))}visitUtf8(t){throw new Error(Al(t))}visitBool(t){return 1/8}visitDecimal(t){return 16}visitDate(t){return 4*(t.unit+1)}visitTime(t){return t.bitWidth/8}visitTimestamp(t){return t.unit===_e.SECOND?4:8}visitInterval(t){return 4*(t.unit+1)}visitList(t){throw new Error(Al(t))}visitStruct(t){return this.visitFields(t.children).reduce(Ll,0)}visitUnion(t){return this.visitFields(t.children).reduce(Ll,0)}visitFixedSizeBinary(t){return t.byteWidth}visitFixedSizeList(t){return t.listSize*this.visitFields(t.children).reduce(Ll,0)}visitMap(t){return this.visitFields(t.children).reduce(Ll,0)}visitDictionary(t){return this.visit(t.indices)}visitFields(t){return(t||[]).map(t=>this.visit(t.type))}visitSchema(t){return this.visitFields(t.fields).reduce(Ll,0)}};const Nl=new class extends ze{visitNull(){return Na}visitBool(){return na}visitInt(){return _a}visitInt8(){return Sa}visitInt16(){return xa}visitInt32(){return Ta}visitInt64(){return Ea}visitUint8(){return Ia}visitUint16(){return Ma}visitUint32(){return ka}visitUint64(){return Ca}visitFloat(){return ca}visitFloat16(){return da}visitFloat32(){return fa}visitFloat64(){return pa}visitUtf8(){return Ga}visitBinary(){return ia}visitFixedSizeBinary(){return ua}visitDate(){return ra}visitDateDay(){return sa}visitDateMillisecond(){return oa}visitTimestamp(){return Pa}visitTimestampSecond(){return Ra}visitTimestampMillisecond(){return Va}visitTimestampMicrosecond(){return Ua}visitTimestampNanosecond(){return ja}visitTime(){return Wa}visitTimeSecond(){return $a}visitTimeMillisecond(){return Ha}visitTimeMicrosecond(){return Ka}visitTimeNanosecond(){return Ya}visitDecimal(){return aa}visitList(){return Aa}visitStruct(){return Fa}visitUnion(){return Xa}visitDenseUnion(){return qa}visitSparseUnion(){return Qa}visitDictionary(){return la}visitInterval(){return va}visitIntervalDayTime(){return ga}visitIntervalYearMonth(){return wa}visitFixedSizeList(){return ha}visitMap(){return Da}},zl=["values"];function Fl(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(Fl=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new Fl(t)}function Pl(t,e){if(lt(e))return me.from({nullValues:[null,void 0],type:t(),values:e});if(ut(e))return me.from({nullValues:[null,void 0],type:t(),values:e});const{values:i=[],type:n=t(),nullValues:r=[null,void 0]}=Object(be.a)({},e);return lt(i),me.from(Object(be.a)(Object(be.a)({nullValues:r},e),{},{type:n}))}function Rl(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(Rl=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new Rl(t)}me.new=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return new(Nl.getVisitFn(t)())(t,...i)},me.from=function(t){const e=Object(be.a)({nullValues:[null,void 0]},t),{values:i=[]}=e,n=ta(e,zl);if(lt(i)){const t=[...Ui.throughIterable(n)(i)];return 1===t.length?t[0]:lr.concat(t)}return(async t=>{const e=Ui.throughAsyncIterable(n);var r,s=!1,o=!1;try{for(var a,l=function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new Fl(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(e(i));s=!(a=await l.next()).done;s=!1){const e=a.value;t.push(e)}}catch(u){o=!0,r=u}finally{try{s&&null!=l.return&&await l.return()}finally{if(o)throw r}}return 1===t.length?t[0]:lr.concat(t)})([])},ea.prototype.get=function(t){return _l.visit(this,t)},ea.prototype.set=function(t,e){return Jr.visit(this,t,e)},ea.prototype.indexOf=function(t,e){return El.visit(this,t,e)},ea.prototype.toArray=function(){return Bl.visit(this)},ea.prototype.getByteWidth=function(){return Dl.visit(this.type)},ea.prototype[Symbol.iterator]=function(){return kl.visit(this)},ea.prototype._bindDataAccessors=function(){const t=this.nullBitmap;t&&t.byteLength>0&&(this.get=(e=this.get,function(t){return this.isValid(t)?e.call(this,t):null}),this.set=function(t){return function(e,i){Ce(this.nullBitmap,this.offset+e,!(null===i||void 0===i))&&t.call(this,e,i)}}(this.set));var e},Object.keys(ve).map(t=>ve[t]).filter(t=>"number"===typeof t).filter(t=>t!==ve.NONE).forEach(t=>{const e=Nl.visit(t);var i;e.prototype.get=(i=_l.getVisitFn(t),function(t){return i(this,t)}),e.prototype.set=Za(Jr.getVisitFn(t)),e.prototype.indexOf=Za(El.getVisitFn(t)),e.prototype.toArray=Ja(Bl.getVisitFn(t)),e.prototype.getByteWidth=function(t){return function(){return t(this.type)}}(Dl.getVisitFn(t)),e.prototype[Symbol.iterator]=Ja(kl.getVisitFn(t))});class Vl extends lr{constructor(){let t=null;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];i[0]instanceof _r&&(t=i.shift());let r=pr(Ul,i);if(!t&&!(t=r[0]&&r[0].schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");r[0]||(r[0]=new jl(t)),super(new Si(t.fields),r),this._schema=t,this._chunks=r}static empty(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _r([]);return new Vl(t,[])}static from(t){if(!t)return Vl.empty();if("object"===typeof t){let e=lt(t.values)?function(t){const{type:e}=t;if(e instanceof Si)return Vl.fromStruct(Fa.from(t));return null}(t):ut(t.values)?function(t){const{type:e}=t;if(e instanceof Si)return Fa.from(t).then(t=>Vl.fromStruct(t));return null}(t):null;if(null!==e)return e}let e=Hl.from(t);return at(e)?(async()=>await Vl.from(await e))():e.isSync()&&(e=e.open())?e.schema?new Vl(e.schema,[...e]):Vl.empty():(async t=>{const e=await t,i=e.schema,n=[];if(i){var r,s=!1,o=!1;try{for(var a,l=function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new Rl(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(e);s=!(a=await l.next()).done;s=!1){let t=a.value;n.push(t)}}catch(u){o=!0,r=u}finally{try{s&&null!=l.return&&await l.return()}finally{if(o)throw r}}return new Vl(i,n)}return Vl.empty()})(e.open())}static async fromAsync(t){return await Vl.from(t)}static fromStruct(t){return Vl.new(t.data.childData,t.type.children)}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Vl(...(n=(t=>{const[e,i]=wr(t,[[],[]]);return i.map((t,i)=>t instanceof cr?cr.new(t.field.clone(e[i]),t):t instanceof me?cr.new(e[i],t):cr.new(e[i],[]))})(e),Jo(new _r(n.map(t=>{let{field:e}=t;return e})),n)));var n}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._chunks;return new Vl(this._schema,t)}getColumn(t){return this.getColumnAt(this.getColumnIndex(t))}getColumnAt(t){return this.getChildAt(t)}getColumnIndex(t){return this._schema.fields.findIndex(e=>e.name===t)}getChildAt(t){if(t<0||t>=this.numChildren)return null;let e,i;const n=this._schema.fields,r=this._children||(this._children=[]);if(i=r[t])return i;if(e=n[t]){const i=this._chunks.map(e=>e.getChildAt(t)).filter(t=>null!=t);if(i.length>0)return r[t]=new cr(e,i)}return null}serialize(){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?Ko:Yo).writeAll(this).toUint8Array(!0)}count(){return this._length}select(){const t=this._schema.fields.reduce((t,e,i)=>t.set(e.name,i),new Map);for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.selectAt(...i.map(e=>t.get(e)).filter(t=>t>-1))}selectAt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=this._schema.selectAt(...e);return new Vl(n,this._chunks.map(t=>{let{length:i,data:{childData:r}}=t;return new Ul(n,i,e.map(t=>r[t]).filter(Boolean))}))}assign(t){var e=this;const i=this._schema.fields,[n,r]=t.schema.fields.reduce((t,e,n)=>{const[r,s]=t,o=i.findIndex(t=>t.name===e.name);return~o?s[o]=n:r.push(n),t},[[],[]]),s=this._schema.assign(t.schema),o=[...i.map((function(i,n,s){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r[n];return void 0===o?e.getColumnAt(n):t.getColumnAt(o)})),...n.map(e=>t.getColumnAt(e))].filter(Boolean);return new Vl(...Jo(s,o))}}class Ul extends Fa{constructor(){let t;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];let r,s=i[0];if(i[1]instanceof Bi)[,t,r]=i;else{const e=s.fields,[,n,r]=i;t=Bi.Struct(new Si(e),0,n,0,null,r)}super(t,r),this._schema=s}static from(t){return lt(t.values),Vl.from(t)}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const[n,r]=yr(e),s=r.filter(t=>t instanceof me);return new Ul(...function(t,e){let i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce((t,e)=>Math.max(t,e.length),0),s=-1,o=e.length;const a=[...t.fields],l=[],u=(r+63&-64)>>3;for(;++s<o;)(i=e[s])&&i.length===r?l[s]=i:((n=a[s]).nullable||(a[s]=a[s].clone({nullable:!0})),l[s]=i?i._changeLengthAndBackfillNullBitmap(r):Bi.new(n.type,0,r,r,Go(u)));return[new _r(a),r,l]}(new _r(n),s.map(t=>t.data)))}clone(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._children;return new Ul(this._schema,t,e)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=this._schema,r=lr.flatten(this,...e);return new Vl(n,r.map(t=>{let{data:e}=t;return new Ul(n,e)}))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=Wl.collect(this))}select(){const t=this._schema.fields.reduce((t,e,i)=>t.set(e.name,i),new Map);for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.selectAt(...i.map(e=>t.get(e)).filter(t=>t>-1))}selectAt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=this._schema.selectAt(...e),r=e.map(t=>this.data.childData[t]).filter(Boolean);return new Ul(n,this.length,r)}}class jl extends Ul{constructor(t){super(t,0,t.fields.map(t=>Bi.new(t.type,0,0,0)))}}class Wl extends ze{constructor(){super(...arguments),this.dictionaries=new Map}static collect(t){return(new Wl).visit(t.data,new Si(t.schema.fields)).dictionaries}visit(t,e){return qe.isDictionary(e)?this.visitDictionary(t,e):(t.childData.forEach((t,i)=>this.visit(t,e.children[i].type)),this)}visitDictionary(t,e){const i=t.dictionary;return i&&i.length>0&&this.dictionaries.set(e.id,i),this}}function $l(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return($l=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new $l(t)}class Hl extends q{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return at(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return re.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return re.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Hl?t:ht(t)?function(t){return new Kl(new eu(t))}(t):dt(t)?async function(t){const{size:e}=await t.stat(),i=new bs(t,e);if(e>=Fo&&Do(await i.readAt(0,No+7&-8)))return new ql(new tu(i));return new Yl(new Jl(i))}(t):at(t)?(async()=>await Hl.from(await t))():ft(t)||pt(t)||yt(t)||ut(t)?async function(t){const e=await t.peek(No+7&-8);return e&&e.byteLength>=4?Do(e)?new Xl(new Zl(await t.read())):new Yl(new Jl(t)):new Yl(new Jl(L((function*(){}))()))}(new ds(t)):function(t){const e=t.peek(No+7&-8);return e&&e.byteLength>=4?Do(e)?new Xl(new Zl(t.read())):new Kl(new Gl(t)):new Kl(new Gl(function*(){}()))}(new cs(t))}static readAll(t){return t instanceof Hl?t.isSync()?nu(t):ru(t):ht(t)||ArrayBuffer.isView(t)||lt(t)||ct(t)?nu(t):ru(t)}}class Kl extends Hl{constructor(t){super(t),this._impl=t}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){var t=this;return L((function*(){yield*A(function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new $l(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(t[Symbol.iterator]()),O)}))()}}class Yl extends Hl{constructor(t){super(t),this._impl=t}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Xl extends Kl{constructor(t){super(t),this._impl=t}}class ql extends Yl{constructor(t){super(t),this._impl=t}}class Ql{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){return new Ul(this.schema,t.length,this._loadVectors(t,e,this.schema.fields))}_loadDictionaryBatch(t,e){const{id:i,isDelta:n,data:r}=t,{dictionaries:s,schema:o}=this,a=s.get(i);if(n||!a){const t=o.dictionaries.get(i);return a&&n?a.concat(me.new(this._loadVectors(r,e,[t])[0])):me.new(this._loadVectors(r,e,[t])[0])}return a}_loadVectors(t,e,i){return new xs(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}class Gl extends Ql{constructor(t,e){super(e),this._reader=ht(t)?new Bo(this._handle=t):new Co(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=iu(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Y}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Y}next(){if(this.closed)return Y;let t,{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new jl(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Jl extends Ql{constructor(t,e){super(e),this._reader=new Oo(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}async cancel(){!this.closed&&(this.closed=!0)&&(await this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}async open(t){return this.closed||(this.autoDestroy=iu(this,t),this.schema||(this.schema=await this._reader.readSchema())||await this.cancel()),this}async throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.throw(t):Y}async return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.return(t):Y}async next(){if(this.closed)return Y;let t,{_reader:e}=this;for(;t=await this._readNextMessageAndValidate();)if(t.isSchema())await this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=await e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=await e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new jl(this.schema)}):await this.return()}async _readNextMessageAndValidate(t){return await this._reader.readMessage(t)}}class Zl extends Gl{constructor(t,e){super(t instanceof ys?t:new ys(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){if(this.closed)return null;this._footer||this.open();const e=this._footer&&this._footer.getRecordBatch(t);if(e&&this._handle.seek(e.offset)){const t=this._reader.readMessage(Ee.RecordBatch);if(t&&t.isRecordBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){const e=this._footer&&this._footer.getDictionaryBatch(t);if(e&&this._handle.seek(e.offset)){const t=this._reader.readMessage(Ee.DictionaryBatch);if(t&&t.isDictionaryBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}_readFooter(){const{_handle:t}=this,e=t.size-zo,i=t.readInt32(e),n=t.readAt(e-i,i);return os.decode(n)}_readNextMessageAndValidate(t){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(e&&this._handle.seek(e.offset))return this._reader.readMessage(t)}return null}}class tu extends Jl{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const r="number"!==typeof i[0]?i.shift():void 0,s=i[0]instanceof Map?i.shift():void 0;super(t instanceof bs?t:new bs(t,r),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}async open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=await this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&await this._readDictionaryBatch(this._dictionaryIndex++)}return await super.open(t)}async readRecordBatch(t){if(this.closed)return null;this._footer||await this.open();const e=this._footer&&this._footer.getRecordBatch(t);if(e&&await this._handle.seek(e.offset)){const t=await this._reader.readMessage(Ee.RecordBatch);if(t&&t.isRecordBatch()){const e=t.header(),i=await this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}async _readDictionaryBatch(t){const e=this._footer&&this._footer.getDictionaryBatch(t);if(e&&await this._handle.seek(e.offset)){const t=await this._reader.readMessage(Ee.DictionaryBatch);if(t&&t.isDictionaryBatch()){const e=t.header(),i=await this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}async _readFooter(){const{_handle:t}=this;t._pending&&await t._pending;const e=t.size-zo,i=await t.readInt32(e),n=await t.readAt(e-i,i);return os.decode(n)}async _readNextMessageAndValidate(t){if(this._footer||await this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&await this._handle.seek(e.offset))return await this._reader.readMessage(t)}return null}}class eu extends Gl{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new Ts(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}function iu(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*nu(t){const e=Hl.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function ru(t){return su.apply(this,arguments)}function su(){return(su=L((function*(t){const e=yield O(Hl.from(t));try{if(!(yield O(e.open({autoDestroy:!1}))).closed)do{yield e}while(!(yield O(e.reset().open())).closed)}finally{yield O(e.cancel())}}))).apply(this,arguments)}const ou=["readableStrategy","writableStrategy","queueingStrategy"];class au{constructor(t){this._numChunks=0,this._finished=!1,this._bufferedSize=0;const{readableStrategy:e,writableStrategy:i,queueingStrategy:n="count"}=t,r=ta(t,ou);this._controller=null,this._builder=Ui.new(r),this._getSize="bytes"!==n?lu:uu;const{highWaterMark:s=("bytes"===n?16384:1e3)}=Object(be.a)({},e),{highWaterMark:o=("bytes"===n?16384:1e3)}=Object(be.a)({},i);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:t=>{this._maybeFlush(this._builder,this._controller=t)},start:t=>{this._maybeFlush(this._builder,this._controller=t)}},{highWaterMark:s,size:"bytes"!==n?lu:uu}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:o,size:t=>this._writeValueAndReturnChunkSize(t)})}_writeValueAndReturnChunkSize(t){const e=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(t)),this._bufferedSize-e}_maybeFlush(t,e){null!==e&&(this._bufferedSize>=e.desiredSize&&++this._numChunks&&this._enqueue(e,t.toVector()),t.finished&&((t.length>0||0===this._numChunks)&&++this._numChunks&&this._enqueue(e,t.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(e,null)))}_enqueue(t,e){this._bufferedSize=0,this._controller=null,null===e?t.close():t.enqueue(e)}}const lu=t=>t.length,uu=t=>t.byteLength;class hu{eq(t){return t instanceof hu||(t=new cu(t)),new vu(this,t)}le(t){return t instanceof hu||(t=new cu(t)),new gu(this,t)}ge(t){return t instanceof hu||(t=new cu(t)),new wu(this,t)}lt(t){return new _u(this.ge(t))}gt(t){return new _u(this.le(t))}ne(t){return new _u(this.eq(t))}}class cu extends hu{constructor(t){super(),this.v=t}}class du extends hu{constructor(t){super(),this.name=t}bind(t){if(!this.colidx){this.colidx=-1;const e=t.schema.fields;for(let t=-1;++t<e.length;)if(e[t].name===this.name){this.colidx=t;break}if(this.colidx<0)throw new Error('Failed to bind Col "'.concat(this.name,'"'))}const e=this.vector=t.getChildAt(this.colidx);return t=>e.get(t)}}class fu{and(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new bu(this,...e)}or(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new mu(this,...e)}not(){return new _u(this)}}class pu extends fu{constructor(t,e){super(),this.left=t,this.right=e}bind(t){return this.left instanceof cu?this.right instanceof cu?this._bindLitLit(t,this.left,this.right):this._bindLitCol(t,this.left,this.right):this.right instanceof cu?this._bindColLit(t,this.left,this.right):this._bindColCol(t,this.left,this.right)}}class yu extends fu{constructor(){super();for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.children=e}}yu.prototype.children=Object.freeze([]);class bu extends yu{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e=e.reduce((t,e)=>t.concat(e instanceof bu?e.children:e),[]),super(...e)}bind(t){const e=this.children.map(e=>e.bind(t));return(t,i)=>e.every(e=>e(t,i))}}class mu extends yu{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e=e.reduce((t,e)=>t.concat(e instanceof mu?e.children:e),[]),super(...e)}bind(t){const e=this.children.map(e=>e.bind(t));return(t,i)=>e.some(e=>e(t,i))}}class vu extends pu{_bindLitLit(t,e,i){const n=e.v==i.v;return()=>n}_bindColCol(t,e,i){const n=e.bind(t),r=i.bind(t);return(t,e)=>n(t,e)==r(t,e)}_bindColLit(t,e,i){const n=e.bind(t);if(e.vector instanceof la){let t;const n=e.vector;return n.dictionary!==this.lastDictionary?(t=n.reverseLookup(i.v),this.lastDictionary=n.dictionary,this.lastKey=t):t=this.lastKey,-1===t?()=>!1:e=>n.getKey(e)===t}return(t,e)=>n(t,e)==i.v}_bindLitCol(t,e,i){return this._bindColLit(t,i,e)}}class gu extends pu{_bindLitLit(t,e,i){const n=e.v<=i.v;return()=>n}_bindColCol(t,e,i){const n=e.bind(t),r=i.bind(t);return(t,e)=>n(t,e)<=r(t,e)}_bindColLit(t,e,i){const n=e.bind(t);return(t,e)=>n(t,e)<=i.v}_bindLitCol(t,e,i){const n=i.bind(t);return(t,i)=>e.v<=n(t,i)}}class wu extends pu{_bindLitLit(t,e,i){const n=e.v>=i.v;return()=>n}_bindColCol(t,e,i){const n=e.bind(t),r=i.bind(t);return(t,e)=>n(t,e)>=r(t,e)}_bindColLit(t,e,i){const n=e.bind(t);return(t,e)=>n(t,e)>=i.v}_bindLitCol(t,e,i){const n=i.bind(t);return(t,i)=>e.v>=n(t,i)}}class _u extends fu{constructor(t){super(),this.child=t}bind(t){const e=this.child.bind(t);return(t,i)=>!e(t,i)}}Vl.prototype.countBy=function(t){return new Su(this.chunks).countBy(t)},Vl.prototype.scan=function(t,e){return new Su(this.chunks).scan(t,e)},Vl.prototype.scanReverse=function(t,e){return new Su(this.chunks).scanReverse(t,e)},Vl.prototype.filter=function(t){return new Su(this.chunks).filter(t)};class Su extends Vl{filter(t){return new Tu(this.chunks,t)}scan(t,e){const i=this.chunks,n=i.length;for(let r=-1;++r<n;){const n=i[r];e&&e(n);for(let e=-1,i=n.length;++e<i;)t(e,n)}}scanReverse(t,e){const i=this.chunks;for(let n=i.length;--n>=0;){const r=i[n];e&&e(r);for(let e=r.length;--e>=0;)t(e,r)}}countBy(t){const e=this.chunks,i=e.length,n="string"===typeof t?new du(t):t;n.bind(e[i-1]);const r=n.vector;if(!qe.isDictionary(r.type))throw new Error("countBy currently only supports dictionary-encoded columns");const s=Math.ceil(Math.log(r.length)/Math.log(256)),o=new(4==s?Uint32Array:s>=2?Uint16Array:Uint8Array)(r.dictionary.length);for(let a=-1;++a<i;){const t=e[a];n.bind(t);const i=n.vector.indices;for(let e=-1,n=t.length;++e<n;){let t=i.get(e);null!==t&&o[t]++}}return new xu(r.dictionary,_a.from(o))}}class xu extends Vl{constructor(t,e){const i=new _r([new Sr("values",t.type),new Sr("counts",e.type)]);super(new Ul(i,e.length,[t,e]))}toJSON(){const t=this.getColumnAt(0),e=this.getColumnAt(1),i={};for(let n=-1;++n<this.length;)i[t.get(n)]=e.get(n);return i}}class Tu extends Su{constructor(t,e){super(t),this._predicate=e}scan(t,e){const i=this._chunks,n=i.length;for(let r=-1;++r<n;){const n=i[r],s=this._predicate.bind(n);let o=!1;for(let i=-1,r=n.length;++i<r;)s(i,n)&&(e&&!o&&(e(n),o=!0),t(i,n))}}scanReverse(t,e){const i=this._chunks;for(let n=i.length;--n>=0;){const r=i[n],s=this._predicate.bind(r);let o=!1;for(let i=r.length;--i>=0;)s(i,r)&&(e&&!o&&(e(r),o=!0),t(i,r))}}count(){let t=0;const e=this._chunks,i=e.length;for(let n=-1;++n<i;){const i=e[n],r=this._predicate.bind(i);for(let e=-1,n=i.length;++e<n;)r(e,i)&&++t}return t}*[Symbol.iterator](){const t=this._chunks,e=t.length;for(let i=-1;++i<e;){const e=t[i],n=this._predicate.bind(e);for(let t=-1,i=e.length;++t<i;)n(t,e)&&(yield e.get(t))}}filter(t){return new Tu(this._chunks,this._predicate.and(t))}countBy(t){const e=this._chunks,i=e.length,n="string"===typeof t?new du(t):t;n.bind(e[i-1]);const r=n.vector;if(!qe.isDictionary(r.type))throw new Error("countBy currently only supports dictionary-encoded columns");const s=Math.ceil(Math.log(r.length)/Math.log(256)),o=new(4==s?Uint32Array:s>=2?Uint16Array:Uint8Array)(r.dictionary.length);for(let a=-1;++a<i;){const t=e[a],i=this._predicate.bind(t);n.bind(t);const r=n.vector.indices;for(let e=-1,n=t.length;++e<n;){let n=r.get(e);null!==n&&i(e,t)&&o[n]++}}return new xu(r.dictionary,_a.from(o))}}Object(be.a)(Object(be.a)(Object(be.a)(Object(be.a)(Object(be.a)(Object(be.a)({},o),l),r),s),n),a);re.toDOMStream=function(t,e){if(ut(t))return function(t,e){let i=null;const n=e&&"bytes"===e.type||!1,r=e&&e.highWaterMark||2**24;return new ReadableStream(Object(be.a)(Object(be.a)({},e),{},{async start(e){await s(e,i||(i=t[Symbol.asyncIterator]()))},async pull(t){i?await s(t,i):t.close()},async cancel(){i&&i.return&&await i.return(),i=null}}),Object(be.a)({highWaterMark:n?r:void 0},e));async function s(t,e){let i,r=null,s=t.desiredSize||null;for(;!(r=await e.next(n?s:null)).done;)if(ArrayBuffer.isView(r.value)&&(i=Mt(r.value))&&(null!=s&&n&&(s=s-i.byteLength+1),r.value=i),t.enqueue(r.value),null!=s&&--s<=0)return;t.close()}}(t,e);if(lt(t))return function(t,e){let i=null;const n=e&&"bytes"===e.type||!1,r=e&&e.highWaterMark||2**24;return new ReadableStream(Object(be.a)(Object(be.a)({},e),{},{start(e){s(e,i||(i=t[Symbol.iterator]()))},pull(t){i?s(t,i):t.close()},cancel(){i&&i.return&&i.return(),i=null}}),Object(be.a)({highWaterMark:n?r:void 0},e));function s(t,e){let i,r=null,s=t.desiredSize||null;for(;!(r=e.next(n?s:null)).done;)if(ArrayBuffer.isView(r.value)&&(i=Mt(r.value))&&(null!=s&&n&&(s=s-i.byteLength+1),r.value=i),t.enqueue(r.value),null!=s&&--s<=0)return;t.close()}}(t,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")},Ui.throughDOM=function(t){return new au(t)},Hl.throughDOM=function(t,e){const i=new hs;let n=null;const r=new ReadableStream({async cancel(){await i.close()},async start(t){await s(t,n||(n=await async function(){return await(await Hl.from(i)).open(e)}()))},async pull(t){n?await s(t,n):t.close()}});return{writable:new WritableStream(i,Object(be.a)({highWaterMark:16384},t)),readable:r};async function s(t,e){let i=t.desiredSize,n=null;for(;!(n=await e.next()).done;)if(t.enqueue(n.value),null!=i&&--i<=0)return;t.close()}},Ho.throughDOM=function(t,e){const i=new this(t),n=new ds(i),r=new ReadableStream({type:"bytes",async cancel(){await n.cancel()},async pull(t){await s(t)},async start(t){await s(t)}},Object(be.a)({highWaterMark:16384},e));return{writable:new WritableStream(i,t),readable:r};async function s(t){let e=null,i=t.desiredSize;for(;e=await n.read(i||null);)if(t.enqueue(e),null!=i&&(i-=e.byteLength)<=0)return;t.close()}};var Eu,Iu=function(){function t(t,e,i,n){var r=this;this.getCell=function(t,e){var i=t<r.headerRows&&e<r.headerColumns,n=t>=r.headerRows&&e<r.headerColumns,s=t<r.headerRows&&e>=r.headerColumns;if(i){var o=["blank"];return e>0&&o.push("level"+t),{type:"blank",classNames:o.join(" "),content:""}}if(s)return{type:"columns",classNames:(o=["col_heading","level"+t,"col"+(l=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,l,t)};if(n){o=["row_heading","level"+e,"row"+(a=t-r.headerRows)];return{type:"index",id:"T_"+r.uuid+"level"+e+"_row"+a,classNames:o.join(" "),content:r.getContent(r.indexTable,a,e)}}o=["data","row"+(a=t-r.headerRows),"col"+(l=e-r.headerColumns)];var a,l,u=r.styler?r.getContent(r.styler.displayValuesTable,a,l):r.getContent(r.dataTable,a,l);return{type:"data",id:"T_"+r.uuid+"row"+a+"_col"+l,classNames:o.join(" "),content:u}},this.getContent=function(t,e,i){var n=t.getColumnAt(i);if(null===n)return"";switch(r.getColumnTypeId(t,i)){case ve.Timestamp:return r.nanosToDate(n.get(e));default:return n.get(e)}},this.dataTable=Vl.from(t),this.indexTable=Vl.from(e),this.columnsTable=Vl.from(i),this.styler=n?{caption:n.caption,displayValuesTable:Vl.from(n.displayValues),styles:n.styles,uuid:n.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.length+this.columnsTable.numCols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!0,configurable:!0}),t.prototype.serialize=function(){return{data:this.dataTable.serialize(),index:this.indexTable.serialize(),columns:this.columnsTable.serialize()}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),Mu=function(){return(Mu=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(Eu||(Eu={}));var ku=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new k,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(Eu.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(Eu.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var i;e instanceof Iu?(i="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(i){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(i="bytes",e=new Uint8Array(e)):i="json":(i="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(Eu.SET_COMPONENT_VALUE,{value:e,dataType:i})},t.onMessageEvent=function(e){switch(e.data.type){case t.RENDER_EVENT:t.onRenderMessage(e.data)}},t.onRenderMessage=function(e){var i=e.args;null==i&&(console.error("Got null args in onRenderMessage. This should never happen"),i={});var n=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};i=Mu(Mu({},i),n);var r=Boolean(e.disabled),s=e.theme;s&&Cu(s);var o={disabled:r,args:i,theme:s},a=new CustomEvent(t.RENDER_EVENT,{detail:o});t.events.dispatchEvent(a)},t.argsDataframeToObject=function(e){var i=e.map((function(e){var i=e.key,n=e.value;return[i,t.toArrowTable(n)]}));return Object.fromEntries(i)},t.toArrowTable=function(t){var e=t.data,i=e.data,n=e.index,r=e.columns,s=e.styler;return new Iu(i,n,r,s)},t.sendBackMsg=function(t,e){window.parent.postMessage(Mu({isStreamlitMessage:!0,type:t},e),"*")},t}(),Cu=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: "+t.primaryColor+";\n      --background-color: "+t.backgroundColor+";\n      --secondary-background-color: "+t.secondaryBackgroundColor+";\n      --text-color: "+t.textColor+";\n      --font: "+t.font+";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  "};var Ou=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ou(e,t),e.prototype.componentDidMount=function(){ku.setFrameHeight()},e.prototype.componentDidUpdate=function(){ku.setFrameHeight()},e}(d.a.PureComponent);function Lu(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.componentDidMount=function(){ku.events.addEventListener(ku.RENDER_EVENT,n.onRenderEvent),ku.setComponentReady()},n.componentDidUpdate=function(){null!=n.state.componentError&&ku.setFrameHeight()},n.componentWillUnmount=function(){ku.events.removeEventListener(ku.RENDER_EVENT,n.onRenderEvent)},n.onRenderEvent=function(t){var e=t;n.setState({renderData:e.detail})},n.render=function(){return null!=n.state.componentError?d.a.createElement("div",null,d.a.createElement("h1",null,"Component Error"),d.a.createElement("span",null,n.state.componentError.message)):null==n.state.renderData?null:d.a.createElement(t,{width:window.innerWidth,disabled:n.state.renderData.disabled,args:n.state.renderData.args,theme:n.state.renderData.theme})},n.state={renderData:void 0,componentError:void 0},n}return Ou(i,e),i.getDerivedStateFromError=function(t){return{componentError:t}},i}(d.a.PureComponent);return h()(e,t)}},function(t,e,i){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=i(12)},function(t,e,i){"use strict";var n=i(17),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return n.isMemo(t)?o:a[t.$$typeof]||r}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=o;var u=Object.defineProperty,h=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,i,n){if("string"!==typeof i){if(p){var r=f(i);r&&r!==p&&t(e,r,n)}var o=h(i);c&&(o=o.concat(c(i)));for(var a=l(e),y=l(i),b=0;b<o.length;++b){var m=o[b];if(!s[m]&&(!n||!n[m])&&(!y||!y[m])&&(!a||!a[m])){var v=d(i,m);try{u(e,m,v)}catch(g){}}}}return e}},function(t,e,i){"use strict";function n(t){var e=t.width,i=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:i}}function r(t,e){return t.width===e.width&&t.height===e.height}i.d(e,"a",(function(){return Mr}));var s=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter((function(t){return t!==i}))}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach((function(e){return e.next(t._window.devicePixelRatio)})),this._reinstallResolutionListener()},t}();var o=function(){function t(t,e,i){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=n({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!==e&&void 0!==e?e:function(t){return t},this._allowResizeObserver=null===(r=null===i||void 0===i?void 0:i.allowResizeObserver)||void 0===r||r,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return n({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=n(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter((function(e){return e!==t}))},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter((function(e){return e!==t}))},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;r(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=n(this._transformBitmapSize(t,this._canvasElementClientSize)),s=r(this.bitmapSize,i)?null:i;null===e&&null===s||null!==e&&null!==s&&r(e,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(e,s))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise((function(t){var e=new ResizeObserver((function(i){t(i.every((function(t){return"devicePixelContentBoxSize"in t}))),e.disconnect()}));e.observe(document.body,{box:"device-pixel-content-box"})})).catch((function(){return!1})).then((function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=a(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new s(t)}(e),this._devicePixelRatioObservable.subscribe((function(){return t._invalidateBitmapSize()})),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var i=a(this._canvasElement);if(null!==i){var r=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:i.devicePixelRatio,s=this._canvasElement.getClientRects(),o=void 0!==s[0]?function(t,e){return n({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(s[0],r):n({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver((function(e){var i=e.find((function(e){return e.target===t._canvasElement}));if(i&&i.devicePixelContentBoxSize&&i.devicePixelContentBoxSize[0]){var r=i.devicePixelContentBoxSize[0],s=n({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(s)}})),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function a(t){return t.ownerDocument.defaultView}var l=function(){function t(t,e,i){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===i.width||0===i.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function u(t,e){var i=t.canvasElementClientSize;if(0===i.width||0===i.height)return null;var n=t.bitmapSize;if(0===n.width||0===n.height)return null;var r=t.canvasElement.getContext("2d",e);return null===r?null:new l(r,i,n)}const h={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},c={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},d={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},f={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},p={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},y={color:"#26a69a",base:0},b={color:"#2196f3"},m={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var v,g,w;function _(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function S(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(i,e+r),t.lineTo(n,e+r),t.stroke()}function x(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function T(t){if(void 0===t)throw new Error("Value is undefined");return t}function E(t){if(null===t)throw new Error("Value is null");return t}function I(t){return E(T(t))}(w=v||(v={}))[w.Simple=0]="Simple",w[w.WithSteps=1]="WithSteps",w[w.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(g||(g={}));const M={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function k(t){return t<0?0:t>255?255:Math.round(t)||0}function C(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const O=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,B=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,L=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,A=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function D(t){(t=t.toLowerCase())in M&&(t=M[t]);{const e=A.exec(t)||L.exec(t);if(e)return[k(parseInt(e[1],10)),k(parseInt(e[2],10)),k(parseInt(e[3],10)),C(e.length<5?1:parseFloat(e[4]))]}{const e=B.exec(t);if(e)return[k(parseInt(e[1],16)),k(parseInt(e[2],16)),k(parseInt(e[3],16)),1]}{const e=O.exec(t);if(e)return[k(17*parseInt(e[1],16)),k(17*parseInt(e[2],16)),k(17*parseInt(e[3],16)),1]}throw new Error("Cannot parse color: ".concat(t))}function N(t){return.199*t[0]+.687*t[1]+.114*t[2]}function z(t){const e=D(t);return{t:"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),i:N(e)>160?"black":"white"}}class F{constructor(){this.h=[]}l(t,e,i){const n={o:t,_:e,u:!0===i};this.h.push(n)}v(t){const e=this.h.findIndex(e=>t===e.o);e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,i){const n=[...this.h];this.h=this.h.filter(t=>!t.u),n.forEach(n=>n.o(t,e,i))}M(){return this.h.length>0}S(){this.h=[]}}function P(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const r of i)for(const e in r)void 0!==r[e]&&Object.prototype.hasOwnProperty.call(r,e)&&!["__proto__","constructor","prototype"].includes(e)&&("object"!=typeof r[e]||void 0===t[e]||Array.isArray(r[e])?t[e]=r[e]:P(t[e],r[e]));return t}function R(t){return"number"==typeof t&&isFinite(t)}function V(t){return"number"==typeof t&&t%1==0}function U(t){return"string"==typeof t}function j(t){return"boolean"==typeof t}function W(t){const e=t;if(!e||"object"!=typeof e)return e;let i,n,r;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(r=e[n],i[n]=r&&"object"==typeof r?W(r):r);return i}function $(t){return null!==t}function H(t){return null===t?void 0:t}const K="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Y(t,e,i){return void 0===e&&(e=K),"".concat(i=void 0!==i?"".concat(i," "):"").concat(t,"px ").concat(e)}class X{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,e=this.j(),i=this.H();return t.P===e&&t.D===i||(t.P=e,t.D=i,t.R=Y(e,i),t.L=2.5/12*e,t.B=t.L,t.A=e/12*t.T,t.I=e/12*t.T,t.N=0),t.V=this.$(),t.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class q{constructor(){this.Y=[]}Z(t){this.Y=t}X(t,e,i){this.Y.forEach(n=>{n.X(t,e,i)})}}class Q{X(t,e,i){t.useBitmapCoordinateSpace(t=>this.K(t,e,i))}}class G extends Q{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.G||null===this.G.tt)return;const r=this.G.tt,s=this.G,o=Math.max(1,Math.floor(i))%2/2,a=t=>{e.beginPath();for(let a=r.to-1;a>=r.from;--a){const r=s.it[a],l=Math.round(r.nt*i)+o,u=r.st*n,h=t*n+o;e.moveTo(l,u),e.arc(l,u,h,0,2*Math.PI)}e.fill()};s.et>0&&(e.fillStyle=s.rt,a(s.ht+s.et)),e.fillStyle=s.lt,a(s.ht)}}function J(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const Z={from:0,to:1};class tt{constructor(t,e){this.ut=new q,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=e,this.ut.Z(this.ct)}bt(t){const e=this.F.wt();e.length!==this.ct.length&&(this.dt=e.map(J),this.ct=this.dt.map(t=>{const e=new G;return e.J(t),e}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=2===this.vt.W().mode,e=this.F.wt(),i=this.vt.xt(),n=this.F.St();e.forEach((e,r)=>{var s;const o=this.dt[r],a=e.kt(i);if(t||null===a||!e.yt())return void(o.tt=null);const l=E(e.Ct());o.lt=a.Tt,o.ht=a.ht,o.et=a.Pt,o.it[0]._t=a._t,o.it[0].st=e.Dt().Rt(a._t,l.Vt),o.rt=null!==(s=a.Ot)&&void 0!==s?s:this.F.Bt(o.it[0].st/e.Dt().At()),o.it[0].ot=i,o.it[0].nt=n.It(i),o.tt=Z})}}class et extends Q{constructor(t){super(),this.zt=t}K(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.zt)return;const s=this.zt.Lt.yt,o=this.zt.Et.yt;if(!s&&!o)return;const a=Math.round(this.zt.nt*n),l=Math.round(this.zt.st*r);e.lineCap="butt",s&&a>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*n),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,_(e,this.zt.Lt.Nt),function(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(e+r,0),t.lineTo(e+r,n),t.stroke()}(e,a,0,i.height)),o&&l>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*r),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,_(e,this.zt.Et.Nt),S(e,l,0,i.width))}}class it{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new et(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),e=E(this.jt.Ht()),i=e.$t().W().crosshair,n=this.Ft;if(2===i.mode)return n.Et.yt=!1,void(n.Lt.yt=!1);n.Et.yt=t&&this.jt.Ut(e),n.Lt.yt=t&&this.jt.qt(),n.Et.et=i.horzLine.width,n.Et.Nt=i.horzLine.style,n.Et.V=i.horzLine.color,n.Lt.et=i.vertLine.width,n.Lt.Nt=i.vertLine.style,n.Lt.V=i.vertLine.color,n.nt=this.jt.Yt(),n.st=this.jt.Zt()}}function nt(t,e,i,n,r,s){t.fillRect(e+s,i,n-2*s,s),t.fillRect(e+s,i+r-s,n-2*s,s),t.fillRect(e,i,s,r),t.fillRect(e+n-s,i,s,r)}function rt(t,e,i,n,r,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,i,n,r),t.restore()}function st(t,e,i,n,r,s){t.beginPath(),t.roundRect?t.roundRect(e,i,n,r,s):(t.lineTo(e+n-s[1],i),0!==s[1]&&t.arcTo(e+n,i,e+n,i+s[1],s[1]),t.lineTo(e+n,i+r-s[2]),0!==s[2]&&t.arcTo(e+n,i+r,e+n-s[2],i+r,s[2]),t.lineTo(e+s[3],i+r),0!==s[3]&&t.arcTo(e,i+r,e,i+r-s[3],s[3]),t.lineTo(e,i+s[0]),0!==s[0]&&t.arcTo(e,i,e+s[0],i,s[0]))}function ot(t,e,i,n,r,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0,0,0,0],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";if(t.save(),!o||!l||l===s)return st(t,e,i,n,r,a),t.fillStyle=s,t.fill(),void t.restore();const u=o/2;var h;st(t,e+u,i+u,n-o,r-o,(h=-u,a.map(t=>0===t?t:t+h))),"transparent"!==s&&(t.fillStyle=s,t.fill()),"transparent"!==l&&(t.lineWidth=o,t.strokeStyle=l,t.closePath(),t.stroke()),t.restore()}function at(t,e,i,n,r,s,o){t.save(),t.globalCompositeOperation="copy";const a=t.createLinearGradient(0,0,0,r);a.addColorStop(0,s),a.addColorStop(1,o),t.fillStyle=a,t.fillRect(e,i,n,r),t.restore()}class lt{constructor(t,e){this.J(t,e)}J(t,e){this.zt=t,this.Xt=e}At(t,e){return this.zt.yt?t.P+t.L+t.B:0}X(t,e,i,n){if(!this.zt.yt||0===this.zt.Kt.length)return;const r=this.zt.V,s=this.Xt.t,o=t.useBitmapCoordinateSpace(t=>{const o=t.context;o.font=e.R;const a=this.Gt(t,e,i,n),l=a.Jt;return a.Qt?ot(o,l.ti,l.ii,l.ni,l.si,s,l.ei,[l.ht,0,0,l.ht],s):ot(o,l.ri,l.ii,l.ni,l.si,s,l.ei,[0,l.ht,l.ht,0],s),this.zt.hi&&(o.fillStyle=r,o.fillRect(l.ri,l.li,l.ai-l.ri,l.oi)),this.zt._i&&(o.fillStyle=e.O,o.fillRect(a.Qt?l.ui-l.ei:0,l.ii,l.ei,l.ci-l.ii)),a});t.useMediaCoordinateSpace(t=>{let{context:i}=t;const n=o.di;i.font=e.R,i.textAlign=o.Qt?"right":"left",i.textBaseline="middle",i.fillStyle=r,i.fillText(this.zt.Kt,n.fi,(n.ii+n.ci)/2+n.pi)})}Gt(t,e,i,n){var r;const{context:s,bitmapSize:o,mediaSize:a,horizontalPixelRatio:l,verticalPixelRatio:u}=t,h=this.zt.hi||!this.zt.mi?e.T:0,c=this.zt.bi?e.C:0,d=e.L+this.Xt.wi,f=e.B+this.Xt.gi,p=e.A,y=e.I,b=this.zt.Kt,m=e.P,v=i.Mi(s,b),g=Math.ceil(i.xi(s,b)),w=m+d+f,_=e.C+p+y+g+h,S=Math.max(1,Math.floor(u));let x=Math.round(w*u);x%2!=S%2&&(x+=1);const T=c>0?Math.max(1,Math.floor(c*l)):0,E=Math.round(_*l),I=Math.round(h*l),M=null!==(r=this.Xt.Si)&&void 0!==r?r:this.Xt.ki,k=Math.round(M*u)-Math.floor(.5*u),C=Math.floor(k+S/2-x/2),O=C+x,B="right"===n,L=B?a.width-c:c,A=B?o.width-T:T;let D,N,z;return B?(D=A-E,N=A-I,z=L-h-p-c):(D=A+E,N=A+I,z=L+h+p),{Qt:B,Jt:{ii:C,li:k,ci:O,ni:E,si:x,ht:2*l,ei:T,ti:D,ri:A,ai:N,oi:S,ui:o.width},di:{ii:C/u,ci:O/u,fi:z,pi:v}}}}class ut{constructor(t){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(t||lt)(this.Ci,this.yi),this.Ri=new(t||lt)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.max(this.Pi.At(t,e),this.Ri.At(t,e))}Vi(){return this.yi.Si||0}Oi(t){this.yi.Si=t}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(t){return this.Di(),this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.hi=this.Ti.hi&&t.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class ht extends ut{constructor(t,e,i){super(),this.jt=t,this.Li=e,this.Ei=i}zi(t,e,i){if(t.yt=!1,2===this.jt.W().mode)return;const n=this.jt.W().horzLine;if(!n.labelVisible)return;const r=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||null===r)return;const s=z(n.labelBackgroundColor);i.t=s.t,t.V=s.i;const o=2/12*this.Li.P();i.wi=o,i.gi=o;const a=this.Ei(this.Li);i.ki=a.ki,t.Kt=this.Li.Fi(a._t,r),t.yt=!0}}const ct=/[1-9]/g;class dt{constructor(){this.zt=null}J(t){this.zt=t}X(t,e){if(null===this.zt||!1===this.zt.yt||0===this.zt.Kt.length)return;const i=t.useMediaCoordinateSpace(t=>{let{context:i}=t;return i.font=e.R,Math.round(e.Wi.xi(i,E(this.zt).Kt,ct))});if(i<=0)return;const n=e.ji,r=i+2*n,s=r/2,o=this.zt.Hi;let a=this.zt.ki,l=Math.floor(a-s)+.5;l<0?(a+=Math.abs(0-l),l=Math.floor(a-s)+.5):l+r>o&&(a-=Math.abs(o-(l+r)),l=Math.floor(a-s)+.5);const u=l+r,h=Math.ceil(0+e.C+e.T+e.L+e.P+e.B);t.useBitmapCoordinateSpace(t=>{let{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;const s=E(this.zt);i.fillStyle=s.t;const o=Math.round(l*n),a=Math.round(0*r),c=Math.round(u*n),d=Math.round(h*r),f=Math.round(2*n);if(i.beginPath(),i.moveTo(o,a),i.lineTo(o,d-f),i.arcTo(o,d,o+f,d,f),i.lineTo(c-f,d),i.arcTo(c,d,c,d-f,f),i.lineTo(c,a),i.fill(),s.hi){const t=Math.round(s.ki*n),o=a,l=Math.round((o+e.T)*r);i.fillStyle=s.V;const u=Math.max(1,Math.floor(n)),h=Math.floor(.5*n);i.fillRect(t-h,o,u,l-o)}}),t.useMediaCoordinateSpace(t=>{let{context:i}=t;const r=E(this.zt),s=0+e.C+e.T+e.L+e.P/2;i.font=e.R,i.textAlign="left",i.textBaseline="middle",i.fillStyle=r.V;const o=e.Wi.Mi(i,"Apr0");i.translate(l+n,s+o),i.fillText(r.Kt,0,0)})}}class ft{constructor(t,e,i){this.ft=!0,this.Wt=new dt,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=t,this.$i=e,this.Ei=i}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,2===this.vt.W().mode)return;const e=this.vt.W().vertLine;if(!e.labelVisible)return;const i=this.$i.St();if(i.Ni())return;t.Hi=i.Hi();const n=this.Ei();if(null===n)return;t.ki=n.ki;const r=i.Ui(this.vt.xt());t.Kt=i.qi(E(r)),t.yt=!0;const s=z(e.labelBackgroundColor);t.t=s.t,t.V=s.i,t.hi=i.W().ticksVisible}}class pt{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(t){this.Zi=t}Dt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}yt(){return!0}}var yt;!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"}(yt||(yt={}));class bt extends pt{constructor(t,e){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=t,this.cn=e,this.dn=new tt(t,this),this.fn=((t,e)=>i=>{const n=e(),r=t();if(i===E(this.tn).vn())return{_t:r,ki:n};{const t=E(i.Ct());return{_t:i.pn(n,t),ki:n}}})(()=>this.nn,()=>this.an);const i=((t,e)=>()=>{const i=this.$i.St().mn(t()),n=e();return i&&Number.isFinite(n)?{ot:i,ki:n}:null})(()=>this.sn,()=>this.Yt());this.bn=new ft(this,t,i),this.wn=new it(this)}W(){return this.cn}gn(t,e){this._n=t,this.un=e}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,e,i){this.hn||(this.hn=!0),this.en=!0,this.yn(t,e,i)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(t){return null!==this.tn?[this.wn,this.dn]:[]}Ut(t){return t===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(t,e){this.en&&this.tn===t||this.rn.clear();const i=[];return this.tn===t&&i.push(this.Dn(this.rn,e,this.fn)),i}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(t=>t.bt()),this.bn.bt(),this.dn.bt()}On(t){return t&&!t.vn().Ni()?t.vn():null}yn(t,e,i){this.Bn(t,e,i)&&this.Vn()}Bn(t,e,i){const n=this.ln,r=this.an,s=this.nn,o=this.sn,a=this.tn,l=this.On(i);this.sn=t,this.ln=isNaN(t)?NaN:this.$i.St().It(t),this.tn=i;const u=null!==l?l.Ct():null;return null!==l&&null!==u?(this.nn=e,this.an=l.Rt(e,u)):(this.nn=NaN,this.an=NaN),n!==this.ln||r!==this.an||o!==this.sn||s!==this.nn||a!==this.tn}Tn(){const t=this.$i.wt().map(t=>t.In().An()).filter($),e=0===t.length?null:Math.max(...t);this.sn=null!==e?e:NaN}Dn(t,e,i){let n=t.get(e);return void 0===n&&(n=new ht(this,e,i),t.set(e,n)),n}}function mt(t){return"left"===t||"right"===t}class vt{constructor(t){this.zn=new Map,this.Ln=[],this.En=t}Nn(t,e){const i=function(t,e){return void 0===t?e:{Fn:Math.max(t.Fn,e.Fn),Wn:t.Wn||e.Wn}}(this.zn.get(t),e);this.zn.set(t,i)}jn(){return this.En}Hn(t){const e=this.zn.get(t);return void 0===e?{Fn:this.En}:{Fn:Math.max(this.En,e.Fn),Wn:e.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(t){this.Un(),this.Ln=[{qn:1,Vt:t}]}Zn(t){this.Xn(),this.Ln.push({qn:5,Vt:t})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(t){this.Un(),this.Ln.push({qn:2,Vt:t})}Jn(t){this.Un(),this.Ln.push({qn:3,Vt:t})}Qn(){return this.Ln}ts(t){for(const e of t.Ln)this.ns(e);this.En=Math.max(this.En,t.En),t.zn.forEach((t,e)=>{this.Nn(e,t)})}static ss(){return new vt(2)}static es(){return new vt(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Kn();break;case 5:this.Zn(t.Vt);break;case 6:this.Xn()}}Xn(){const t=this.Ln.findIndex(t=>5===t.qn);-1!==t&&this.Ln.splice(t,1)}}function gt(t,e){if(!R(t))return"n/a";if(!V(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class wt{constructor(t,e){if(e||(e=1),R(t)&&V(t)||(t=100),t<0)throw new TypeError("invalid base");this.Li=t,this.rs=e,this.hs()}format(t){const e=t<0?"\u2212":"";return t=Math.abs(t),e+this.ls(t)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this._s++}}ls(t){const e=this.Li/this.rs;let i=Math.floor(t),n="";const r=void 0!==this._s?this._s:NaN;if(e>1){let s=+(Math.round(t*e)-i*e).toFixed(this._s);s>=e&&(s-=e,i+=1),n="."+gt(+s.toFixed(this._s)*this.rs,r)}else i=Math.round(i*e)/e,r>0&&(n="."+gt(0,r));return i.toFixed(0)+n}}class _t extends wt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:100)}format(t){return"".concat(super.format(t),"%")}}class St{constructor(t){this.us=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.cs(t):t<999995?e+this.cs(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.cs(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.cs(t/1e9)+"B")}cs(t){let e;const i=Math.pow(10,this.us);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.us).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(t,e)=>e)}}function xt(t,e,i,n,r,s,o){if(0===e.length||n.from>=e.length||n.to<=0)return;const{context:a,horizontalPixelRatio:l,verticalPixelRatio:u}=t,h=e[n.from];let c=s(t,h),d=h;if(n.to-n.from<2){const e=r/2;a.beginPath();const i={nt:h.nt-e,st:h.st},n={nt:h.nt+e,st:h.st};a.moveTo(i.nt*l,i.st*u),a.lineTo(n.nt*l,n.st*u),o(t,c,i,n)}else{const r=(e,i)=>{o(t,c,d,i),a.beginPath(),c=e,d=i};let f=d;a.beginPath(),a.moveTo(h.nt*l,h.st*u);for(let o=n.from+1;o<n.to;++o){f=e[o];const n=s(t,f);switch(i){case 0:a.lineTo(f.nt*l,f.st*u);break;case 1:a.lineTo(f.nt*l,e[o-1].st*u),n!==c&&(r(n,f),a.lineTo(f.nt*l,e[o-1].st*u)),a.lineTo(f.nt*l,f.st*u);break;case 2:{const[t,i]=It(e,o-1,o);a.bezierCurveTo(t.nt*l,t.st*u,i.nt*l,i.st*u,f.nt*l,f.st*u);break}}1!==i&&n!==c&&(r(n,f),a.moveTo(f.nt*l,f.st*u))}(d!==f||d===f&&1===i)&&o(t,c,d,f)}}function Tt(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function Et(t,e){return{nt:t.nt/e,st:t.st/e}}function It(t,e,i){const n=Math.max(0,e-1),r=Math.min(t.length-1,i+1);var s,o;return[(s=t[e],o=Et(Tt(t[i],t[n]),6),{nt:s.nt+o.nt,st:s.st+o.st}),Tt(t[i],Et(Tt(t[r],t[e]),6))]}function Mt(t,e,i,n,r){const{context:s,horizontalPixelRatio:o,verticalPixelRatio:a}=e;s.lineTo(r.nt*o,t*a),s.lineTo(n.nt*o,t*a),s.closePath(),s.fillStyle=i,s.fill()}class kt extends Q{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){var e;if(null===this.G)return;const{it:i,tt:n,ds:r,et:s,Nt:o,fs:a}=this.G,l=null!==(e=this.G.vs)&&void 0!==e?e:this.G.ps?0:t.mediaSize.height;if(null===n)return;const u=t.context;u.lineCap="butt",u.lineJoin="round",u.lineWidth=s,_(u,o),u.lineWidth=1,xt(t,i,a,n,r,this.bs.bind(this),Mt.bind(null,l))}}function Ct(t,e,i){return Math.min(Math.max(t,e),i)}function Ot(t,e,i){return e-t<=i}function Bt(t){const e=Math.ceil(t);return e%2==0?e-1:e}class Lt{ws(t,e){const i=this.gs,{Ms:n,xs:r,Ss:s,ks:o,ys:a,vs:l}=e;if(void 0===this.Cs||void 0===i||i.Ms!==n||i.xs!==r||i.Ss!==s||i.ks!==o||i.vs!==l||i.ys!==a){const i=t.context.createLinearGradient(0,0,0,a);if(i.addColorStop(0,n),null!=l){const e=Ct(l*t.verticalPixelRatio/a,0,1);i.addColorStop(e,r),i.addColorStop(e,s)}i.addColorStop(1,o),this.Cs=i,this.gs=e}return this.Cs}}class At extends kt{constructor(){super(...arguments),this.Ts=new Lt}bs(t,e){return this.Ts.ws(t,{Ms:e.Ps,xs:"",Ss:"",ks:e.Rs,ys:t.bitmapSize.height})}}function Dt(t,e){const i=t.context;i.strokeStyle=e,i.stroke()}class Nt extends Q{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){if(null===this.G)return;const{it:e,tt:i,ds:n,fs:r,et:s,Nt:o,Ds:a}=this.G;if(null===i)return;const l=t.context;l.lineCap="butt",l.lineWidth=s*t.verticalPixelRatio,_(l,o),l.lineJoin="round";const u=this.Vs.bind(this);void 0!==r&&xt(t,e,r,i,n,u,Dt),a&&function(t,e,i,n,r){const{horizontalPixelRatio:s,verticalPixelRatio:o,context:a}=t;let l=null;const u=Math.max(1,Math.floor(s))%2/2,h=i*o+u;for(let c=n.to-1;c>=n.from;--c){const i=e[c];if(i){const e=r(t,i);e!==l&&(a.beginPath(),null!==l&&a.fill(),a.fillStyle=e,l=e);const n=Math.round(i.nt*s)+u,c=i.st*o;a.moveTo(n,c),a.arc(n,c,h,0,2*Math.PI)}}a.fill()}(t,e,a,i,u)}}class zt extends Nt{Vs(t,e){return e.lt}}function Ft(t,e,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length,o=s-r;for(;0<o;){const s=o>>1,a=r+s;n(e[a],i)===t?(r=a+1,o-=s+1):o=s}return r}const Pt=Ft.bind(null,!0),Rt=Ft.bind(null,!1);function Vt(t,e){return t.ot<e}function Ut(t,e){return e<t.ot}function jt(t,e,i){const n=e.Os(),r=e.ui(),s=Pt(t,n,Vt),o=Rt(t,r,Ut);if(!i)return{from:s,to:o};let a=s,l=o;return s>0&&s<t.length&&t[s].ot>=n&&(a=s-1),o>0&&o<t.length&&t[o-1].ot<=r&&(l=o+1),{from:a,to:l}}class Wt{constructor(t,e,i){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=t,this.Ns=e,this.Fs=i}bt(t){this.Bs=!0,"data"===t&&(this.As=!0),"options"===t&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),null===this.Ls?null:this.js):null}Hs(){this.zs=this.zs.map(t=>Object.assign(Object.assign({},t),this.Es.Us().$s(t.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const t=this.Es.Dt(),e=this.Ns.St();if(this.qs(),e.Ni()||t.Ni())return;const i=e.Xs();if(null===i)return;if(0===this.Es.In().Ks())return;const n=this.Es.Ct();null!==n&&(this.Ls=jt(this.zs,i,this.Fs),this.Gs(t,e,n.Vt),this.Js())}}class $t extends Wt{constructor(t,e){super(t,e,!0)}Gs(t,e,i){e.Qs(this.zs,H(this.Ls)),t.te(this.zs,i,H(this.Ls))}ie(t,e){return{ot:t,_t:e,nt:NaN,st:NaN}}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>{const i=e.Vt[3];return this.se(e.ee,i,t)})}}class Ht extends $t{constructor(t,e){super(t,e),this.js=new q,this.re=new At,this.he=new zt,this.js.Z([this.re,this.he])}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){const t=this.Es.W();this.re.J({fs:t.lineType,it:this.zs,Nt:t.lineStyle,et:t.lineWidth,vs:null,ps:t.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:t.lineVisible?t.lineType:void 0,it:this.zs,Nt:t.lineStyle,et:t.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class Kt extends Q{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(t){this.zt=t}K(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;this.ae=this._e(i),this.ae>=2&&Math.max(1,Math.floor(i))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(i)):this.ae;let r=null;const s=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*i);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const t=this.zt.In[o];r!==t.ce&&(e.fillStyle=t.ce,r=t.ce);const a=Math.floor(.5*this.oe),l=Math.round(t.nt*i),u=l-a,h=this.oe,c=u+h-1,d=Math.min(t.de,t.fe),f=Math.max(t.de,t.fe),p=Math.round(d*n)-a,y=Math.round(f*n)+a,b=Math.max(y-p,this.oe);e.fillRect(u,p,h,b);const m=Math.ceil(1.5*this.ae);if(s){if(this.zt.ve){const i=l-m;let r=Math.max(p,Math.round(t.pe*n)-a),s=r+h-1;s>p+b-1&&(s=p+b-1,r=s-h+1),e.fillRect(i,r,u-i,s-r+1)}const i=l+m;let r=Math.max(p,Math.round(t.me*n)-a),s=r+h-1;s>p+b-1&&(s=p+b-1,r=s-h+1),e.fillRect(c+1,r,i-c,s-r+1)}}}_e(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(E(this.zt).le,t)))}}class Yt extends Wt{constructor(t,e){super(t,e,!1)}Gs(t,e,i){e.Qs(this.zs,H(this.Ls)),t.be(this.zs,i,H(this.Ls))}we(t,e,i){return{ot:t,ge:e.Vt[0],Me:e.Vt[1],xe:e.Vt[2],Se:e.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>this.se(e.ee,e,t))}}class Xt extends Yt{constructor(){super(...arguments),this.js=new Kt}se(t,e,i){return Object.assign(Object.assign({},this.we(t,e,i)),i.$s(t))}Js(){const t=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:t.openVisible,ue:t.thinBars,tt:this.Ls})}}class qt extends kt{constructor(){super(...arguments),this.Ts=new Lt}bs(t,e){const i=this.G;return this.Ts.ws(t,{Ms:e.ke,xs:e.ye,Ss:e.Ce,ks:e.Te,ys:t.bitmapSize.height,vs:i.vs})}}class Qt extends Nt{constructor(){super(...arguments),this.Pe=new Lt}Vs(t,e){const i=this.G;return this.Pe.ws(t,{Ms:e.Re,xs:e.Re,Ss:e.De,ks:e.De,ys:t.bitmapSize.height,vs:i.vs})}}class Gt extends $t{constructor(t,e){super(t,e),this.js=new q,this.Ve=new qt,this.Oe=new Qt,this.js.Z([this.Ve,this.Oe])}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){const t=this.Es.Ct();if(null===t)return;const e=this.Es.W(),i=this.Es.Dt().Rt(e.baseValue.price,t.Vt),n=this.Ns.St().le();this.Ve.J({it:this.zs,et:e.lineWidth,Nt:e.lineStyle,fs:e.lineType,vs:i,ps:!1,tt:this.Ls,ds:n}),this.Oe.J({it:this.zs,et:e.lineWidth,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,vs:i,tt:this.Ls,ds:n})}}class Jt extends Q{constructor(){super(...arguments),this.zt=null,this.ae=0}J(t){this.zt=t}K(t){if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;const{horizontalPixelRatio:e}=t;this.ae=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);const i=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),n=Math.floor(t*i*e),r=Math.floor(t*e),s=Math.min(n,r);return Math.max(Math.floor(e),s)}(this.zt.le,e),this.ae>=2&&Math.floor(e)%2!=this.ae%2&&this.ae--;const i=this.zt.In;this.zt.Be&&this.Ae(t,i,this.zt.tt),this.zt._i&&this.Ie(t,i,this.zt.tt);const n=this.ze(e);(!this.zt._i||this.ae>2*n)&&this.Le(t,i,this.zt.tt)}Ae(t,e,i){if(null===this.zt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="",a=Math.min(Math.floor(r),Math.floor(this.zt.le*r));a=Math.max(Math.floor(r),Math.min(a,this.ae));const l=Math.floor(.5*a);let u=null;for(let h=i.from;h<i.to;h++){const t=e[h];t.Ee!==o&&(n.fillStyle=t.Ee,o=t.Ee);const i=Math.round(Math.min(t.pe,t.me)*s),c=Math.round(Math.max(t.pe,t.me)*s),d=Math.round(t.de*s),f=Math.round(t.fe*s);let p=Math.round(r*t.nt)-l;const y=p+a-1;null!==u&&(p=Math.max(u+1,p),p=Math.min(p,y));const b=y-p+1;n.fillRect(p,d,b,i-d),n.fillRect(p,c+1,b,f-c),u=y}}ze(t){let e=Math.floor(1*t);this.ae<=2*e&&(e=Math.floor(.5*(this.ae-1)));const i=Math.max(Math.floor(t),e);return this.ae<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}Ie(t,e,i){if(null===this.zt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="";const a=this.ze(r);let l=null;for(let u=i.from;u<i.to;u++){const t=e[u];t.Ne!==o&&(n.fillStyle=t.Ne,o=t.Ne);let i=Math.round(t.nt*r)-Math.floor(.5*this.ae);const h=i+this.ae-1,c=Math.round(Math.min(t.pe,t.me)*s),d=Math.round(Math.max(t.pe,t.me)*s);if(null!==l&&(i=Math.max(l+1,i),i=Math.min(i,h)),this.zt.le*r>2*a)nt(n,i,c,h-i+1,d-c+1,a);else{const t=h-i+1;n.fillRect(i,c,t,d-c+1)}l=h}}Le(t,e,i){if(null===this.zt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="";const a=this.ze(r);for(let l=i.from;l<i.to;l++){const t=e[l];let i=Math.round(Math.min(t.pe,t.me)*s),u=Math.round(Math.max(t.pe,t.me)*s),h=Math.round(t.nt*r)-Math.floor(.5*this.ae),c=h+this.ae-1;if(t.ce!==o){const e=t.ce;n.fillStyle=e,o=e}this.zt._i&&(h+=a,i+=a,c-=a,u-=a),i>u||n.fillRect(h,i,c-h+1,u-i+1)}}}class Zt extends Yt{constructor(){super(...arguments),this.js=new Jt}se(t,e,i){return Object.assign(Object.assign({},this.we(t,e,i)),i.$s(t))}Js(){const t=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:t.wickVisible,_i:t.borderVisible,tt:this.Ls})}}class te{constructor(t,e){this.Fe=t,this.Li=e}X(t,e,i){this.Fe.draw(t,this.Li,e,i)}}class ee extends Wt{constructor(t,e,i){super(t,e,!1),this.wn=i,this.js=new te(this.wn.renderer(),e=>{const i=t.Ct();return null===i?null:t.Dt().Rt(e,i.Vt)})}We(t){return this.wn.priceValueBuilder(t)}je(t){return this.wn.isWhitespace(t)}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>Object.assign(Object.assign({ot:e.ee,nt:NaN},t.$s(e.ee)),{He:e.$e}))}Gs(t,e){e.Qs(this.zs,H(this.Ls))}Js(){this.wn.update({bars:this.zs.map(ie),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function ie(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class ne extends Q{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(t){this.zt=t,this.Ue=[]}K(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return;this.Ue.length||this.qe(i);const r=Math.max(1,Math.floor(n)),s=Math.round(this.zt.Ye*n)-Math.floor(r/2),o=s+r;for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const t=this.zt.it[a],i=this.Ue[a-this.zt.tt.from],l=Math.round(t.st*n);let u,h;e.fillStyle=t.ce,l<=s?(u=l,h=o):(u=s,h=l-Math.floor(r/2)+r),e.fillRect(i.Os,u,i.ui-i.Os+1,h-u)}}qe(t){if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return void(this.Ue=[]);const e=Math.ceil(this.zt.le*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.zt.le*t)-e;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const e=this.zt.it[r],n=Math.round(e.nt*t);let s,o;if(i%2){const t=(i-1)/2;s=n-t,o=n+t}else{const t=i/2;s=n-t,o=n+t-1}this.Ue[r-this.zt.tt.from]={Os:s,ui:o,Ze:n,Xe:e.nt*t,ot:e.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const t=this.Ue[r-this.zt.tt.from],i=this.Ue[r-this.zt.tt.from-1];t.ot===i.ot+1&&t.Os-i.ui!==e+1&&(i.Ze>i.Xe?i.ui=t.Os-e-1:t.Os=i.ui+e+1)}let n=Math.ceil(this.zt.le*t);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const t=this.Ue[r-this.zt.tt.from];t.ui<t.Os&&(t.ui=t.Os);const e=t.ui-t.Os+1;n=Math.min(e,n)}if(e>0&&n<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const t=this.Ue[r-this.zt.tt.from];t.ui-t.Os+1>n&&(t.Ze>t.Xe?t.ui-=1:t.Os+=1)}}}class re extends $t{constructor(){super(...arguments),this.js=new ne}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){const t={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,E(this.Es.Ct()).Vt)};this.js.J(t)}}class se extends $t{constructor(){super(...arguments),this.js=new zt}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){const t=this.Es.W(),e={it:this.zs,Nt:t.lineStyle,fs:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Ds:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(e)}}const oe=/[2-9]/g;class ae{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=t}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(t,e,i){return this.sr(t,e,i).width}Mi(t,e,i){const n=this.sr(t,e,i);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}sr(t,e,i){const n=i||oe,r=String(e).replace(n,"0");if(this.tr.has(r))return T(this.tr.get(r)).er;if(this.Ke===this.ir){const t=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(t),this.Je++,this.Ke--}t.save(),t.textBaseline="middle";const s=t.measureText(r);return t.restore(),0===s.width&&e.length||(this.tr.set(r,{er:s,rr:this.Ge}),this.Qe[this.Ge]=r,this.Ke++,this.Ge++),s}}class le{constructor(t){this.hr=null,this.k=null,this.lr="right",this.ar=t}_r(t,e,i){this.hr=t,this.k=e,this.lr=i}X(t){null!==this.k&&null!==this.hr&&this.hr.X(t,this.k,this.ar,this.lr)}}class ue{constructor(t,e,i){this.ur=t,this.ar=new ae(50),this.cr=e,this.F=i,this.j=-1,this.Wt=new le(this.ar)}gt(){const t=this.F.dr(this.cr);if(null===t)return null;const e=t.vr(this.cr)?t.pr():this.cr.Dt();if(null===e)return null;const i=t.mr(e);if("overlay"===i)return null;const n=this.F.br();return n.P!==this.j&&(this.j=n.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),n,i),this.Wt}}class he extends Q{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}wr(t,e){var i;if(!(null===(i=this.zt)||void 0===i?void 0:i.yt))return null;const{st:n,et:r,gr:s}=this.zt;return e>=n-r-7&&e<=n+r+7?{Mr:this.zt,gr:s}:null}K(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.zt)return;if(!1===this.zt.yt)return;const s=Math.round(this.zt.st*r);s<0||s>i.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*n),_(e,this.zt.Nt),S(e,s,0,i.width))}}class ce{constructor(t){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new he,this.ft=!0,this.Es=t,this.Ns=t.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class de extends ce{constructor(t){super(t)}yr(){this.Sr.yt=!1;const t=this.Es.Dt(),e=t.Cr().Cr;if(2!==e&&3!==e)return;const i=this.Es.W();if(!i.baseLineVisible||!this.Es.yt())return;const n=this.Es.Ct();null!==n&&(this.Sr.yt=!0,this.Sr.st=t.Rt(n.Vt,n.Vt),this.Sr.V=i.baseLineColor,this.Sr.et=i.baseLineWidth,this.Sr.Nt=i.baseLineStyle)}}class fe extends Q{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}$e(){return this.zt}K(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;const r=this.zt;if(null===r)return;const s=Math.max(1,Math.floor(i)),o=s%2/2,a=Math.round(r.Xe.x*i)+o,l=r.Xe.y*n;e.fillStyle=r.Tr,e.beginPath();const u=Math.max(2,1.5*r.Pr)*i;e.arc(a,l,u,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.Rr,e.beginPath(),e.arc(a,l,r.ht*i,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=r.Dr,e.beginPath(),e.arc(a,l,r.ht*i+s/2,0,2*Math.PI,!1),e.stroke()}}const pe=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function ye(t,e,i,n){return function(t,e){if("transparent"===t)return t;const i=D(t),n=i[3];return"rgba(".concat(i[0],", ").concat(i[1],", ").concat(i[2],", ").concat(e*n,")")}(t,i+(n-i)*e)}function be(t,e){const i=t%2600/2600;let n;for(const l of pe)if(i>=l.Vr&&i<=l.Or){n=l;break}x(void 0!==n,"Last price animation internal logic error");const r=(i-n.Vr)/(n.Or-n.Vr);return{Rr:ye(e,r,n.Ir,n.zr),Dr:ye(e,r,n.Lr,n.Er),ht:(s=r,o=n.Br,a=n.Ar,o+(a-o)*s)};var s,o,a}class me{constructor(t){this.Wt=new fe,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=t}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),2===this.jr.W().lastPriceAnimation){const t=performance.now(),e=this.Wr-t;if(e>0)return void(e<650&&(this.Wr+=2600));this.Fr=t,this.Wr=t+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return 0!==this.jr.W().lastPriceAnimation}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.jr.$t().St(),e=t.Xs(),i=this.jr.Ct();if(null===e||null===i)return;const n=this.jr.Zr(!0);if(n.Xr||!e.Kr(n.ee))return;const r={x:t.It(n.ee),y:this.jr.Dt().Rt(n._t,i.Vt)},s=n.V,o=this.jr.W().lineWidth,a=be(this.Gr(),s);this.Wt.J({Tr:s,Pr:o,Rr:a.Rr,Dr:a.Dr,ht:a.ht,Xe:r})}Yr(){const t=this.Wt.$e();if(null!==t){const e=be(this.Gr(),t.Tr);t.Rr=e.Rr,t.Dr=e.Dr,t.ht=e.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function ve(t,e){return Bt(Math.min(Math.max(t,12),30)*e)}function ge(t,e){switch(t){case"arrowDown":case"arrowUp":return ve(e,1);case"circle":return ve(e,.8);case"square":return ve(e,.7)}}function we(t){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(ve(t,1))}function _e(t){return Math.max(ve(t,.1),3)}function Se(t,e,i){return e?t:i?Math.ceil(t/2):0}function xe(t,e,i,n,r){const s=ge("square",i),o=(s-1)/2,a=t-o,l=e-o;return n>=a&&n<=a+s&&r>=l&&r<=l+s}function Te(t,e,i,n){const r=(ge("arrowUp",n)-1)/2*i.Jr,s=(Bt(n/2)-1)/2*i.Jr;e.beginPath(),t?(e.moveTo(i.nt-r,i.st),e.lineTo(i.nt,i.st-r),e.lineTo(i.nt+r,i.st),e.lineTo(i.nt+s,i.st),e.lineTo(i.nt+s,i.st+r),e.lineTo(i.nt-s,i.st+r),e.lineTo(i.nt-s,i.st)):(e.moveTo(i.nt-r,i.st),e.lineTo(i.nt,i.st+r),e.lineTo(i.nt+r,i.st),e.lineTo(i.nt+s,i.st),e.lineTo(i.nt+s,i.st-r),e.lineTo(i.nt-s,i.st-r),e.lineTo(i.nt-s,i.st)),e.fill()}class Ee extends Q{constructor(){super(...arguments),this.zt=null,this.ar=new ae,this.j=-1,this.H="",this.Qr=""}J(t){this.zt=t}_r(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Qr=Y(t,e),this.ar.nr())}wr(t,e){if(null===this.zt||null===this.zt.tt)return null;for(let i=this.zt.tt.from;i<this.zt.tt.to;i++){const n=this.zt.it[i];if(Me(n,t,e))return{Mr:n.th,gr:n.gr}}return null}K(t,e,i){let{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;if(null!==this.zt&&null!==this.zt.tt){n.textBaseline="middle",n.font=this.Qr;for(let t=this.zt.tt.from;t<this.zt.tt.to;t++){const e=this.zt.it[t];void 0!==e.Kt&&(e.Kt.Hi=this.ar.xi(n,e.Kt.ih),e.Kt.At=this.j,e.Kt.nt=e.nt-e.Kt.Hi/2),Ie(e,n,r,s)}}}}function Ie(t,e,i,n){e.fillStyle=t.V,void 0!==t.Kt&&function(t,e,i,n,r,s){t.save(),t.scale(r,s),t.fillText(e,i,n),t.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,i,n),function(t,e,i){if(0!==t.Ks){switch(t.nh){case"arrowDown":return void Te(!1,e,i,t.Ks);case"arrowUp":return void Te(!0,e,i,t.Ks);case"circle":return void function(t,e,i){const n=(ge("circle",i)-1)/2;t.beginPath(),t.arc(e.nt,e.st,n*e.Jr,0,2*Math.PI,!1),t.fill()}(e,i,t.Ks);case"square":return void function(t,e,i){const n=ge("square",i),r=(n-1)*e.Jr/2,s=e.nt-r,o=e.st-r;t.fillRect(s,o,n*e.Jr,n*e.Jr)}(e,i,t.Ks)}t.nh}}(t,e,function(t,e,i){const n=Math.max(1,Math.floor(e))%2/2;return{nt:Math.round(t.nt*e)+n,st:t.st*i,Jr:e}}(t,i,n))}function Me(t,e,i){return!(void 0===t.Kt||!function(t,e,i,n,r,s){const o=n/2;return r>=t&&r<=t+i&&s>=e-o&&s<=e+o}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,i))||function(t,e,i){if(0===t.Ks)return!1;switch(t.nh){case"arrowDown":case"arrowUp":return function(t,e,i,n,r,s){return xe(e,i,n,r,s)}(0,t.nt,t.st,t.Ks,e,i);case"circle":return function(t,e,i,n,r){const s=2+ge("circle",i)/2,o=t-n,a=e-r;return Math.sqrt(o*o+a*a)<=s}(t.nt,t.st,t.Ks,e,i);case"square":return xe(t.nt,t.st,t.Ks,e,i)}}(t,e,i)}function ke(t,e,i,n,r,s,o,a,l){const u=R(i)?i:i.Se,h=R(i)?i:i.Me,c=R(i)?i:i.xe,d=R(e.size)?Math.max(e.size,0):1,f=we(a.le())*d,p=f/2;switch(t.Ks=f,e.position){case"inBar":return t.st=o.Rt(u,l),void(void 0!==t.Kt&&(t.Kt.st=t.st+p+s+.6*r));case"aboveBar":return t.st=o.Rt(h,l)-p-n.sh,void 0!==t.Kt&&(t.Kt.st=t.st-p-.6*r,n.sh+=1.2*r),void(n.sh+=f+s);case"belowBar":return t.st=o.Rt(c,l)+p+n.eh,void 0!==t.Kt&&(t.Kt.st=t.st+p+s+.6*r,n.eh+=1.2*r),void(n.eh+=f+s)}e.position}class Ce{constructor(t,e){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new Ee,this.jr=t,this.$i=e,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.hh=!0,"data"===t&&(this.rh=!0,this.oh=null)}gt(t){if(!this.jr.yt())return null;this.ft&&this._h();const e=this.$i.W().layout;return this.Wt._r(e.fontSize,e.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const t=this.$i.St().le(),e=_e(t),i=1.5*we(t)+2*e,n=this.fh();this.ah={above:Se(i,n.aboveBar,n.inBar),below:Se(i,n.belowBar,n.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return null===this.oh&&(this.oh=this.jr.dh().reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const t=this.jr.Dt(),e=this.$i.St(),i=this.jr.dh();this.rh&&(this.zt.it=i.map(t=>({ot:t.time,nt:0,st:0,Ks:0,nh:t.shape,V:t.color,th:t.th,gr:t.id,Kt:void 0})),this.rh=!1);const n=this.$i.W().layout;this.zt.tt=null;const r=e.Xs();if(null===r)return;const s=this.jr.Ct();if(null===s)return;if(0===this.zt.it.length)return;let o=NaN;const a=_e(e.le()),l={sh:a,eh:a};this.zt.tt=jt(this.zt.it,r,!0);for(let u=this.zt.tt.from;u<this.zt.tt.to;u++){const r=i[u];r.time!==o&&(l.sh=a,l.eh=a,o=r.time);const h=this.zt.it[u];h.nt=e.It(r.time),void 0!==r.text&&r.text.length>0&&(h.Kt={ih:r.text,nt:0,st:0,Hi:0,At:0});const c=this.jr.ph(r.time);null!==c&&ke(h,r,c,l,n.fontSize,a,t,e,s.Vt)}this.ft=!1}}class Oe extends ce{constructor(t){super(t)}yr(){const t=this.Sr;t.yt=!1;const e=this.Es.W();if(!e.priceLineVisible||!this.Es.yt())return;const i=this.Es.Zr(0===e.priceLineSource);i.Xr||(t.yt=!0,t.st=i.ki,t.V=this.Es.mh(i.V),t.et=e.priceLineWidth,t.Nt=e.priceLineStyle)}}class Be extends ut{constructor(t){super(),this.jt=t}zi(t,e,i){t.yt=!1,e.yt=!1;const n=this.jt;if(!n.yt())return;const r=n.W(),s=r.lastValueVisible,o=""!==n.bh(),a=0===r.seriesLastValueMode,l=n.Zr(!1);if(l.Xr)return;s&&(t.Kt=this.wh(l,s,a),t.yt=0!==t.Kt.length),(o||a)&&(e.Kt=this.gh(l,s,o,a),e.yt=e.Kt.length>0);const u=n.mh(l.V),h=z(u);i.t=h.t,i.ki=l.ki,e.Ot=n.$t().Bt(l.ki/n.Dt().At()),t.Ot=u,t.V=h.i,e.V=h.i}gh(t,e,i,n){let r="";const s=this.jt.bh();return i&&0!==s.length&&(r+="".concat(s," ")),e&&n&&(r+=this.jt.Dt().Mh()?t.xh:t.Sh),r.trim()}wh(t,e,i){return e?i?this.jt.Dt().Mh()?t.Sh:t.xh:t.Kt:""}}function Le(t,e,i,n){const r=Number.isFinite(e),s=Number.isFinite(i);return r&&s?t(e,i):r||s?r?e:i:n}class Ae{constructor(t,e){this.kh=t,this.yh=e}Ch(t){return null!==t&&this.kh===t.kh&&this.yh===t.yh}Th(){return new Ae(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(t){return null===t?this:new Ae(Le(Math.min,this.Ph(),t.Ph(),-1/0),Le(Math.max,this.Rh(),t.Rh(),1/0))}Vh(t){if(!R(t))return;if(0===this.yh-this.kh)return;const e=.5*(this.yh+this.kh);let i=this.yh-e,n=this.kh-e;i*=t,n*=t,this.yh=e+i,this.kh=e+n}Oh(t){R(t)&&(this.yh+=t,this.kh+=t)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(t){return null===t?null:new Ae(t.minValue,t.maxValue)}}class De{constructor(t,e){this.Ih=t,this.zh=e||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return null===this.Ih?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(t){return null===t?null:new De(Ae.Ah(t.priceRange),t.margins)}}class Ne extends ce{constructor(t,e){super(t),this.Nh=e}yr(){const t=this.Sr;t.yt=!1;const e=this.Nh.W();if(!this.Es.yt()||!e.lineVisible)return;const i=this.Nh.Fh();null!==i&&(t.yt=!0,t.st=i,t.V=e.color,t.et=e.lineWidth,t.Nt=e.lineStyle,t.gr=this.Nh.W().id)}}class ze extends ut{constructor(t,e){super(),this.jr=t,this.Nh=e}zi(t,e,i){t.yt=!1,e.yt=!1;const n=this.Nh.W(),r=n.axisLabelVisible,s=""!==n.title,o=this.jr;if(!r||!o.yt())return;const a=this.Nh.Fh();if(null===a)return;s&&(e.Kt=n.title,e.yt=!0),e.Ot=o.$t().Bt(a/o.Dt().At()),t.Kt=this.Wh(n.price),t.yt=!0;const l=z(n.axisLabelColor||n.color);i.t=l.t;const u=n.axisLabelTextColor||l.i;t.V=u,e.V=u,i.ki=a}Wh(t){const e=this.jr.Ct();return null===e?"":this.jr.Dt().Fi(t,e.Vt)}}class Fe{constructor(t,e){this.jr=t,this.cn=e,this.jh=new Ne(t,this),this.ur=new ze(t,this),this.Hh=new ue(this.ur,t,t.$t())}$h(t){P(this.cn,t),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const t=this.jr,e=t.Dt();if(t.$t().St().Ni()||e.Ni())return null;const i=t.Ct();return null===i?null:e.Rt(this.cn.price,i.Vt)}}class Pe extends pt{constructor(t){super(),this.$i=t}$t(){return this.$i}}const Re={Bar:(t,e,i,n)=>{var r;const s=e.upColor,o=e.downColor,a=E(t(i,n)),l=I(a.Vt[0])<=I(a.Vt[3]);return{ce:null!==(r=a.V)&&void 0!==r?r:l?s:o}},Candlestick:(t,e,i,n)=>{var r,s,o;const a=e.upColor,l=e.downColor,u=e.borderUpColor,h=e.borderDownColor,c=e.wickUpColor,d=e.wickDownColor,f=E(t(i,n)),p=I(f.Vt[0])<=I(f.Vt[3]);return{ce:null!==(r=f.V)&&void 0!==r?r:p?a:l,Ne:null!==(s=f.Ot)&&void 0!==s?s:p?u:h,Ee:null!==(o=f.Xh)&&void 0!==o?o:p?c:d}},Custom:(t,e,i,n)=>{var r;return{ce:null!==(r=E(t(i,n)).V)&&void 0!==r?r:e.color}},Area:(t,e,i,n)=>{var r,s,o,a;const l=E(t(i,n));return{ce:null!==(r=l.lt)&&void 0!==r?r:e.lineColor,lt:null!==(s=l.lt)&&void 0!==s?s:e.lineColor,Ps:null!==(o=l.Ps)&&void 0!==o?o:e.topColor,Rs:null!==(a=l.Rs)&&void 0!==a?a:e.bottomColor}},Baseline:(t,e,i,n)=>{var r,s,o,a,l,u;const h=E(t(i,n));return{ce:h.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:null!==(r=h.Re)&&void 0!==r?r:e.topLineColor,De:null!==(s=h.De)&&void 0!==s?s:e.bottomLineColor,ke:null!==(o=h.ke)&&void 0!==o?o:e.topFillColor1,ye:null!==(a=h.ye)&&void 0!==a?a:e.topFillColor2,Ce:null!==(l=h.Ce)&&void 0!==l?l:e.bottomFillColor1,Te:null!==(u=h.Te)&&void 0!==u?u:e.bottomFillColor2}},Line:(t,e,i,n)=>{var r,s;const o=E(t(i,n));return{ce:null!==(r=o.V)&&void 0!==r?r:e.color,lt:null!==(s=o.V)&&void 0!==s?s:e.color}},Histogram:(t,e,i,n)=>{var r;return{ce:null!==(r=E(t(i,n)).V)&&void 0!==r?r:e.color}}};class Ve{constructor(t){this.Kh=(t,e)=>void 0!==e?e.Vt:this.jr.In().Gh(t),this.jr=t,this.Jh=Re[t.Qh()]}$s(t,e){return this.Jh(this.Kh,this.jr.W(),t,e)}}var Ue;!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(Ue||(Ue={}));class je{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return 0===this.Ks()}Kr(t){return null!==this.hl(t,0)}Gh(t){return this.ll(t)}ll(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this.hl(t,e);return null===i?null:Object.assign(Object.assign({},this.al(i)),{ee:this.rl(i)})}ne(){return this.tl}ol(t,e,i){if(this.Ni())return null;let n=null;for(const r of i)n=We(n,this._l(t,e,r));return n}J(t){this.nl.clear(),this.il.clear(),this.tl=t}rl(t){return this.tl[t].ee}al(t){return this.tl[t]}hl(t,e){const i=this.ul(t);if(null===i&&0!==e)switch(e){case-1:return this.cl(t);case 1:return this.dl(t);default:throw new TypeError("Unknown search mode")}return i}cl(t){let e=this.fl(t);return e>0&&(e-=1),e!==this.tl.length&&this.rl(e)<t?e:null}dl(t){const e=this.vl(t);return e!==this.tl.length&&t<this.rl(e)?e:null}ul(t){const e=this.fl(t);return e===this.tl.length||t<this.tl[e].ee?null:e}fl(t){return Pt(this.tl,t,(t,e)=>t.ee<e)}vl(t){return Rt(this.tl,t,(t,e)=>t.ee>e)}pl(t,e,i){let n=null;for(let r=t;r<e;r++){const t=this.tl[r].Vt[i];Number.isNaN(t)||(null===n?n={ml:t,bl:t}:(t<n.ml&&(n.ml=t),t>n.bl&&(n.bl=t)))}return n}_l(t,e,i){if(this.Ni())return null;let n=null;const r=E(this.el()),s=E(this.An()),o=Math.max(t,r),a=Math.min(e,s),l=30*Math.ceil(o/30),u=Math.max(l,30*Math.floor(a/30));{const t=this.fl(o),r=this.vl(Math.min(a,l,e));n=We(n,this.pl(t,r,i))}let h=this.il.get(i);void 0===h&&(h=new Map,this.il.set(i,h));for(let c=Math.max(l+1,o);c<u;c+=30){const t=Math.floor(c/30);let e=h.get(t);if(void 0===e){const n=this.fl(30*t),r=this.vl(30*(t+1)-1);e=this.pl(n,r,i),h.set(t,e)}n=We(n,e)}{const t=this.fl(u),e=this.vl(a);n=We(n,this.pl(t,e,i))}return n}}function We(t,e){return null===t?e:null===e?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class $e{constructor(t){this.wl=t}X(t,e,i){this.wl.draw(t)}gl(t,e,i){var n,r;null===(r=(n=this.wl).drawBackground)||void 0===r||r.call(n,t)}}class He{constructor(t){this.tr=null,this.wn=t}gt(){var t;const e=this.wn.renderer();if(null===e)return null;if((null===(t=this.tr)||void 0===t?void 0:t.Ml)===e)return this.tr.xl;const i=new $e(e);return this.tr={Ml:e,xl:i},i}Sl(){var t,e,i;return null!==(i=null===(e=(t=this.wn).zOrder)||void 0===e?void 0:e.call(t))&&void 0!==i?i:"normal"}}function Ke(t){var e,i,n,r,s;return{Kt:t.text(),ki:t.coordinate(),Si:null===(e=t.fixedCoordinate)||void 0===e?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:null===(n=null===(i=t.visible)||void 0===i?void 0:i.call(t))||void 0===n||n,hi:null===(s=null===(r=t.tickVisible)||void 0===r?void 0:r.call(t))||void 0===s||s}}class Ye{constructor(t,e){this.Wt=new dt,this.kl=t,this.yl=e}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},Ke(this.kl))),this.Wt}}class Xe extends ut{constructor(t,e){super(),this.kl=t,this.Li=e}zi(t,e,i){const n=Ke(this.kl);i.t=n.t,t.V=n.V;const r=2/12*this.Li.P();i.wi=r,i.gi=r,i.ki=n.ki,i.Si=n.Si,t.Kt=n.Kt,t.yt=n.yt,t.hi=n.hi}}class qe{constructor(t,e){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=t,this.jr=e}Ol(){return this.Vl}Vn(){var t,e;null===(e=(t=this.Vl).updateAllViews)||void 0===e||e.call(t)}Pn(){var t,e,i,n;const r=null!==(i=null===(e=(t=this.Vl).paneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Cl)||void 0===n?void 0:n.Ml)===r)return this.Cl.xl;const s=r.map(t=>new He(t));return this.Cl={Ml:r,xl:s},s}Qi(){var t,e,i,n;const r=null!==(i=null===(e=(t=this.Vl).timeAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Tl)||void 0===n?void 0:n.Ml)===r)return this.Tl.xl;const s=this.jr.$t().St(),o=r.map(t=>new Ye(t,s));return this.Tl={Ml:r,xl:o},o}Rn(){var t,e,i,n;const r=null!==(i=null===(e=(t=this.Vl).priceAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Pl)||void 0===n?void 0:n.Ml)===r)return this.Pl.xl;const s=this.jr.Dt(),o=r.map(t=>new Xe(t,s));return this.Pl={Ml:r,xl:o},o}Bl(){var t,e,i,n;const r=null!==(i=null===(e=(t=this.Vl).priceAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Rl)||void 0===n?void 0:n.Ml)===r)return this.Rl.xl;const s=r.map(t=>new He(t));return this.Rl={Ml:r,xl:s},s}Al(){var t,e,i,n;const r=null!==(i=null===(e=(t=this.Vl).timeAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this.Dl)||void 0===n?void 0:n.Ml)===r)return this.Dl.xl;const s=r.map(t=>new He(t));return this.Dl={Ml:r,xl:s},s}Il(t,e){var i,n,r;return null!==(r=null===(n=(i=this.Vl).autoscaleInfo)||void 0===n?void 0:n.call(i,t,e))&&void 0!==r?r:null}wr(t,e){var i,n,r;return null!==(r=null===(n=(i=this.Vl).hitTest)||void 0===n?void 0:n.call(i,t,e))&&void 0!==r?r:null}}function Qe(t,e,i,n){t.forEach(t=>{e(t).forEach(t=>{t.Sl()===i&&n.push(t)})})}function Ge(t){return t.Pn()}function Je(t){return t.Bl()}function Ze(t){return t.Al()}class ti extends Pe{constructor(t,e,i,n,r){super(t),this.zt=new je,this.jh=new Oe(this),this.zl=[],this.Ll=new de(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=e,this.$l=i;const s=new Be(this);this.rn=[s],this.Hh=new ue(s,this,t),"Area"!==i&&"Line"!==i&&"Baseline"!==i||(this.El=new me(this)),this.Ul(),this.ql(r)}S(){null!==this.jl&&clearTimeout(this.jl)}mh(t){return this.cn.priceLineColor||t}Zr(t){const e={Xr:!0},i=this.Dt();if(this.$t().St().Ni()||i.Ni()||this.zt.Ni())return e;const n=this.$t().St().Xs(),r=this.Ct();if(null===n||null===r)return e;let s,o;if(t){const t=this.zt.sl();if(null===t)return e;s=t,o=t.ee}else{const t=this.zt.ll(n.ui(),-1);if(null===t)return e;if(s=this.zt.Gh(t.ee),null===s)return e;o=t.ee}const a=s.Vt[3],l=this.Us().$s(o,{Vt:s}),u=i.Rt(a,r.Vt);return{Xr:!1,_t:a,Kt:i.Fi(a,r.Vt),xh:i.Yl(a),Sh:i.Zl(a,r.Vt),V:l.ce,ki:u,ee:o}}Us(){return null!==this.Nl||(this.Nl=new Ve(this)),this.Nl}W(){return this.cn}$h(t){const e=t.priceScaleId;void 0!==e&&e!==this.cn.priceScaleId&&this.$t().Xl(this,e),P(this.cn,t),void 0!==t.priceFormat&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(t,e){this.zt.J(t),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),null!==this.El&&(e&&e.ta?this.El.$r():0===t.length&&this.El.Hr());const i=this.$t().dr(this);this.$t().ia(i),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(t){this.Fl=t,this.Ql();const e=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(e),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(t){const e=new Fe(this,t);return this.zl.push(e),this.$t().Gl(this),e}ra(t){const e=this.zl.indexOf(t);-1!==e&&this.zl.splice(e,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const t=this.ha();return null===t?null:{Vt:t.Vt[3],la:t.ot}}ha(){const t=this.$t().St().Xs();if(null===t)return null;const e=t.Os();return this.zt.ll(e,1)}In(){return this.zt}ph(t){const e=this.zt.Gh(t);return null===e?null:"Bar"===this.$l||"Candlestick"===this.$l||"Custom"===this.$l?{ge:e.Vt[0],Me:e.Vt[1],xe:e.Vt[2],Se:e.Vt[3]}:e.Vt[3]}aa(t){const e=[];Qe(this.Hl,Ge,"top",e);const i=this.El;return null!==i&&i.yt()?(null===this.jl&&i.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),i.Ur(),e.unshift(i),e):e}Pn(){const t=[];this._a()||t.push(this.Ll),t.push(this.wn,this.jh,this.dn);const e=this.zl.map(t=>t.qh());return t.push(...e),Qe(this.Hl,Ge,"normal",t),t}ua(){return this.ca(Ge,"bottom")}da(t){return this.ca(Je,t)}fa(t){return this.ca(Ze,t)}va(t,e){return this.Hl.map(i=>i.wr(t,e)).filter(t=>null!==t)}Ji(t){return[this.Hh,...this.zl.map(t=>t.Yh())]}Rn(t,e){if(e!==this.Yi&&!this._a())return[];const i=[...this.rn];for(const n of this.zl)i.push(n.Zh());return this.Hl.forEach(t=>{i.push(...t.Rn())}),i}Qi(){const t=[];return this.Hl.forEach(e=>{t.push(...e.Qi())}),t}Il(t,e){if(void 0!==this.cn.autoscaleInfoProvider){const i=this.cn.autoscaleInfoProvider(()=>{const i=this.pa(t,e);return null===i?null:i.Bh()});return De.Ah(i)}return this.pa(t,e)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var t;this.wn.bt(),this.dn.bt();for(const e of this.rn)e.bt();for(const e of this.zl)e.bt();this.jh.bt(),this.Ll.bt(),null===(t=this.El)||void 0===t||t.bt(),this.Hl.forEach(t=>t.Vn())}Dt(){return E(super.Dt())}kt(t){if("Line"!==this.$l&&"Area"!==this.$l&&"Baseline"!==this.$l||!this.cn.crosshairMarkerVisible)return null;const e=this.zt.Gh(t);return null===e?null:{_t:e.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(t)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(t){this.Hl.push(new qe(t,this))}ya(t){this.Hl=this.Hl.filter(e=>e.Ol()!==t)}Ca(){if(this.wn instanceof ee!=0)return t=>this.wn.We(t)}Ta(){if(this.wn instanceof ee!=0)return t=>this.wn.je(t)}_a(){return!mt(this.Dt().Pa())}pa(t,e){if(!V(t)||!V(e)||this.zt.Ni())return null;const i="Line"===this.$l||"Area"===this.$l||"Baseline"===this.$l||"Histogram"===this.$l?[3]:[2,1],n=this.zt.ol(t,e,i);let r=null!==n?new Ae(n.ml,n.bl):null;if("Histogram"===this.Qh()){const t=this.cn.base,e=new Ae(t,t);r=null!==r?r.ts(e):e}let s=this.dn.uh();return this.Hl.forEach(i=>{const n=i.Il(t,e);if(null==n?void 0:n.priceRange){const t=new Ae(n.priceRange.minValue,n.priceRange.maxValue);r=null!==r?r.ts(t):t}var o,a,l,u;(null==n?void 0:n.margins)&&(o=s,a=n.margins,s={above:Math.max(null!==(l=null==o?void 0:o.above)&&void 0!==l?l:0,a.above),below:Math.max(null!==(u=null==o?void 0:o.below)&&void 0!==u?u:0,a.below)})}),new De(r,s)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(t){switch(this.$l){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.Us().$s(t).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new St(this.cn.priceFormat.precision);break;case"percent":this.wa=new _t(this.cn.priceFormat.precision);break;default:{const t=Math.pow(10,this.cn.priceFormat.precision);this.wa=new wt(t,this.cn.priceFormat.minMove*t)}}null!==this.Yi&&this.Yi.Ra()}Ql(){const t=this.$t().St();if(!t.Da()||this.zt.Ni())return void(this.Wl=[]);const e=E(this.zt.el());this.Wl=this.Fl.map((i,n)=>{const r=E(t.Va(i.time,!0)),s=r<e?1:-1;return{time:E(this.zt.ll(r,s)).ee,position:i.position,shape:i.shape,color:i.color,id:i.id,th:n,text:i.text,size:i.size,originalTime:i.originalTime}})}ql(t){switch(this.dn=new Ce(this,this.$t()),this.$l){case"Bar":this.wn=new Xt(this,this.$t());break;case"Candlestick":this.wn=new Zt(this,this.$t());break;case"Line":this.wn=new se(this,this.$t());break;case"Custom":this.wn=new ee(this,this.$t(),T(t));break;case"Area":this.wn=new Ht(this,this.$t());break;case"Baseline":this.wn=new Gt(this,this.$t());break;case"Histogram":this.wn=new re(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(t,e){const i=[];return Qe(this.Hl,t,e,i),i}}class ei{constructor(t){this.cn=t}Oa(t,e,i){let n=t;if(0===this.cn.mode)return n;const r=i.vn(),s=r.Ct();if(null===s)return n;const o=r.Rt(t,s),a=i.Ba().filter(t=>t instanceof ti).reduce((t,n)=>{if(i.vr(n)||!n.yt())return t;const r=n.Dt(),s=n.In();if(r.Ni()||!s.Kr(e))return t;const o=s.Gh(e);if(null===o)return t;const a=I(n.Ct());return t.concat([r.Rt(o.Vt[3],a.Vt)])},[]);if(0===a.length)return n;a.sort((t,e)=>Math.abs(t-o)-Math.abs(e-o));const l=a[0];return n=r.pn(l,s),n}}class ii extends Q{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}K(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.zt)return;const s=Math.max(1,Math.floor(n));e.lineWidth=s,function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(e,()=>{const t=E(this.zt);if(t.Aa){e.strokeStyle=t.Ia,_(e,t.za),e.beginPath();for(const r of t.La){const t=Math.round(r.Ea*n);e.moveTo(t,-s),e.lineTo(t,i.height+s)}e.stroke()}if(t.Na){e.strokeStyle=t.Fa,_(e,t.Wa),e.beginPath();for(const n of t.ja){const t=Math.round(n.Ea*r);e.moveTo(-s,t),e.lineTo(i.width+s,t)}e.stroke()}})}}class ni{constructor(t){this.Wt=new ii,this.ft=!0,this.tn=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.tn.$t().W().grid,e={Na:t.horzLines.visible,Aa:t.vertLines.visible,Fa:t.horzLines.color,Ia:t.vertLines.color,Wa:t.horzLines.style,za:t.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(t=>({Ea:t.coord}))};this.Wt.J(e),this.ft=!1}return this.Wt}}class ri{constructor(t){this.wn=new ni(t)}qh(){return this.wn}}const si={$a:4,Ua:1e-4};function oi(t,e){const i=100*(t-e)/e;return e<0?-i:i}function ai(t,e){const i=oi(t.Ph(),e),n=oi(t.Rh(),e);return new Ae(i,n)}function li(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function ui(t,e){const i=li(t.Ph(),e),n=li(t.Rh(),e);return new Ae(i,n)}function hi(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.log10(i+e.Ua)+e.$a;return t<0?-n:n}function ci(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e.$a)-e.Ua;return t<0?-n:n}function di(t,e){if(null===t)return null;const i=hi(t.Ph(),e),n=hi(t.Rh(),e);return new Ae(i,n)}function fi(t,e){if(null===t)return null;const i=ci(t.Ph(),e),n=ci(t.Rh(),e);return new Ae(i,n)}function pi(t){if(null===t)return si;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return si;const i=Math.ceil(Math.abs(Math.log10(e))),n=si.$a+i;return{$a:n,Ua:1/Math.pow(10,n)}}class yi{constructor(t,e){if(this.qa=t,this.Ya=e,function(t){if(t<0)return!1;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let t=this.qa;1!==t;){if(t%2==0)this.Za.push(2),t/=2;else{if(t%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),t/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(t,e,i){const n=0===this.qa?0:1/this.qa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),s=0,o=this.Ya[0];for(;;){const t=Ot(r,n,1e-14)&&r>n+1e-14,e=Ot(r,i*o,1e-14),a=Ot(r,1,1e-14);if(!(t&&e&&a))break;r/=o,o=this.Ya[++s%this.Ya.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.Za.length>0&&(a=r,1,1e-14,Math.abs(a-1)<1e-14))for(s=0,o=this.Za[0];Ot(r,i*o,1e-14)&&r>n+1e-14;)r/=o,o=this.Za[++s%this.Za.length];var a;return r}}class bi{constructor(t,e,i,n){this.Ka=[],this.Li=t,this.qa=e,this.Ga=i,this.Ja=n}Xa(t,e){if(t<e)throw new Error("high < low");const i=this.Li.At(),n=(t-e)*this.Qa()/i,r=new yi(this.qa,[2,2.5,2]),s=new yi(this.qa,[2,2,2.5]),o=new yi(this.qa,[2.5,2,2]),a=[];return a.push(r.Xa(t,e,n),s.Xa(t,e,n),o.Xa(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(a)}io(){const t=this.Li,e=t.Ct();if(null===e)return void(this.Ka=[]);const i=t.At(),n=this.Ga(i-1,e),r=this.Ga(0,e),s=this.Li.W().entireTextOnly?this.no()/2:0,o=s,a=i-1-s,l=Math.max(n,r),u=Math.min(n,r);if(l===u)return void(this.Ka=[]);let h=this.Xa(l,u),c=l%h;c+=c<0?h:0;const d=l>=u?1:-1;let f=null,p=0;for(let y=l-c;y>u;y-=h){const i=this.Ja(y,e,!0);null!==f&&Math.abs(i-f)<this.Qa()||i<o||i>a||(p<this.Ka.length?(this.Ka[p].Ea=i,this.Ka[p].so=t.eo(y)):this.Ka.push({Ea:i,so:t.eo(y)}),p++,f=i,t.ro()&&(h=this.Xa(y*d,u)))}this.Ka.length=p}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function mi(t){return t.slice().sort((t,e)=>E(t.Xi())-E(e.Xi()))}var vi;!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(vi||(vi={}));const gi=new _t,wi=new wt(100,1);class _i{constructor(t,e,i,n){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new F,this.vo=new F,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=wi,this.xo=pi(null),this.So=t,this.cn=e,this.ko=i,this.yo=n,this.Co=new bi(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(t){if(P(this.cn,t),this.Ra(),void 0!==t.mode&&this.Ro({Cr:t.mode}),void 0!==t.scaleMargins){const e=T(t.scaleMargins.top),i=T(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(e));if(i<0||i>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(i));if(e+i>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(e+i));this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return 1===this.cn.mode}Mh(){return 2===this.cn.mode}Oo(){return 3===this.cn.mode}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(t){const e=this.Cr();let i=null;void 0!==t.Wn&&(this.cn.autoScale=t.Wn),void 0!==t.Cr&&(this.cn.mode=t.Cr,2!==t.Cr&&3!==t.Cr||(this.cn.autoScale=!0),this.oo._o=!1),1===e.Cr&&t.Cr!==e.Cr&&(function(t,e){if(null===t)return!1;const i=ci(t.Ph(),e),n=ci(t.Rh(),e);return isFinite(i)&&isFinite(n)}(this.Ih,this.xo)?(i=fi(this.Ih,this.xo),null!==i&&this.Ao(i)):this.cn.autoScale=!0),1===t.Cr&&t.Cr!==e.Cr&&(i=di(this.Ih,this.xo),null!==i&&this.Ao(i));const n=e.Cr!==this.cn.mode;n&&(2===e.Cr||this.Mh())&&this.Ra(),n&&(3===e.Cr||this.Oo())&&this.Ra(),void 0!==t.Bo&&e.Bo!==t.Bo&&(this.cn.invertScale=t.Bo,this.Io()),this.vo.m(e,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(t){this.ho!==t&&(this.ho=t,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const t=this.At()-this.No()-this.Fo();return this.lo=t,t}Lh(){return this.Wo(),this.Ih}Ao(t,e){const i=this.Ih;(e||null===i&&null!==t||null!==i&&!i.Ch(t))&&(this.bo=null,this.Ih=t)}Ni(){return this.Wo(),0===this.ho||!this.Ih||this.Ih.Ni()}jo(t){return this.Bo()?t:this.At()-1-t}Rt(t,e){return this.Mh()?t=oi(t,e):this.Oo()&&(t=li(t,e)),this.Po(t,e)}te(t,e,i){this.Wo();const n=this.Fo(),r=E(this.Lh()),s=r.Ph(),o=r.Rh(),a=this.Eo()-1,l=this.Bo(),u=a/(o-s),h=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.Ho();for(let f=h;f<c;f++){const i=t[f],r=i._t;if(isNaN(r))continue;let o=r;null!==d&&(o=d(i._t,e));const a=n+u*(o-s),h=l?a:this.ho-1-a;i.st=h}}be(t,e,i){this.Wo();const n=this.Fo(),r=E(this.Lh()),s=r.Ph(),o=r.Rh(),a=this.Eo()-1,l=this.Bo(),u=a/(o-s),h=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.Ho();for(let f=h;f<c;f++){const i=t[f];let r=i.ge,o=i.Me,a=i.xe,h=i.Se;null!==d&&(r=d(i.ge,e),o=d(i.Me,e),a=d(i.xe,e),h=d(i.Se,e));let c=n+u*(r-s),p=l?c:this.ho-1-c;i.pe=p,c=n+u*(o-s),p=l?c:this.ho-1-c,i.de=p,c=n+u*(a-s),p=l?c:this.ho-1-c,i.fe=p,c=n+u*(h-s),p=l?c:this.ho-1-c,i.me=p}}pn(t,e){const i=this.To(t,e);return this.$o(i,e)}$o(t,e){let i=t;return this.Mh()?i=function(t,e){return e<0&&(t=-t),t/100*e+e}(i,e):this.Oo()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let t=[];for(let e=0;e<this.po.length;e++){const i=this.po[e];null===i.Xi()&&i.Ki(e+1),t.push(i)}return t=mi(t),this.mo=t,this.mo}qo(t){-1===this.po.indexOf(t)&&(this.po.push(t),this.Ra(),this.Yo())}Zo(t){const e=this.po.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.po.splice(e,1),0===this.po.length&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let t=null;for(const e of this.po){const i=e.Ct();null!==i&&(null===t||i.la<t.la)&&(t=i)}return null===t?null:t.Vt}Bo(){return this.cn.invertScale}Ha(){const t=null===this.Ct();if(null!==this.bo&&(t||this.bo.Xo===t))return this.bo.Ha;this.Co.io();const e=this.Co.Ha();return this.bo={Ha:e,Xo:t},this.fo.m(),e}Ko(){return this.fo}Go(t){this.Mh()||this.Oo()||null===this.wo&&null===this.ao&&(this.Ni()||(this.wo=this.ho-t,this.ao=E(this.Lh()).Th()))}Jo(t){if(this.Mh()||this.Oo())return;if(null===this.wo)return;this.Ro({Wn:!1}),(t=this.ho-t)<0&&(t=0);let e=(this.wo+.2*(this.ho-1))/(t+.2*(this.ho-1));const i=E(this.ao).Th();e=Math.max(e,.1),i.Vh(e),this.Ao(i)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(t){this.Vo()||null===this.Mo&&null===this.ao&&(this.Ni()||(this.Mo=t,this.ao=E(this.Lh()).Th()))}i_(t){if(this.Vo())return;if(null===this.Mo)return;const e=E(this.Lh()).Dh()/(this.Eo()-1);let i=t-this.Mo;this.Bo()&&(i*=-1);const n=i*e,r=E(this.ao).Th();r.Oh(n),this.Ao(r,!0),this.bo=null}n_(){this.Vo()||null!==this.Mo&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(t,e){switch(this.cn.mode){case 2:return this.s_(oi(t,e));case 3:return this.ba().format(li(t,e));default:return this.Wh(t)}}eo(t){switch(this.cn.mode){case 2:return this.s_(t);case 3:return this.ba().format(t);default:return this.Wh(t)}}Yl(t){return this.Wh(t,E(this.e_()).ba())}Zl(t,e){return t=oi(t,e),this.s_(t,gi)}r_(){return this.po}h_(t){this.oo={uo:t,_o:!1}}Vn(){this.po.forEach(t=>t.Vn())}Ra(){this.bo=null;const t=this.e_();let e=100;null!==t&&(e=Math.round(1/t.ma())),this.wa=wi,this.Mh()?(this.wa=gi,e=100):this.Oo()?(this.wa=new wt(100,1),e=100):null!==t&&(this.wa=t.ba()),this.Co=new bi(this,e,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(t,e){if(this.Wo(),this.Ni())return 0;t=this.ro()&&t?hi(t,this.xo):t;const i=E(this.Lh()),n=this.Fo()+(this.Eo()-1)*(t-i.Ph())/i.Dh();return this.jo(n)}To(t,e){if(this.Wo(),this.Ni())return 0;const i=this.jo(t),n=E(this.Lh()),r=n.Ph()+n.Dh()*((i-this.Fo())/(this.Eo()-1));return this.ro()?ci(r,this.xo):r}Io(){this.bo=null,this.Co.io()}l_(){const t=this.oo.uo;if(null===t)return;let e=null;const i=this.r_();let n=0,r=0;for(const a of i){if(!a.yt())continue;const i=a.Ct();if(null===i)continue;const s=a.Il(t.Os(),t.ui());let o=s&&s.Lh();if(null!==o){switch(this.cn.mode){case 1:o=di(o,this.xo);break;case 2:o=ai(o,i.Vt);break;case 3:o=ui(o,i.Vt)}if(e=null===e?o:e.ts(E(o)),null!==s){const t=s.Eh();null!==t&&(n=Math.max(n,t.above),r=Math.max(r,t.below))}}}if(n===this.co&&r===this.do||(this.co=n,this.do=r,this.bo=null,this.Do()),null!==e){if(e.Ph()===e.Rh()){const t=this.e_(),i=5*(null===t||this.Mh()||this.Oo()?1:t.ma());this.ro()&&(e=fi(e,this.xo)),e=new Ae(e.Ph()-i,e.Rh()+i),this.ro()&&(e=di(e,this.xo))}if(this.ro()){const t=fi(e,this.xo),i=pi(t);if(s=i,o=this.xo,s.$a!==o.$a||s.Ua!==o.Ua){const n=null!==this.ao?fi(this.ao,this.xo):null;this.xo=i,e=di(t,i),null!==n&&(this.ao=di(n,i))}}this.Ao(e)}else null===this.Ih&&(this.Ao(new Ae(-.5,.5)),this.xo=pi(null));var s,o;this.oo._o=!0}Ho(){return this.Mh()?oi:this.Oo()?li:this.ro()?t=>hi(t,this.xo):null}a_(t,e,i){return void 0===e?(void 0===i&&(i=this.ba()),i.format(t)):e(t)}Wh(t,e){return this.a_(t,this.yo.priceFormatter,e)}s_(t,e){return this.a_(t,this.yo.percentageFormatter,e)}}class Si{constructor(t,e){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new F,this.yl=t,this.$i=e,this.d_=new ri(this);const i=e.W();this.f_=this.v_("left",i.leftPriceScale),this.p_=this.v_("right",i.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(i)}b_(t){if(t.leftPriceScale&&this.f_.$h(t.leftPriceScale),t.rightPriceScale&&this.p_.$h(t.rightPriceScale),t.localization&&(this.f_.Ra(),this.p_.Ra()),t.overlayPriceScales){const e=Array.from(this.o_.values());for(const i of e){const e=E(i[0].Dt());e.$h(t.overlayPriceScales),t.localization&&e.Ra()}}}w_(t){switch(t){case"left":return this.f_;case"right":return this.p_}return this.o_.has(t)?T(this.o_.get(t))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(t=>{t.S&&t.S()}),this.c_.m()}M_(){return this.u_}x_(t){this.u_=t}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(t){this.__=t,this.k_()}Lo(t){this.ho=t,this.f_.Lo(t),this.p_.Lo(t),this.po.forEach(e=>{if(this.vr(e)){const i=e.Dt();null!==i&&i.Lo(t)}}),this.k_()}Ba(){return this.po}vr(t){const e=t.Dt();return null===e||this.f_!==e&&this.p_!==e}qo(t,e,i){const n=void 0!==i?i:this.C_().y_+1;this.T_(t,e,n)}Zo(t){const e=this.po.indexOf(t);x(-1!==e,"removeDataSource: invalid data source"),this.po.splice(e,1);const i=E(t.Dt()).Pa();if(this.o_.has(i)){const e=T(this.o_.get(i)),n=e.indexOf(t);-1!==n&&(e.splice(n,1),0===e.length&&this.o_.delete(i))}const n=t.Dt();n&&n.Ba().indexOf(t)>=0&&n.Zo(t),null!==n&&(n.Yo(),this.P_(n)),this.mo=null}mr(t){return t===this.f_?"left":t===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(t,e){t.Go(e)}O_(t,e){t.Jo(e),this.k_()}B_(t){t.Qo()}A_(t,e){t.t_(e)}I_(t,e){t.i_(e),this.k_()}z_(t){t.n_()}k_(){this.po.forEach(t=>{t.Vn()})}vn(){let t=null;return this.$i.W().rightPriceScale.visible&&0!==this.p_.Ba().length?t=this.p_:this.$i.W().leftPriceScale.visible&&0!==this.f_.Ba().length?t=this.f_:0!==this.po.length&&(t=this.po[0].Dt()),null===t&&(t=this.p_),t}pr(){let t=null;return this.$i.W().rightPriceScale.visible?t=this.p_:this.$i.W().leftPriceScale.visible&&(t=this.f_),t}P_(t){null!==t&&t.Vo()&&this.L_(t)}E_(t){const e=this.yl.Xs();t.Ro({Wn:!0}),null!==e&&t.h_(e),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(t=>{this.vr(t)&&this.P_(t.Dt())}),this.k_(),this.$i.Uh()}Uo(){return null===this.mo&&(this.mo=mi(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(t){const e=t.r_();if(e&&e.length>0&&!this.yl.Ni()){const e=this.yl.Xs();null!==e&&t.h_(e)}t.Vn()}C_(){const t=this.Uo();if(0===t.length)return{H_:0,y_:0};let e=0,i=0;for(let n=0;n<t.length;n++){const r=t[n].Xi();null!==r&&(r<e&&(e=r),r>i&&(i=r))}return{H_:e,y_:i}}T_(t,e,i){let n=this.w_(e);if(null===n&&(n=this.v_(e,this.$i.W().overlayPriceScales)),this.po.push(t),!mt(e)){const i=this.o_.get(e)||[];i.push(t),this.o_.set(e,i)}n.qo(t),t.Gi(n),t.Ki(i),this.P_(n),this.mo=null}m_(t,e,i){e.Cr!==i.Cr&&this.L_(t)}v_(t,e){const i=Object.assign({visible:!0,autoScale:!0},W(e)),n=new _i(t,i,this.$i.W().layout,this.$i.W().localization);return n.Lo(this.At()),n}}class xi{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=t,this.q_=e,this.ir=i}Y_(t){const e=t.time,i=this.q_.cacheKey(e),n=this.tr.get(i);if(void 0!==n)return n.Z_;if(this.Ke===this.ir){const t=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(T(t)),this.Je++,this.Ke--}const r=this.U_(t);return this.tr.set(i,{Z_:r,rr:this.Ge}),this.Qe.set(this.Ge,i),this.Ke++,this.Ge++,r}}class Ti{constructor(t,e){x(t<=e,"right should be >= left"),this.X_=t,this.K_=e}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(t){return this.X_<=t&&t<=this.K_}Ch(t){return this.X_===t.Os()&&this.K_===t.ui()}}function Ei(t,e){return null===t||null===e?t===e:t.Ch(e)}class Ii{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(t){this.Q_=t,this.tr=null}iu(t,e){this.nu(e),this.tr=null;for(let i=e;i<t.length;++i){const e=t[i];let n=this.J_.get(e.timeWeight);void 0===n&&(n=[],this.J_.set(e.timeWeight,n)),n.push({index:i,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}su(t,e){const i=Math.ceil(e/t);return null!==this.tr&&this.tr.eu===i||(this.tr={Ha:this.ru(i),eu:i}),this.tr.Ha}nu(t){if(0===t)return void this.J_.clear();const e=[];this.J_.forEach((i,n)=>{t<=i[0].index?e.push(n):i.splice(Pt(i,t,e=>e.index<t),1/0)});for(const i of e)this.J_.delete(i)}ru(t){let e=[];for(const i of Array.from(this.J_.keys()).sort((t,e)=>e-t)){if(!this.J_.get(i))continue;const n=e;e=[];const r=n.length;let s=0;const o=T(this.J_.get(i)),a=o.length;let l=1/0,u=-1/0;for(let i=0;i<a;i++){const a=o[i],h=a.index;for(;s<r;){const t=n[s],i=t.index;if(!(i<h)){l=i;break}s++,e.push(t),u=i,l=1/0}if(l-h>=t&&h-u>=t)e.push(a),u=h;else if(this.Q_)return n}for(;s<r;s++)e.push(n[s])}return e}}class Mi{constructor(t){this.hu=t}lu(){return null===this.hu?null:new Ti(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new Mi(null)}}function ki(t,e){return t.weight>e.weight?t:e}class Ci{constructor(t,e,i,n){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new Ii,this.du=new Map,this.fu=Mi.ou(),this.vu=!0,this.pu=new F,this.mu=new F,this.bu=new F,this.wu=null,this.gu=null,this.Mu=[],this.cn=e,this.yo=i,this.xu=e.rightOffset,this.Su=e.barSpacing,this.$i=t,this.q_=n,this.ku(),this.cu.tu(e.uniformDistribution)}W(){return this.cn}yu(t){P(this.yo,t),this.Cu(),this.ku()}$h(t,e){var i;P(this.cn,t),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),void 0!==t.barSpacing&&this.$i.Gn(t.barSpacing),void 0!==t.rightOffset&&this.$i.Jn(t.rightOffset),void 0!==t.minBarSpacing&&this.$i.Gn(null!==(i=t.barSpacing)&&void 0!==i?i:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(t){var e,i;return null!==(i=null===(e=this.uu[t])||void 0===e?void 0:e.time)&&void 0!==i?i:null}Ui(t){var e;return null!==(e=this.uu[t])&&void 0!==e?e:null}Va(t,e){if(this.uu.length<1)return null;if(this.q_.key(t)>this.q_.key(this.uu[this.uu.length-1].time))return e?this.uu.length-1:null;const i=Pt(this.uu,this.q_.key(t),(t,e)=>this.q_.key(t.time)<e);return this.q_.key(t)<this.q_.key(this.uu[i].time)?e?i:null:i}Ni(){return 0===this.__||0===this.uu.length||null===this._u}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const t=this.Xs();if(null===t)return null;const e={from:t.Os(),to:t.ui()};return this.Ou(e)}Ou(t){const e=Math.round(t.from),i=Math.round(t.to),n=E(this.Bu()),r=E(this.Au());return{from:E(this.Ui(Math.max(n,e))),to:E(this.Ui(Math.min(r,i)))}}Iu(t){return{from:E(this.Va(t.from,!0)),to:E(this.Va(t.to,!0))}}Hi(){return this.__}S_(t){if(!isFinite(t)||t<=0)return;if(this.__===t)return;const e=this.Du(),i=this.__;if(this.__=t,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&0!==i){const e=this.Su*t/i;this.Su=e}if(this.cn.fixLeftEdge&&null!==e&&e.Os()<=0){const e=i-t;this.xu-=Math.round(e/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(t){if(this.Ni()||!V(t))return 0;const e=this.Eu()+this.xu-t;return this.__-(e+.5)*this.Su-1}Qs(t,e){const i=this.Eu(),n=void 0===e?0:e.from,r=void 0===e?t.length:e.to;for(let s=n;s<r;s++){const e=t[s].ot,n=i+this.xu-e,r=this.__-(n+.5)*this.Su-1;t[s].nt=r}}Nu(t){return Math.ceil(this.Fu(t))}Jn(t){this.vu=!0,this.xu=t,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(t){this.ju(t),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(null!==this.gu)return this.gu;const t=this.Su,e=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),i=Math.round(e/t),n=E(this.Xs()),r=Math.max(n.Os(),n.Os()-i),s=Math.max(n.ui(),n.ui()-i),o=this.cu.su(t,e),a=this.Bu()+i,l=this.Au()-i,u=this.$u(),h=this.cn.fixLeftEdge||u,c=this.cn.fixRightEdge||u;let d=0;for(const f of o){if(!(r<=f.index&&f.index<=s))continue;let t;d<this.Mu.length?(t=this.Mu[d],t.coord=this.It(f.index),t.label=this.Uu(f),t.weight=f.weight):(t={needAlignCoordinate:!1,coord:this.It(f.index),label:this.Uu(f),weight:f.weight},this.Mu.push(t)),this.Su>e/2&&!u?t.needAlignCoordinate=!1:t.needAlignCoordinate=h&&f.index<=a||c&&f.index>=l,d++}return this.Mu.length=d,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(t){this.vu=!0,this._u=t,this.Lu(),this.Tu()}Zu(t,e){const i=this.Fu(t),n=this.le(),r=n+e*(n/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(i-this.Fu(t)))}Go(t){this.Mo&&this.n_(),null===this.wo&&null===this.wu&&(this.Ni()||(this.wo=t,this.Xu()))}Jo(t){if(null===this.wu)return;const e=Ct(this.__-t,0,this.__),i=Ct(this.__-E(this.wo),0,this.__);0!==e&&0!==i&&this.Gn(this.wu.le*e/i)}Qo(){null!==this.wo&&(this.wo=null,this.Ku())}t_(t){null===this.Mo&&null===this.wu&&(this.Ni()||(this.Mo=t,this.Xu()))}i_(t){if(null===this.Mo)return;const e=(this.Mo-t)/this.le();this.xu=E(this.wu).Hu+e,this.vu=!0,this.Lu()}n_(){null!==this.Mo&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.xu,n=performance.now();this.$i.Zn({Qu:t=>(t-n)/e>=1,tc:r=>{const s=(r-n)/e;return s>=1?t:i+(t-i)*s}})}bt(t,e){this.vu=!0,this.uu=t,this.cu.iu(t,e),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(t){const e=t.G_();this.ju(this.__/e),this.xu=t.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const t=this.Bu(),e=this.Au();null!==t&&null!==e&&this.rc(new Ti(t,e+this.cn.rightOffset))}lc(t){const e=new Ti(t.from,t.to);this.rc(e)}qi(t){return void 0!==this.yo.timeFormatter?this.yo.timeFormatter(t.originalTime):this.q_.formatHorzItem(t.time)}$u(){const{handleScroll:t,handleScale:e}=this.$i.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Bu(){return 0===this.uu.length?null:0}Au(){return 0===this.uu.length?null:this.uu.length-1}ac(t){return(this.__-1-t)/this.Su}Fu(t){const e=this.ac(t),i=this.Eu()+this.xu-e;return Math.round(1e6*i)/1e6}ju(t){const e=this.Su;this.Su=t,this.zu(),e!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(Mi.ou());const t=this.Eu(),e=this.__/this.Su,i=this.xu+t,n=new Ti(i-e+1,i);this._c(new Mi(n))}zu(){const t=this.uc();if(this.Su<t&&(this.Su=t,this.vu=!0),0!==this.__){const t=.5*this.__;this.Su>t&&(this.Su=t,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&0!==this.uu.length?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const t=this.cc();null!==t&&this.xu<t&&(this.xu=t,this.vu=!0);const e=this.dc();this.xu>e&&(this.xu=e,this.vu=!0)}cc(){const t=this.Bu(),e=this._u;return null===t||null===e?null:t-e-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(t){let e=this.du.get(t.weight);return void 0===e&&(e=new xi(t=>this.fc(t),this.q_),this.du.set(t.weight,e)),e.Y_(t)}fc(t){return this.q_.formatTickmark(t,this.yo)}_c(t){const e=this.fu;this.fu=t,Ei(e.lu(),this.fu.lu())||this.pu.m(),Ei(e.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const t=this.Bu();if(null===t)return;const e=this.Xs();if(null===e)return;const i=e.Os()-t;if(i<0){const t=this.xu-i-1;this.Jn(t)}this.zu()}Pu(){this.Lu(),this.zu()}}class Oi extends class{X(t,e,i){t.useMediaCoordinateSpace(t=>this.K(t,e,i))}gl(t,e,i){t.useMediaCoordinateSpace(t=>this.vc(t,e,i))}vc(t,e,i){}}{constructor(t){super(),this.mc=new Map,this.zt=t}K(t){}vc(t){if(!this.zt.yt)return;const{context:e,mediaSize:i}=t;let n=0;for(const s of this.zt.bc){if(0===s.Kt.length)continue;e.font=s.R;const t=this.wc(e,s.Kt);t>i.width?s.Zu=i.width/t:s.Zu=1,n+=s.gc*s.Zu}let r=0;switch(this.zt.Mc){case"top":r=0;break;case"center":r=Math.max((i.height-n)/2,0);break;case"bottom":r=Math.max(i.height-n,0)}e.fillStyle=this.zt.V;for(const s of this.zt.bc){e.save();let t=0;switch(this.zt.xc){case"left":e.textAlign="left",t=s.gc/2;break;case"center":e.textAlign="center",t=i.width/2;break;case"right":e.textAlign="right",t=i.width-1-s.gc/2}e.translate(t,r),e.textBaseline="top",e.font=s.R,e.scale(s.Zu,s.Zu),e.fillText(s.Kt,0,s.Sc),e.restore(),r+=s.gc*s.Zu}}wc(t,e){const i=this.kc(t.font);let n=i.get(e);return void 0===n&&(n=t.measureText(e).width,i.set(e,n)),n}kc(t){let e=this.mc.get(t);return void 0===e&&(e=new Map,this.mc.set(t,e)),e}}class Bi{constructor(t){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new Oi(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),e=this.Ft;e.yt=t.visible,e.yt&&(e.V=t.color,e.xc=t.horzAlign,e.Mc=t.vertAlign,e.bc=[{Kt:t.text,R:Y(t.fontSize,t.fontFamily,t.fontStyle),gc:1.2*t.fontSize,Sc:0,Zu:0}])}}class Li extends pt{constructor(t,e){super(),this.cn=e,this.wn=new Bi(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var Ai,Di,Ni,zi,Fi;!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(Ai||(Ai={}));class Pi{constructor(t,e,i){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new F,this.Rc=new F,this.Dc=null,this.Vc=t,this.cn=e,this.q_=i,this.Oc=new X(this),this.yl=new Ci(this,e.timeScale,this.cn.localization,i),this.vt=new bt(this,e.crosshair),this.Bc=new ei(e.crosshair),this.Ac=new Li(this,e.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(vt.es())}Uh(){this.Nc(vt.ss())}oa(){this.Nc(new vt(1))}Gl(t){const e=this.Fc(t);this.Nc(e)}Wc(){return this.Tc}jc(t){const e=this.Tc;this.Tc=t,null!==e&&this.Gl(e.Hc),null!==t&&this.Gl(t.Hc)}W(){return this.cn}$h(t){P(this.cn,t),this.yc.forEach(e=>e.b_(t)),void 0!==t.timeScale&&this.yl.$h(t.timeScale),void 0!==t.localization&&this.yl.yu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(t,e){if("left"===t)return void this.$h({leftPriceScale:e});if("right"===t)return void this.$h({rightPriceScale:e});const i=this.Uc(t);null!==i&&(i.Dt.$h(e),this.Pc.m())}Uc(t){for(const e of this.yc){const i=e.w_(t);if(null!==i)return{Ht:e,Dt:i}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(t,e){t.Lo(e),this.Wu()}S_(t){this.__=t,this.yl.S_(this.__),this.yc.forEach(e=>e.S_(t)),this.Wu()}Ic(t){const e=new Si(this.yl,this);void 0!==t?this.yc.splice(t,0,e):this.yc.push(e);const i=void 0===t?this.yc.length-1:t,n=vt.es();return n.Nn(i,{Fn:0,Wn:!0}),this.Nc(n),e}V_(t,e,i){t.V_(e,i)}O_(t,e,i){t.O_(e,i),this.Jl(),this.Nc(this.Gc(t,2))}B_(t,e){t.B_(e),this.Nc(this.Gc(t,2))}A_(t,e,i){e.Vo()||t.A_(e,i)}I_(t,e,i){e.Vo()||(t.I_(e,i),this.Jl(),this.Nc(this.Gc(t,2)))}z_(t,e){e.Vo()||(t.z_(e),this.Nc(this.Gc(t,2)))}E_(t,e){t.E_(e),this.Nc(this.Gc(t,2))}Jc(t){this.yl.Go(t)}Qc(t,e){const i=this.St();if(i.Ni()||0===e)return;const n=i.Hi();t=Math.max(1,Math.min(t,n)),i.Zu(t,e),this.Wu()}td(t){this.nd(0),this.sd(t),this.ed()}rd(t){this.yl.Jo(t),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(t){this.yl.t_(t)}sd(t){this.yl.i_(t),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(t,e,i,n,r){this.vt.gn(t,e);let s=NaN,o=this.yl.Nu(t);const a=this.yl.Xs();null!==a&&(o=Math.min(Math.max(a.Os(),o),a.ui()));const l=n.vn(),u=l.Ct();null!==u&&(s=l.pn(e,u)),s=this.Bc.Oa(s,o,n),this.vt.kn(o,s,n),this.oa(),r||this.Rc.m(this.vt.xt(),{x:t,y:e},i)}ad(t,e,i){const n=i.vn(),r=n.Ct(),s=n.Rt(t,E(r)),o=this.yl.Va(e,!0),a=this.yl.It(E(o));this.ld(a,s,null,i,!0)}od(t){this.Zc().Cn(),this.oa(),t||this.Rc.m(null,null,null)}Jl(){const t=this.vt.Ht();if(null!==t){const e=this.vt.xn(),i=this.vt.Sn();this.ld(e,i,null,t)}this.vt.Vn()}_d(t,e,i){const n=this.yl.mn(0);void 0!==e&&void 0!==i&&this.yl.bt(e,i);const r=this.yl.mn(0),s=this.yl.Eu(),o=this.yl.Xs();if(null!==o&&null!==n&&null!==r){const e=o.Kr(s),a=this.q_.key(n)>this.q_.key(r),l=null!==t&&t>s&&!a,u=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,h=e&&(!(void 0===i)||u)&&this.yl.W().shiftVisibleRangeOnNewBar;if(l&&!h){const e=t-s;this.yl.Jn(this.yl.Hu()-e)}}this.yl.Yu(t)}ia(t){null!==t&&t.F_()}dr(t){const e=this.yc.find(e=>e.Uo().includes(t));return void 0===e?null:e}Wu(){this.Ac.Vn(),this.yc.forEach(t=>t.F_()),this.Jl()}S(){this.yc.forEach(t=>t.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(t,e,i){const n=this.yc[0],r=this.fd(e,t,n,i);return this.Cc.push(r),1===this.Cc.length?this.Kl():this.Uh(),r}vd(t){const e=this.dr(t),i=this.Cc.indexOf(t);x(-1!==i,"Series not found"),this.Cc.splice(i,1),E(e).Zo(t),t.S&&t.S()}Xl(t,e){const i=E(this.dr(t));i.Zo(t);const n=this.Uc(e);if(null===n){const n=t.Xi();i.qo(t,e,n)}else{const r=n.Ht===i?t.Xi():void 0;n.Ht.qo(t,e,r)}}hc(){const t=vt.ss();t.$n(),this.Nc(t)}pd(t){const e=vt.ss();e.Yn(t),this.Nc(e)}Kn(){const t=vt.ss();t.Kn(),this.Nc(t)}Gn(t){const e=vt.ss();e.Gn(t),this.Nc(e)}Jn(t){const e=vt.ss();e.Jn(t),this.Nc(e)}Zn(t){const e=vt.ss();e.Zn(t),this.Nc(e)}Un(){const t=vt.ss();t.Un(),this.Nc(t)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(t){const e=this.Ec,i=this.zc;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Dc||this.Dc.Ps!==i||this.Dc.Rs!==e)this.Dc={Ps:i,Rs:e,wd:new Map};else{const e=this.Dc.wd.get(t);if(void 0!==e)return e}const n=function(t,e,i){const[n,r,s,o]=D(t),[a,l,u,h]=D(e),c=[k(n+i*(a-n)),k(r+i*(l-r)),k(s+i*(u-s)),C(o+i*(h-o))];return"rgba(".concat(c[0],", ").concat(c[1],", ").concat(c[2],", ").concat(c[3],")")}(i,e,t/100);return this.Dc.wd.set(t,n),n}Gc(t,e){const i=new vt(e);if(null!==t){const n=this.yc.indexOf(t);i.Nn(n,{Fn:e})}return i}Fc(t,e){return void 0===e&&(e=2),this.Gc(this.dr(t),e)}Nc(t){this.Vc&&this.Vc(t),this.yc.forEach(t=>t.j_().qh().bt())}fd(t,e,i,n){const r=new ti(this,t,e,i,n),s=void 0!==t.priceScaleId?t.priceScaleId:this.md();return i.qo(r,s),mt(s)||r.$h(t),r}Lc(t){const e=this.cn.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}}function Ri(t){return!R(t)&&!U(t)}function Vi(t){return R(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(Di||(Di={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Ni||(Ni={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(zi||(zi={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Fi||(Fi={}));const Ui=t=>t.getUTCFullYear();class ji{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";this.gd=t,this.Md=e}Y_(t){return function(t,e,i){return e.replace(/yyyy/g,(t=>gt(Ui(t),4))(t)).replace(/yy/g,(t=>gt(Ui(t)%100,2))(t)).replace(/MMMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"}))(t,i)).replace(/MMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"}))(t,i)).replace(/MM/g,(t=>gt((t=>t.getUTCMonth()+1)(t),2))(t)).replace(/dd/g,(t=>gt((t=>t.getUTCDate())(t),2))(t))}(t,this.gd,this.Md)}}class Wi{constructor(t){this.xd=t||"%h:%m:%s"}Y_(t){return this.xd.replace("%h",gt(t.getUTCHours(),2)).replace("%m",gt(t.getUTCMinutes(),2)).replace("%s",gt(t.getUTCSeconds(),2))}}const $i={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class Hi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Object.assign(Object.assign({},$i),t);this.Td=new ji(e.Sd,e.Cd),this.Pd=new Wi(e.kd),this.Rd=e.yd}Y_(t){return"".concat(this.Td.Y_(t)).concat(this.Rd).concat(this.Pd.Y_(t))}}function Ki(t){return 60*t*60*1e3}function Yi(t){return 60*t*1e3}const Xi=[{Dd:(1,1e3),Vd:10},{Dd:Yi(1),Vd:20},{Dd:Yi(5),Vd:21},{Dd:Yi(30),Vd:22},{Dd:Ki(1),Vd:30},{Dd:Ki(3),Vd:31},{Dd:Ki(6),Vd:32},{Dd:Ki(12),Vd:33}];function qi(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=Xi.length-1;i>=0;--i)if(Math.floor(e.getTime()/Xi[i].Dd)!==Math.floor(t.getTime()/Xi[i].Dd))return Xi[i].Vd;return 0}function Qi(t){let e=t;if(U(t)&&(e=Ji(t)),!Ri(e))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(i.getTime()/1e3),Bd:e}}function Gi(t){if(!Vi(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function Ji(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Zi(t){U(t.time)&&(t.time=Ji(t.time))}class tn{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(Zi)}(t):Zi(t)}createConverterToInternalObj(t){return E(function(t){return 0===t.length?null:Ri(t[0].time)||U(t[0].time)?Qi:Gi}(t))}key(t){return"object"==typeof t&&"Od"in t?t.Od:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return void 0===e.Bd?new Date(1e3*e.Od).getTime():new Date(Date.UTC(e.Bd.year,e.Bd.month-1,e.Bd.day)).getTime()}convertHorzItemToInternal(t){return Vi(e=t)?Gi(e):Ri(e)?Qi(e):Qi(Ji(e));var e}updateFormatter(t){if(!this.cn)return;const e=t.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new Hi({Sd:e,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:t.locale}):this.Ad=new ji(e,t.locale)}formatHorzItem(t){const e=t;return this.Ad.Y_(new Date(1e3*e.Od))}formatTickmark(t,e){const i=function(t,e,i){switch(t){case 0:case 10:return e?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),n=this.cn.timeScale;if(void 0!==n.tickMarkFormatter){const r=n.tickMarkFormatter(t.originalTime,i,e.locale);if(null!==r)return r}return function(t,e,i){const n={};switch(e){case 0:n.year="numeric";break;case 1:n.month="short";break;case 2:n.day="numeric";break;case 3:n.hour12=!1,n.hour="2-digit",n.minute="2-digit";break;case 4:n.hour12=!1,n.hour="2-digit",n.minute="2-digit",n.second="2-digit"}const r=void 0===t.Bd?new Date(1e3*t.Od):new Date(Date.UTC(t.Bd.year,t.Bd.month-1,t.Bd.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(i,n)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(ki,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t.length)return;let i=0===e?null:t[e-1].time.Od,n=null!==i?new Date(1e3*i):null,r=0;for(let s=e;s<t.length;++s){const e=t[s],o=new Date(1e3*e.time.Od);null!==n&&(e.timeWeight=qi(o,n)),r+=e.time.Od-(i||e.time.Od),i=e.time.Od,n=o}if(0===e&&t.length>1){const e=Math.ceil(r/(t.length-1)),i=new Date(1e3*(t[0].time.Od-e));t[0].timeWeight=qi(new Date(1e3*t[0].time.Od),i)}}(t,e)}static Id(t){return P({localization:{dateFormat:"dd MMM 'yy"}},null!=t?t:{})}}const en="undefined"!=typeof window;function nn(){return!!en&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function rn(){return!!en&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function sn(t){return t+t%2}function on(t,e){return t.zd-e.zd}function an(t,e,i){const n=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(n)*Math.min(Math.abs(n),i)}class ln{constructor(t,e,i,n){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=t,this.Ud=e,this.qd=i,this.rs=n}Yd(t,e){if(null!==this.Ld){if(this.Ld.ot===e)return void(this.Ld.zd=t);if(Math.abs(this.Ld.zd-t)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:e,zd:t}}Vr(t,e){if(null===this.Ld||null===this.Ed)return;if(e-this.Ld.ot>50)return;let i=0;const n=an(this.Ld,this.Ed,this.Ud),r=on(this.Ld,this.Ed),s=[n],o=[r];if(i+=r,null!==this.Nd){const t=an(this.Ed,this.Nd,this.Ud);if(Math.sign(t)===Math.sign(n)){const e=on(this.Ed,this.Nd);if(s.push(t),o.push(e),i+=e,null!==this.Fd){const t=an(this.Nd,this.Fd,this.Ud);if(Math.sign(t)===Math.sign(n)){const e=on(this.Nd,this.Fd);s.push(t),o.push(e),i+=e}}}}let a=0;for(let l=0;l<s.length;++l)a+=o[l]/i*s[l];Math.abs(a)<this.$d||(this.Wd={zd:t,ot:e},this.Hd=a,this.jd=function(t,e){const i=Math.log(e);return Math.log(1*i/-t)/i}(Math.abs(a),this.qd))}tc(t){const e=E(this.Wd),i=t-e.ot;return e.zd+this.Hd*(Math.pow(this.qd,i)-1)/Math.log(this.qd)}Qu(t){return null===this.Wd||this.Zd(t)===this.jd}Zd(t){const e=t-E(this.Wd).ot;return Math.min(e,this.jd)}}class un{constructor(t,e){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=t,this.Qd=e,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return N(D(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href="https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart".concat(this.rf()),this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark","dark"===this.Gd),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function hn(t,e){const i=E(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=function(t,e){if("device-pixel-content-box"===e.type)return new o(t,e.transform,e.options);throw new Error("Unsupported binding target")}(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return n.resizeCanvasElement(e),n}function cn(t){var e;t.width=1,t.height=1,null===(e=t.getContext("2d"))||void 0===e||e.clearRect(0,0,1,1)}function dn(t,e,i,n){t.gl&&t.gl(e,i,n)}function fn(t,e,i,n){t.X(e,i,n)}function pn(t,e,i,n){const r=t(i,n);for(const s of r){const t=s.gt();null!==t&&e(t)}}class yn{constructor(t,e,i){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!rn(),this.Af=t=>{this.If(t)},this.zf=t=>{if(this.Lf(t)){const e=this.Ef(t);if(++this._f,this.uf&&this._f>1){const{Nf:i}=this.Ff(vn(t),this.cf);i<30&&!this.wf&&this.Wf(e,this.Hf.jf),this.$f()}}else{const e=this.Ef(t);if(++this.hf,this.lf&&this.hf>1){const{Nf:i}=this.Ff(vn(t),this.af);i<5&&!this.bf&&this.Uf(e,this.Hf.qf),this.Yf()}}},this.Zf=t,this.Hf=e,this.cn=i,this.Xf()}S(){null!==this.gf&&(this.gf(),this.gf=null),null!==this.Mf&&(this.Mf(),this.Mf=null),null!==this.Sf&&(this.Sf(),this.Sf=null),null!==this.kf&&(this.kf(),this.kf=null),null!==this.yf&&(this.yf(),this.yf=null),null!==this.xf&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(t){this.Sf&&this.Sf();const e=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",e)},this.Zf.addEventListener("mousemove",e),this.Lf(t))return;const i=this.Ef(t);this.Uf(i,this.Hf.Qf),this.Bf=!0}Yf(){null!==this.lf&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){null!==this.uf&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(t){if(this.Df||null!==this.pf)return;if(this.Lf(t))return;const e=this.Ef(t);this.Uf(e,this.Hf.tv),this.Bf=!0}iv(t){const e=wn(t.changedTouches,E(this.Of));if(null===e)return;if(this.Vf=gn(t),null!==this.Cf)return;if(this.Rf)return;this.Pf=!0;const i=this.Ff(vn(e),E(this.pf)),{nv:n,sv:r,Nf:s}=i;if(this.mf||!(s<5)){if(!this.mf){const t=.5*n,e=r>=t&&!this.cn.ev(),i=t>r&&!this.cn.rv();e||i||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const i=this.Ef(t,e);this.Wf(i,this.Hf.hv),mn(t)}}}lv(t){if(0!==t.button)return;const e=this.Ff(vn(t),E(this.vf)),{Nf:i}=e;if(i>=5&&(this.bf=!0,this.Yf()),this.bf){const e=this.Ef(t);this.Uf(e,this.Hf.av)}}Ff(t,e){const i=Math.abs(e.nt-t.nt),n=Math.abs(e.st-t.st);return{nv:i,sv:n,Nf:i+n}}ov(t){let e=wn(t.changedTouches,E(this.Of));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.Of=null,this.Vf=gn(t),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const i=this.Ef(t,e);if(this.Wf(i,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:t}=this.Ff(vn(e),this.cf);t<30&&!this.wf&&this.Wf(i,this.Hf.jf),this.$f()}else this.wf||(this.Wf(i,this.Hf.uv),this.Hf.uv&&mn(t));0===this._f&&mn(t),0===t.touches.length&&this.ff&&(this.ff=!1,mn(t))}If(t){if(0!==t.button)return;const e=this.Ef(t);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),nn()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(t))if(this.Uf(e,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:i}=this.Ff(vn(t),this.af);i<5&&!this.bf&&this.Uf(e,this.Hf.qf),this.Yf()}else this.bf||this.Uf(e,this.Hf.dv)}Kf(){null!==this.df&&(clearTimeout(this.df),this.df=null)}fv(t){if(null!==this.Of)return;const e=t.changedTouches[0];this.Of=e.identifier,this.Vf=gn(t);const i=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=vn(e),this.yf&&(this.yf(),this.yf=null);{const e=this.iv.bind(this),n=this.ov.bind(this);this.yf=()=>{i.removeEventListener("touchmove",e),i.removeEventListener("touchend",n)},i.addEventListener("touchmove",e,{passive:!1}),i.addEventListener("touchend",n,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,t),240)}const n=this.Ef(t,e);this.Wf(n,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=vn(e))}mv(t){if(0!==t.button)return;const e=this.Zf.ownerDocument.documentElement;nn()&&e.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=vn(t),this.kf&&(this.kf(),this.kf=null);{const t=this.lv.bind(this),i=this.If.bind(this);this.kf=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",i)}if(this.Df=!0,this.Lf(t))return;const i=this.Ef(t);this.Uf(i,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=vn(t))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const t=this.Zf.ownerDocument,e=t=>{this.Hf.wv&&(t.composed&&this.Zf.contains(t.composedPath()[0])||t.target&&this.Zf.contains(t.target)||this.Hf.wv())};this.Mf=()=>{t.removeEventListener("touchstart",e)},this.gf=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}rn()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),function(t){en&&void 0!==window.chrome&&t.addEventListener("mousedown",t=>{if(1===t.button)return t.preventDefault(),!1})}(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){void 0===this.Hf.xv&&void 0===this.Hf.Sv&&void 0===this.Hf.kv||(this.Zf.addEventListener("touchstart",t=>this.yv(t.touches),{passive:!0}),this.Zf.addEventListener("touchmove",t=>{if(2===t.touches.length&&null!==this.Cf&&void 0!==this.Hf.Sv){const e=bn(t.touches[0],t.touches[1])/this.Tf;this.Hf.Sv(this.Cf,e),mn(t)}},{passive:!1}),this.Zf.addEventListener("touchend",t=>{this.yv(t.touches)}))}yv(t){1===t.length&&(this.Pf=!1),2!==t.length||this.Pf||this.ff?this.Cv():this.Tv(t)}Tv(t){const e=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Tf=bn(t[0],t[1]),void 0!==this.Hf.xv&&this.Hf.xv(),this.Kf()}Cv(){null!==this.Cf&&(this.Cf=null,void 0!==this.Hf.kv&&this.Hf.kv())}gv(t){if(this.Sf&&this.Sf(),this.Lf(t))return;if(!this.Bf)return;const e=this.Ef(t);this.Uf(e,this.Hf.Pv),this.Bf=!rn()}vv(t){const e=wn(t.touches,E(this.Of));if(null===e)return;const i=this.Ef(t,e);this.Wf(i,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:gn(t)<this.Vf+500}Wf(t,e){e&&e.call(this.Hf,t)}Uf(t,e){e&&e.call(this.Hf,t)}Ef(t,e){const i=e||t,n=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-n.left,localY:i.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Dv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,Vv:t.type,Ov:i.target,Bv:t.view,Av:()=>{"touchstart"!==t.type&&mn(t)}}}}function bn(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function mn(t){t.cancelable&&t.preventDefault()}function vn(t){return{nt:t.pageX,st:t.pageY}}function gn(t){return t.timeStamp||performance.now()}function wn(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}function _n(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function Sn(t,e,i){for(const n of t){const t=n.gt();if(null!==t&&t.wr){const r=t.wr(e,i);if(null!==r)return{Bv:n,Iv:r}}}return null}function xn(t,e){return i=>{var n,r,s,o;return(null!==(r=null===(n=i.Dt())||void 0===n?void 0:n.Pa())&&void 0!==r?r:"")!==e?[]:null!==(o=null===(s=i.da)||void 0===s?void 0:s.call(i,t))&&void 0!==o?o:[]}}function Tn(t,e,i,n){if(!t.length)return;let r=0;const s=i/2,o=t[0].At(n,!0);let a=1===e?s-(t[0].Vi()-o/2):t[0].Vi()-o/2-s;a=Math.max(0,a);for(let l=1;l<t.length;l++){const s=t[l],o=t[l-1],u=o.At(n,!1),h=s.Vi(),c=o.Vi();if(1===e?h>c-u:h<c+u){const n=c-u*e;s.Oi(n);const o=n-e*u/2;if((1===e?o<0:o>i)&&a>0){const n=1===e?-1-o:o-i,s=Math.min(n,a);for(let i=r;i<t.length;i++)t[i].Oi(t[i].Vi()+e*s);a-=s}}else r=l,a=1===e?c-u-h:h-(c+u)}}class En{constructor(t,e,i,r){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new ae(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=t,this.cn=e,this.ko=e.layout,this.Oc=i,this.qv="left"===r,this.Yv=xn("normal",r),this.Zv=xn("top",r),this.Xv=xn("bottom",r),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=hn(this.Kv,n({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=hn(this.Kv,n({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const o=this.Jv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const a={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new yn(this.Jv.canvasElement,a,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),cn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),cn(this.Gv.canvasElement),this.Gv.dispose(),null!==this.Li&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const t=this.Oc.W();return this.Qr!==t.R&&(this.Fv.nr(),this.Qr=t.R),t}op(){if(null===this.Li)return 0;let t=0;const e=this.ap(),i=E(this.Gv.canvasElement.getContext("2d"));i.save();const n=this.Li.Ha();i.font=this._p(),n.length>0&&(t=Math.max(this.Fv.xi(i,n[0].so),this.Fv.xi(i,n[n.length-1].so)));const r=this.up();for(let l=r.length;l--;){const e=this.Fv.xi(i,r[l].Kt());e>t&&(t=e)}const s=this.Li.Ct();if(null!==s&&null!==this.Ev&&2!==(o=this.cn.crosshair).mode&&o.horzLine.visible&&o.horzLine.labelVisible){const e=this.Li.pn(1,s),n=this.Li.pn(this.Ev.height-2,s);t=Math.max(t,this.Fv.xi(i,this.Li.Fi(Math.floor(Math.min(e,n))+.11111111111111,s)),this.Fv.xi(i,this.Li.Fi(Math.ceil(Math.max(e,n))-.11111111111111,s)))}var o;i.restore();const a=t||34;return sn(Math.ceil(e.C+e.T+e.A+e.I+5+a))}cp(t){null!==this.Ev&&r(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Kv.style.width="".concat(t.width,"px"),this.Kv.style.height="".concat(t.height,"px"))}dp(){return E(this.Ev).width}Gi(t){this.Li!==t&&(null!==this.Li&&this.Li.Ko().p(this),this.Li=t,t.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const t=this.tn.fp();this.tn.$v().$t().E_(t,E(this.Dt()))}vp(t){if(null===this.Ev)return;if(1!==t){this.pp(),this.Gv.applySuggestedBitmapSize();const t=u(this.Gv);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.mp(t),this.Ie(t)}),this.tn.bp(t,this.Xv),this.wp(t),this.tn.bp(t,this.Yv),this.gp(t))}this.Jv.applySuggestedBitmapSize();const e=u(this.Jv);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this.Mp(e),this.tn.bp(e,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(t,e,i){const n=this.xp();n.width>0&&n.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}bt(){var t;null===(t=this.Li)||void 0===t||t.Ha()}Qv(t){if(null===this.Li||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!0,e.V_(i,this.Li,t.localY)}tp(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),i=this.tn.fp(),n=this.Li;e.O_(i,n,t.localY)}ip(){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.$v().$t(),e=this.tn.fp(),i=this.Li;this.Nv&&(this.Nv=!1,t.B_(e,i))}np(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!1,e.B_(i,this.Li)}sp(t){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(t){null!==this.Li&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(t){this.kp(0)}up(){const t=[],e=null===this.Li?void 0:this.Li;return(i=>{for(let n=0;n<i.length;++n){const r=i[n].Rn(this.tn.fp(),e);for(let e=0;e<r.length;e++)t.push(r[e])}})(this.tn.fp().Uo()),t}mp(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,s=this.tn.fp().$t(),o=s.q(),a=s.bd();o===a?rt(e,0,0,n,r,o):at(e,0,0,n,r,o,a)}Ie(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n}=t;if(null===this.Ev||null===this.Li||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const r=Math.max(1,Math.floor(this.ap().C*n));let s;s=this.qv?i.width-r:0,e.fillRect(s,0,r,i.height)}wp(t){if(null===this.Ev||null===this.Li)return;const e=this.Li.Ha(),i=this.Li.W(),n=this.ap(),r=this.qv?this.Ev.width-n.T:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace(t=>{let{context:s,horizontalPixelRatio:o,verticalPixelRatio:a}=t;s.fillStyle=i.borderColor;const l=Math.max(1,Math.floor(a)),u=Math.floor(.5*a),h=Math.round(n.T*o);s.beginPath();for(const i of e)s.rect(Math.floor(r*o),Math.round(i.Ea*a)-u,h,l);s.fill()}),t.useMediaCoordinateSpace(t=>{let{context:s}=t;var o;s.font=this._p(),s.fillStyle=null!==(o=i.textColor)&&void 0!==o?o:this.ko.textColor,s.textAlign=this.qv?"right":"left",s.textBaseline="middle";const a=this.qv?Math.round(r-n.A):Math.round(r+n.T+n.A),l=e.map(t=>this.Fv.Mi(s,t.so));for(let i=e.length;i--;){const t=e[i];s.fillText(t.so,a,t.Ea+l[i])}})}pp(){if(null===this.Ev||null===this.Li)return;const t=[],e=this.Li.Uo().slice(),i=this.tn.fp(),n=this.ap();this.Li===i.pr()&&this.tn.fp().Uo().forEach(t=>{i.vr(t)&&e.push(t)});const r=this.Li;e.forEach(e=>{e.Rn(i,r).forEach(e=>{e.Oi(null),e.Bi()&&t.push(e)})}),t.forEach(t=>t.Oi(t.ki())),this.Li.W().alignLabels&&this.yp(t,n)}yp(t,e){if(null===this.Ev)return;const i=this.Ev.height/2,n=t.filter(t=>t.ki()<=i),r=t.filter(t=>t.ki()>i);n.sort((t,e)=>e.ki()-t.ki()),r.sort((t,e)=>t.ki()-e.ki());for(const s of t){const t=Math.floor(s.At(e)/2),i=s.ki();i>-t&&i<t&&s.Oi(t),i>this.Ev.height-t&&i<this.Ev.height+t&&s.Oi(this.Ev.height-t)}Tn(n,1,this.Ev.height,e),Tn(r,-1,this.Ev.height,e)}gp(t){if(null===this.Ev)return;const e=this.up(),i=this.ap(),n=this.qv?"right":"left";e.forEach(e=>{e.Ai()&&e.gt(E(this.Li)).X(t,i,this.Fv,n)})}Mp(t){if(null===this.Ev||null===this.Li)return;const e=this.tn.$v().$t(),i=[],n=this.tn.fp(),r=e.Zc().Rn(n,this.Li);r.length&&i.push(r);const s=this.ap(),o=this.qv?"right":"left";i.forEach(e=>{e.forEach(e=>{e.gt(E(this.Li)).X(t,s,this.Fv,o)})})}kp(t){this.Kv.style.cursor=1===t?"ns-resize":"default"}fo(){const t=this.op();this.Wv<t&&this.tn.$v().$t().Kl(),this.Wv=t}_p(){return Y(this.ko.fontSize,this.ko.fontFamily)}}function In(t,e){var i,n;return null!==(n=null===(i=t.ua)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function Mn(t,e){var i,n;return null!==(n=null===(i=t.Pn)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function kn(t,e){var i,n;return null!==(n=null===(i=t.Ji)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function Cn(t,e){var i,n;return null!==(n=null===(i=t.aa)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}class On{constructor(t,e){this.Ev=n({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new F,this.Op=new F,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||null===this.Np||this.$i().Uh()},this.Uv=()=>{this.jv||null===this.Np||this.$i().Uh()},this.Qd=t,this.Np=e,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(i),this.Gv=hn(i,n({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=hn(i,n({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const s=this.Jv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new yn(this.Jv.canvasElement,this,{ev:()=>null===this.Ip&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>null===this.Ip&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){null!==this.Cp&&this.Cp.S(),null!==this.Tp&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),cn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),cn(this.Gv.canvasElement),this.Gv.dispose(),null!==this.Np&&this.Np.W_().p(this),this.hp.S()}fp(){return E(this.Np)}qp(t){var e,i;null!==this.Np&&this.Np.W_().p(this),this.Np=t,null!==this.Np&&this.Np.W_().l(On.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=null!==(e=this.Pp)&&void 0!==e?e:new un(this.Wp,this.Qd),this.Pp.bt()):(null===(i=this.Pp)||void 0===i||i.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(null!==this.Np&&(this.Zp(),0!==this.$i().wt().length)){if(null!==this.Cp){const t=this.Np.R_();this.Cp.Gi(E(t))}if(null!==this.Tp){const t=this.Np.D_();this.Tp.Gi(E(t))}}}Xp(){null!==this.Cp&&this.Cp.bt(),null!==this.Tp&&this.Tp.bt()}M_(){return null!==this.Np?this.Np.M_():0}x_(t){this.Np&&this.Np.x_(t)}Qf(t){if(!this.Np)return;this.Kp();const e=t.localX,i=t.localY;this.Gp(e,i,t)}bv(t){this.Kp(),this.Jp(),this.Gp(t.localX,t.localY,t)}tv(t){var e;if(!this.Np)return;this.Kp();const i=t.localX,n=t.localY;this.Gp(i,n,t);const r=this.wr(i,n);this.Qd.Qp(null!==(e=null==r?void 0:r.Lv)&&void 0!==e?e:null),this.$i().jc(r&&{Hc:r.Hc,Iv:r.Iv})}dv(t){null!==this.Np&&(this.Kp(),this.tm(t))}qf(t){null!==this.Np&&this.im(this.Op,t)}jf(t){this.qf(t)}av(t){this.Kp(),this.nm(t),this.Gp(t.localX,t.localY,t)}cv(t){null!==this.Np&&(this.Kp(),this.Ap=!1,this.sm(t))}uv(t){null!==this.Np&&this.tm(t)}Rv(t){if(this.Ap=!0,null===this.Ip){const e={x:t.localX,y:t.localY};this.rm(e,e,t)}}Pv(t){null!==this.Np&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(t,e){if(!this.Qd.W().handleScale.pinch)return;const i=5*(e-this.Bp);this.Bp=e,this.$i().Qc(t.nt,i)}pv(t){this.Ap=!1,this.zp=null!==this.Ip,this.Jp();const e=this.$i().Zc();null!==this.Ip&&e.yt()&&(this.Lp={x:e.Yt(),y:e.Zt()},this.Ip={x:t.localX,y:t.localY})}hv(t){if(null===this.Np)return;const e=t.localX,i=t.localY;if(null===this.Ip)this.nm(t);else{this.zp=!1;const n=E(this.Lp),r=n.x+(e-this.Ip.x),s=n.y+(i-this.Ip.y);this.Gp(r,s,t)}}_v(t){0===this.$v().W().trackingMode.exitMode&&(this.zp=!0),this.om(),this.sm(t)}wr(t,e){const i=this.Np;return null===i?null:function(t,e,i){const n=t.Uo(),r=function(t,e,i){var n,r;let s,o;for(const u of t){const t=null!==(r=null===(n=u.va)||void 0===n?void 0:n.call(u,e,i))&&void 0!==r?r:[];for(const e of t)a=e.zOrder,(!(l=null==s?void 0:s.zOrder)||"top"===a&&"top"!==l||"normal"===a&&"bottom"===l)&&(s=e,o=u)}var a,l;return s&&o?{zv:s,Hc:o}:null}(n,e,i);if("top"===(null==r?void 0:r.zv.zOrder))return _n(r);for(const s of n){if(r&&r.Hc===s&&"bottom"!==r.zv.zOrder&&!r.zv.isBackground)return _n(r);const n=Sn(s.Pn(t),e,i);if(null!==n)return{Hc:s,Bv:n.Bv,Iv:n.Iv};if(r&&r.Hc===s&&"bottom"!==r.zv.zOrder&&r.zv.isBackground)return _n(r)}return(null==r?void 0:r.zv)?_n(r):null}(i,t,e)}_m(t,e){E("left"===e?this.Cp:this.Tp).cp(n({width:t,height:this.Ev.height}))}um(){return this.Ev}cp(t){r(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Wp.style.width=t.width+"px",this.Wp.style.height=t.height+"px")}dm(){const t=E(this.Np);t.P_(t.R_()),t.P_(t.D_());for(const e of t.Ba())if(t.vr(e)){const i=e.Dt();null!==i&&t.P_(i),e.Vn()}}xp(){return this.Gv.bitmapSize}Sp(t,e,i){const n=this.xp();n.width>0&&n.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}vp(t){if(0===t)return;if(null===this.Np)return;if(t>1&&this.dm(),null!==this.Cp&&this.Cp.vp(t),null!==this.Tp&&this.Tp.vp(t),1!==t){this.Gv.applySuggestedBitmapSize();const t=u(this.Gv);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.mp(t)}),this.Np&&(this.fm(t,In),this.vm(t),this.pm(t),this.fm(t,Mn),this.fm(t,kn)))}this.Jv.applySuggestedBitmapSize();const e=u(this.Jv);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this.bm(e),this.fm(e,Cn))}wm(){return this.Cp}gm(){return this.Tp}bp(t,e){this.fm(t,e)}Fp(){null!==this.Np&&this.Np.W_().p(this),this.Np=null}tm(t){this.im(this.Vp,t)}im(t,e){const i=e.localX,n=e.localY;t.M()&&t.m(this.$i().St().Nu(i),{x:i,y:n},e)}mp(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,s=this.$i(),o=s.q(),a=s.bd();o===a?rt(e,0,0,n,r,a):at(e,0,0,n,r,o,a)}vm(t){const e=E(this.Np).j_().qh().gt();null!==e&&e.X(t,!1)}pm(t){const e=this.$i().Yc();this.Mm(t,Mn,dn,e),this.Mm(t,Mn,fn,e)}bm(t){this.Mm(t,Mn,fn,this.$i().Zc())}fm(t,e){const i=E(this.Np).Uo();for(const n of i)this.Mm(t,e,dn,n);for(const n of i)this.Mm(t,e,fn,n)}Mm(t,e,i,n){const r=E(this.Np),s=r.$t().Wc(),o=null!==s&&s.Hc===n,a=null!==s&&o&&void 0!==s.Iv?s.Iv.Mr:void 0;pn(e,e=>i(e,t,o,a),n,r)}Zp(){if(null===this.Np)return;const t=this.Qd,e=this.Np.R_().W().visible,i=this.Np.D_().W().visible;e||null===this.Cp||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),i||null===this.Tp||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const n=t.$t().ud();e&&null===this.Cp&&(this.Cp=new En(this,t.W(),n,"left"),this.jp.appendChild(this.Cp.lp())),i&&null===this.Tp&&(this.Tp=new En(this,t.W(),n,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(t){return t.Dv&&this.Ap||null!==this.Ip}Sm(t){return Math.max(0,Math.min(t,this.Ev.width-1))}km(t){return Math.max(0,Math.min(t,this.Ev.height-1))}Gp(t,e,i){this.$i().ld(this.Sm(t),this.km(e),i,E(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(t,e,i){this.Ip=t,this.zp=!1,this.Gp(e.x,e.y,i);const n=this.$i().Zc();this.Lp={x:n.Yt(),y:n.Zt()}}$i(){return this.Qd.$t()}sm(t){if(!this.Dp)return;const e=this.$i(),i=this.fp();if(e.z_(i,i.vn()),this.Rp=null,this.Dp=!1,e.ed(),null!==this.Ep){const t=performance.now(),i=e.St();this.Ep.Vr(i.Hu(),t),this.Ep.Qu(t)||e.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)E(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(t){if(null===this.Np)return;const e=this.$i(),i=e.St();if(i.Ni())return;const n=this.Qd.W(),r=n.handleScroll,s=n.kineticScroll;if((!r.pressedMouseMove||t.Dv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.Dv))return;const o=this.Np.vn(),a=performance.now();if(null!==this.Rp||this.xm(t)||(this.Rp={x:t.clientX,y:t.clientY,Od:a,ym:t.localX,Cm:t.localY}),null!==this.Rp&&!this.Dp&&(this.Rp.x!==t.clientX||this.Rp.y!==t.clientY)){if(t.Dv&&s.touch||!t.Dv&&s.mouse){const t=i.le();this.Ep=new ln(.2/t,7/t,.997,15/t),this.Ep.Yd(i.Hu(),this.Rp.Od)}else this.Ep=null;o.Ni()||e.A_(this.Np,o,t.localY),e.nd(t.localX),this.Dp=!0}this.Dp&&(o.Ni()||e.I_(this.Np,o,t.localY),e.sd(t.localX),null!==this.Ep&&this.Ep.Yd(i.Hu(),a))}}class Bn{constructor(t,e,i,r,s){this.ft=!0,this.Ev=n({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv="left"===t,this.Oc=i.ud,this.cn=e,this.Tm=r,this.Pm=s,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=hn(this.Kv,n({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),cn(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(t){r(this.Ev,t)||(this.Ev=t,this.Gv.resizeCanvasElement(t),this.Kv.style.width="".concat(t.width,"px"),this.Kv.style.height="".concat(t.height,"px"),this.ft=!0)}vp(t){if(t<3&&!this.ft)return;if(0===this.Ev.width||0===this.Ev.height)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const e=u(this.Gv);null!==e&&e.useBitmapCoordinateSpace(t=>{this.mp(t),this.Ie(t)})}xp(){return this.Gv.bitmapSize}Sp(t,e,i){const n=this.xp();n.width>0&&n.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}Ie(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const s=Math.floor(this.Oc.W().C*n),o=Math.floor(this.Oc.W().C*r),a=this.qv?i.width-s:0;e.fillRect(a,0,s,o)}mp(t){let{context:e,bitmapSize:i}=t;rt(e,0,0,i.width,i.height,this.Pm())}}function Ln(t){return e=>{var i,n;return null!==(n=null===(i=e.fa)||void 0===i?void 0:i.call(e,t))&&void 0!==n?n:[]}}const An=Ln("normal"),Dn=Ln("top"),Nn=Ln("bottom");class zn{constructor(t,e){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=n({width:0,height:0}),this.Om=new F,this.Fv=new ae(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=t,this.q_=e,this.cn=t.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=hn(this.Im,n({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=hn(this.Im,n({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const r=this.Jv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new yn(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),null!==this.Rm&&this.Rm.S(),null!==this.Dm&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),cn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),cn(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(t){if(this.Vm)return;this.Vm=!0;const e=this.Qd.$t();!e.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&e.Jc(t.localX)}pv(t){this.bv(t)}wv(){const t=this.Qd.$t();!t.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&t.hd())}av(t){const e=this.Qd.$t();!e.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&e.rd(t.localX)}hv(t){this.av(t)}cv(){this.Vm=!1;const t=this.Qd.$t();t.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||t.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(t,e,i){r(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Kv.style.width="".concat(t.width,"px"),this.Kv.style.height="".concat(t.height,"px"),this.Om.m(t)),null!==this.Rm&&this.Rm.cp(n({width:e,height:t.height})),null!==this.Dm&&this.Dm.cp(n({width:i,height:t.height}))}Wm(){const t=this.jm();return Math.ceil(t.C+t.T+t.P+t.L+t.B+t.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(t,e,i){const n=this.xp();n.width>0&&n.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}vp(t){if(0===t)return;if(1!==t){this.Gv.applySuggestedBitmapSize();const e=u(this.Gv);null!==e&&(e.useBitmapCoordinateSpace(t=>{this.mp(t),this.Ie(t),this.$m(e,Nn)}),this.wp(e),this.$m(e,An)),null!==this.Rm&&this.Rm.vp(t),null!==this.Dm&&this.Dm.vp(t)}this.Jv.applySuggestedBitmapSize();const e=u(this.Jv);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],e),this.$m(e,Dn))}$m(t,e){const i=this.Qd.$t().wt();for(const n of i)pn(e,e=>dn(e,t,!1,void 0),n,void 0);for(const n of i)pn(e,e=>fn(e,t,!1,void 0),n,void 0)}mp(t){let{context:e,bitmapSize:i}=t;rt(e,0,0,i.width,i.height,this.Qd.$t().bd())}Ie(t){let{context:e,bitmapSize:i,verticalPixelRatio:n}=t;if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const t=Math.max(1,Math.floor(this.jm().C*n));e.fillRect(0,0,i.width,t)}}wp(t){const e=this.Qd.$t().St(),i=e.Ha();if(!i||0===i.length)return;const n=this.q_.maxTickMarkWeight(i),r=this.jm(),s=e.W();s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace(t=>{let{context:e,horizontalPixelRatio:n,verticalPixelRatio:s}=t;e.strokeStyle=this.qm(),e.fillStyle=this.qm();const o=Math.max(1,Math.floor(n)),a=Math.floor(.5*n);e.beginPath();const l=Math.round(r.T*s);for(let r=i.length;r--;){const t=Math.round(i[r].coord*n);e.rect(t-a,0,o,l)}e.fill()}),t.useMediaCoordinateSpace(t=>{let{context:e}=t;const s=r.C+r.T+r.L+r.P/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.$(),e.font=this._p();for(const r of i)if(r.weight<n){const t=r.needAlignCoordinate?this.Ym(e,r.coord,r.label):r.coord;e.fillText(r.label,t,s)}this.Qd.W().timeScale.allowBoldLabels&&(e.font=this.Zm());for(const r of i)if(r.weight>=n){const t=r.needAlignCoordinate?this.Ym(e,r.coord,r.label):r.coord;e.fillText(r.label,t,s)}})}Ym(t,e,i){const n=this.Fv.xi(t,i),r=n/2,s=Math.floor(e-r)+.5;return s<0?e+=Math.abs(0-s):s+n>this.Ev.width&&(e-=Math.abs(this.Ev.width-(s+n))),e}Um(t,e){const i=this.jm();for(const n of t)for(const t of n.Qi())t.gt().X(e,i)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return Y(this.j(),this.cn.fontFamily)}Zm(){return Y(this.j(),this.cn.fontFamily,"bold")}jm(){null===this.k&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new ae,Hm:0});const t=this.k,e=this._p();if(t.R!==e){const i=this.j();t.P=i,t.R=e,t.L=3*i/12,t.B=3*i/12,t.ji=9*i/12,t.N=0,t.Hm=4*i/12,t.Wi.nr()}return this.k}kp(t){this.Kv.style.cursor=1===t?"ew-resize":"default"}zm(){const t=this.Qd.$t(),e=t.W();e.leftPriceScale.visible||null===this.Rm||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),e.rightPriceScale.visible||null===this.Dm||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const i={ud:this.Qd.$t().ud()},n=()=>e.leftPriceScale.borderVisible&&t.St().W().borderVisible,r=()=>t.bd();e.leftPriceScale.visible&&null===this.Rm&&(this.Rm=new Bn("left",e,i,n,r),this.Bm.appendChild(this.Rm.lp())),e.rightPriceScale.visible&&null===this.Dm&&(this.Dm=new Bn("right",e,i,n,r),this.Am.appendChild(this.Dm.lp()))}}const Fn=!!en&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!en&&((null===(Pn=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===Pn?void 0:Pn.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);var Pn;class Rn{constructor(t,e,i){var n;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new F,this.Op=new F,this.Rc=new F,this.ib=null,this.nb=null,this.Jd=t,this.cn=e,this.q_=i,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(n=this.Xd).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),Vn(this.cn)&&this.hb(!0),this.$i=new Pi(this.Vc.bind(this),this.cn,i),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new zn(this,this.q_),this.sb.appendChild(this.ab.lp());const r=e.autoSize&&this.ob();let s=this.cn.width,o=this.cn.height;if(r||0===s||0===o){const e=t.getBoundingClientRect();s=s||e.width,o=o||e.height}this._b(s,o),this.ub(),t.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),0!==this.Km&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const t of this.Xm)this.sb.removeChild(t.lp()),t.lm().p(this),t.am().p(this),t.S();this.Xm=[],E(this.ab).S(),null!==this.Xd.parentElement&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.ho===e&&this.__===t)return;const r=function(t){const e=Math.floor(t.width),i=Math.floor(t.height);return n({width:e-e%2,height:i-i%2})}(n({width:t,height:e}));this.ho=r.height,this.__=r.width;const s=this.ho+"px",o=this.__+"px";E(this.Xd).style.height=s,E(this.Xd).style.width=o,this.sb.style.height=s,this.sb.style.width=o,i?this.mb(vt.es(),performance.now()):this.$i.Kl()}vp(t){void 0===t&&(t=vt.es());for(let e=0;e<this.Xm.length;e++)this.Xm[e].vp(t.Hn(e).Fn);this.cn.timeScale.visible&&this.ab.vp(t.jn())}$h(t){const e=Vn(this.cn);this.$i.$h(t);const i=Vn(this.cn);i!==e&&this.hb(i),this.cb(),this.bb(t)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){null!==this.Qm&&(this.mb(this.Qm,performance.now()),this.Qm=null);const t=this.gb(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=E(e.getContext("2d"));return this.gb(i),e}Mb(t){return("left"!==t||this.xb())&&("right"!==t||this.Sb())?0===this.Xm.length?0:E("left"===t?this.Xm[0].wm():this.Xm[0].gm()).dp():0}kb(){return this.cn.autoSize&&null!==this.ib}yb(){return this.Xd}Qp(t){this.nb=t,this.nb?this.yb().style.setProperty("cursor",t):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return T(this.Xm[0]).um()}bb(t){(void 0!==t.autoSize||!this.ib||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.ib&&this.ob(),!1===t.autoSize&&null!==this.ib&&this.pb(),t.autoSize||void 0===t.width&&void 0===t.height||this._b(t.width||this.__,t.height||this.ho))}gb(t){let e=0,i=0;const r=this.Xm[0],s=(e,i)=>{let n=0;for(let r=0;r<this.Xm.length;r++){const s=this.Xm[r],o=E("left"===e?s.wm():s.gm()),a=o.xp();null!==t&&o.Sp(t,i,n),n+=a.height}};this.xb()&&(s("left",0),e+=E(r.wm()).xp().width);for(let n=0;n<this.Xm.length;n++){const r=this.Xm[n],s=r.xp();null!==t&&r.Sp(t,e,i),i+=s.height}e+=r.xp().width,this.Sb()&&(s("right",e),e+=E(r.gm()).xp().width);const o=(e,i,n)=>{E("left"===e?this.ab.Lm():this.ab.Em()).Sp(E(t),i,n)};if(this.cn.timeScale.visible){const e=this.ab.xp();if(null!==t){let n=0;this.xb()&&(o("left",n,i),n=E(r.wm()).xp().width),this.ab.Sp(t,n,i),n+=e.width,this.Sb()&&o("right",n,i)}i+=e.height}return n({width:e,height:i})}Pb(){let t=0,e=0,i=0;for(const n of this.Xm)this.xb()&&(e=Math.max(e,E(n.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(i=Math.max(i,E(n.gm()).op(),this.cn.rightPriceScale.minimumWidth)),t+=n.M_();e=sn(e),i=sn(i);const r=this.__,s=this.ho,o=Math.max(r-e-i,0),a=this.cn.timeScale.visible;let l=a?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var u;l=(u=l)+u%2;const h=0+l,c=s<h?0:s-h,d=c/t;let f=0;for(let p=0;p<this.Xm.length;++p){const t=this.Xm[p];t.qp(this.$i.qc()[p]);let r=0,s=0;s=p===this.Xm.length-1?c-f:Math.round(t.M_()*d),r=Math.max(s,2),f+=r,t.cp(n({width:o,height:r})),this.xb()&&t._m(e,"left"),this.Sb()&&t._m(i,"right"),t.fp()&&this.$i.Kc(t.fp(),r)}this.ab.Fm(n({width:a?o:0,height:l}),a?e:0,a?i:0),this.$i.S_(o),this.Gm!==e&&(this.Gm=e),this.Jm!==i&&(this.Jm=i)}hb(t){t?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Fn?1/window.devicePixelRatio:1}rb(t){if(!(0!==t.deltaX&&this.cn.handleScroll.mouseWheel||0!==t.deltaY&&this.cn.handleScale.mouseWheel))return;const e=this.Rb(t),i=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==n&&this.cn.handleScale.mouseWheel){const e=Math.sign(n)*Math.min(1,Math.abs(n)),i=t.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(i,e)}0!==i&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*i)}mb(t,e){var i;const n=t.jn();3===n&&this.Db(),3!==n&&2!==n||(this.Vb(t),this.Ob(t,e),this.ab.bt(),this.Xm.forEach(t=>{t.Xp()}),3===(null===(i=this.Qm)||void 0===i?void 0:i.jn())&&(this.Qm.ts(t),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,e),t=this.Qm,this.Qm=null)),this.vp(t)}Ob(t,e){for(const i of t.Qn())this.ns(i,e)}Vb(t){const e=this.$i.qc();for(let i=0;i<e.length;i++)t.Hn(i).Wn&&e[i].N_()}ns(t,e){const i=this.$i.St();switch(t.qn){case 0:i.hc();break;case 1:i.lc(t.Vt);break;case 2:i.Gn(t.Vt);break;case 3:i.Jn(t.Vt);break;case 4:i.qu();break;case 5:t.Vt.Qu(e)||i.Jn(t.Vt.tc(e))}}Vc(t){null!==this.Qm?this.Qm.ts(t):this.Qm=t,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(t=>{if(this.tb=!1,this.Km=0,null!==this.Qm){const e=this.Qm;this.Qm=null,this.mb(e,t);for(const i of e.Qn())if(5===i.qn&&!i.Vt.Qu(t)){this.$t().Zn(i.Vt);break}}}))}Db(){this.ub()}ub(){const t=this.$i.qc(),e=t.length,i=this.Xm.length;for(let n=e;n<i;n++){const t=T(this.Xm.pop());this.sb.removeChild(t.lp()),t.lm().p(this),t.am().p(this),t.S()}for(let n=i;n<e;n++){const e=new On(this,t[n]);e.lm().l(this.Bb.bind(this),this),e.am().l(this.Ab.bind(this),this),this.Xm.push(e),this.sb.insertBefore(e.lp(),this.ab.lp())}for(let n=0;n<e;n++){const e=t[n],i=this.Xm[n];i.fp()!==e?i.qp(e):i.Up()}this.cb(),this.Pb()}Ib(t,e,i){var n;const r=new Map;let s;if(null!==t&&this.$i.wt().forEach(e=>{const i=e.In().ll(t);null!==i&&r.set(e,i)}),null!==t){const e=null===(n=this.$i.St().Ui(t))||void 0===n?void 0:n.originalTime;void 0!==e&&(s=e)}const o=this.$t().Wc(),a=null!==o&&o.Hc instanceof ti?o.Hc:void 0,l=null!==o&&void 0!==o.Iv?o.Iv.gr:void 0;return{zb:s,ee:null!=t?t:void 0,Lb:null!=e?e:void 0,Eb:a,Nb:r,Fb:l,Wb:null!=i?i:void 0}}Bb(t,e,i){this.Vp.m(()=>this.Ib(t,e,i))}Ab(t,e,i){this.Op.m(()=>this.Ib(t,e,i))}lb(t,e,i){this.Rc.m(()=>this.Ib(t,e,i))}cb(){const t=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=t}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(t=>{const e=t.find(t=>t.target===this.Jd);e&&this._b(e.contentRect.width,e.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){null!==this.ib&&this.ib.disconnect(),this.ib=null}}function Vn(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function Un(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}function jn(t,e,i,n){const r=i.value,s={ee:e,ot:t,Vt:[r,r,r,r],zb:n};return void 0!==i.color&&(s.V=i.color),s}function Wn(t,e,i,n){const r=i.value,s={ee:e,ot:t,Vt:[r,r,r,r],zb:n};return void 0!==i.lineColor&&(s.lt=i.lineColor),void 0!==i.topColor&&(s.Ps=i.topColor),void 0!==i.bottomColor&&(s.Rs=i.bottomColor),s}function $n(t,e,i,n){const r=i.value,s={ee:e,ot:t,Vt:[r,r,r,r],zb:n};return void 0!==i.topLineColor&&(s.Re=i.topLineColor),void 0!==i.bottomLineColor&&(s.De=i.bottomLineColor),void 0!==i.topFillColor1&&(s.ke=i.topFillColor1),void 0!==i.topFillColor2&&(s.ye=i.topFillColor2),void 0!==i.bottomFillColor1&&(s.Ce=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(s.Te=i.bottomFillColor2),s}function Hn(t,e,i,n){const r={ee:e,ot:t,Vt:[i.open,i.high,i.low,i.close],zb:n};return void 0!==i.color&&(r.V=i.color),r}function Kn(t,e,i,n){const r={ee:e,ot:t,Vt:[i.open,i.high,i.low,i.close],zb:n};return void 0!==i.color&&(r.V=i.color),void 0!==i.borderColor&&(r.Ot=i.borderColor),void 0!==i.wickColor&&(r.Xh=i.wickColor),r}function Yn(t,e,i,n,r){const s=T(r)(i),o=Math.max(...s),a=Math.min(...s),l=s[s.length-1],u=[l,o,a,l],h=i,{time:c,color:d}=h;return{ee:e,ot:t,Vt:u,zb:n,$e:Un(h,["time","color"]),V:d}}function Xn(t){return void 0!==t.Vt}function qn(t,e){return void 0!==e.customValues&&(t.jb=e.customValues),t}function Qn(t){return(e,i,n,r,s,o)=>function(t,e){return e?e(t):void 0===(i=t).open&&void 0===i.value;var i}(n,o)?qn({ot:e,ee:i,zb:r},n):qn(t(e,i,n,r,s),n)}function Gn(t){return{Candlestick:Qn(Kn),Bar:Qn(Hn),Area:Qn(Wn),Baseline:Qn($n),Histogram:Qn(jn),Line:Qn(jn),Custom:Qn(Yn)}[t]}function Jn(t){return{ee:0,Hb:new Map,la:t}}function Zn(t,e){if(void 0!==t&&0!==t.length)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function tr(t){let e;return t.forEach(t=>{void 0===e&&(e=t.zb)}),T(e)}class er{constructor(t){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=t}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(t,e){let i=0!==this.qb.size,n=!1;const r=this.Yb.get(t);if(void 0!==r)if(1===this.Yb.size)i=!1,n=!0,this.qb.clear();else for(const a of this.Xb)a.pointData.Hb.delete(t)&&(n=!0);let s=[];if(0!==e.length){const i=e.map(t=>t.time),r=this.q_.createConverterToInternalObj(e),o=Gn(t.Qh()),a=t.Ca(),l=t.Ta();s=e.map((e,s)=>{const u=r(e.time),h=this.q_.key(u);let c=this.qb.get(h);void 0===c&&(c=Jn(u),this.qb.set(h,c),n=!0);const d=o(u,c.ee,e,i[s],a,l);return c.Hb.set(t,d),d})}i&&this.Gb(),this.Jb(t,s);let o=-1;if(n){const t=[];this.qb.forEach(e=>{t.push({timeWeight:0,time:e.la,pointData:e,originalTime:tr(e.Hb)})}),t.sort((t,e)=>this.q_.key(t.time)-this.q_.key(e.time)),o=this.Qb(t)}return this.tw(t,o,function(t,e,i){const n=Zn(t,i),r=Zn(e,i);if(void 0!==n&&void 0!==r)return{ta:n.Ub>=r.Ub&&n.$b>=r.$b}}(this.Yb.get(t),r,this.q_))}vd(t){return this.Kb(t,[])}iw(t,e){const i=e;!function(t){void 0===t.zb&&(t.zb=t.time)}(i),this.q_.preprocessData(e);const n=this.q_.createConverterToInternalObj([e])(e.time),r=this.Zb.get(t);if(void 0!==r&&this.q_.key(n)<this.q_.key(r))throw new Error("Cannot update oldest data, last time=".concat(r,", new time=").concat(n));let s=this.qb.get(this.q_.key(n));const o=void 0===s;void 0===s&&(s=Jn(n),this.qb.set(this.q_.key(n),s));const a=Gn(t.Qh()),l=t.Ca(),u=t.Ta(),h=a(n,s.ee,e,i.zb,l,u);s.Hb.set(t,h),this.nw(t,h);const c={ta:Xn(h)};if(!o)return this.tw(t,-1,c);const d={timeWeight:0,time:s.la,pointData:s,originalTime:tr(s.Hb)},f=Pt(this.Xb,this.q_.key(d.time),(t,e)=>this.q_.key(t.time)<e);this.Xb.splice(f,0,d);for(let p=f;p<this.Xb.length;++p)ir(this.Xb[p].pointData,p);return this.q_.fillWeightsForPoints(this.Xb,f),this.tw(t,f,c)}nw(t,e){let i=this.Yb.get(t);void 0===i&&(i=[],this.Yb.set(t,i));const n=0!==i.length?i[i.length-1]:null;null===n||this.q_.key(e.ot)>this.q_.key(n.ot)?Xn(e)&&i.push(e):Xn(e)?i[i.length-1]=e:i.splice(-1,1),this.Zb.set(t,e.ot)}Jb(t,e){0!==e.length?(this.Yb.set(t,e.filter(Xn)),this.Zb.set(t,e[e.length-1].ot)):(this.Yb.delete(t),this.Zb.delete(t))}Gb(){for(const t of this.Xb)0===t.pointData.Hb.size&&this.qb.delete(this.q_.key(t.time))}Qb(t){let e=-1;for(let i=0;i<this.Xb.length&&i<t.length;++i){const n=this.Xb[i],r=t[i];if(this.q_.key(n.time)!==this.q_.key(r.time)){e=i;break}r.timeWeight=n.timeWeight,ir(r.pointData,i)}if(-1===e&&this.Xb.length!==t.length&&(e=Math.min(this.Xb.length,t.length)),-1===e)return-1;for(let i=e;i<t.length;++i)ir(t[i].pointData,i);return this.q_.fillWeightsForPoints(t,e),this.Xb=t,e}sw(){if(0===this.Yb.size)return null;let t=0;return this.Yb.forEach(e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].ee))}),t}tw(t,e,i){const n={ew:new Map,St:{Eu:this.sw()}};if(-1!==e)this.Yb.forEach((e,r)=>{n.ew.set(r,{$e:e,rw:r===t?i:void 0})}),this.Yb.has(t)||n.ew.set(t,{$e:[],rw:i}),n.St.hw=this.Xb,n.St.lw=e;else{const e=this.Yb.get(t);n.ew.set(t,{$e:e||[],rw:i})}return n}}function ir(t,e){t.ee=e,t.Hb.forEach(t=>{t.ee=e})}function nr(t){const e={value:t.Vt[3],time:t.zb};return void 0!==t.jb&&(e.customValues=t.jb),e}function rr(t){const e=nr(t);return void 0!==t.V&&(e.color=t.V),e}function sr(t){const e=nr(t);return void 0!==t.lt&&(e.lineColor=t.lt),void 0!==t.Ps&&(e.topColor=t.Ps),void 0!==t.Rs&&(e.bottomColor=t.Rs),e}function or(t){const e=nr(t);return void 0!==t.Re&&(e.topLineColor=t.Re),void 0!==t.De&&(e.bottomLineColor=t.De),void 0!==t.ke&&(e.topFillColor1=t.ke),void 0!==t.ye&&(e.topFillColor2=t.ye),void 0!==t.Ce&&(e.bottomFillColor1=t.Ce),void 0!==t.Te&&(e.bottomFillColor2=t.Te),e}function ar(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return void 0!==t.jb&&(e.customValues=t.jb),e}function lr(t){const e=ar(t);return void 0!==t.V&&(e.color=t.V),e}function ur(t){const e=ar(t),{V:i,Ot:n,Xh:r}=t;return void 0!==i&&(e.color=i),void 0!==n&&(e.borderColor=n),void 0!==r&&(e.wickColor=r),e}function hr(t){return{Area:sr,Line:rr,Baseline:or,Histogram:rr,Bar:lr,Candlestick:ur,Custom:cr}[t]}function cr(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const dr={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},fr={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},pr={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:K,attributionLogo:!0},yr={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},br={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},mr={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:K,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function vr(){return{width:0,height:0,autoSize:!1,layout:pr,crosshair:dr,grid:fr,overlayPriceScales:Object.assign({},yr),leftPriceScale:Object.assign(Object.assign({},yr),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},yr),{visible:!0}),timeScale:br,watermark:mr,localization:{locale:en?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class gr{constructor(t,e){this.aw=t,this.ow=e}applyOptions(t){this.aw.$t().$c(this.ow,t)}options(){return this.Li().W()}width(){return mt(this.ow)?this.aw.Mb(this.ow):0}Li(){return E(this.aw.$t().Uc(this.ow)).Dt}}function wr(t,e,i){const n=Un(t,["time","originalTime"]),r=Object.assign({time:e},n);return void 0!==i&&(r.originalTime=i),r}const _r={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Sr{constructor(t){this.Nh=t}applyOptions(t){this.Nh.$h(t)}options(){return this.Nh.W()}_w(){return this.Nh}}class xr{constructor(t,e,i,n,r){this.uw=new F,this.Es=t,this.cw=e,this.dw=i,this.q_=r,this.fw=n}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(t){const e=this.Es.Ct();return null===e?null:this.Es.Dt().Rt(t,e.Vt)}coordinateToPrice(t){const e=this.Es.Ct();return null===e?null:this.Es.Dt().pn(t,e.Vt)}barsInLogicalRange(t){if(null===t)return null;const e=new Mi(new Ti(t.from,t.to)).lu(),i=this.Es.In();if(i.Ni())return null;const n=i.ll(e.Os(),1),r=i.ll(e.ui(),-1),s=E(i.el()),o=E(i.An());if(null!==n&&null!==r&&n.ee>r.ee)return{barsBefore:t.from-s,barsAfter:o-t.to};const a={barsBefore:null===n||n.ee===s?t.from-s:n.ee-s,barsAfter:null===r||r.ee===o?o-t.to:o-r.ee};return null!==n&&null!==r&&(a.from=n.zb,a.to=r.zb),a}setData(t){this.q_,this.Es.Qh(),this.cw.pw(this.Es,t),this.mw("full")}update(t){this.Es.Qh(),this.cw.bw(this.Es,t),this.mw("update")}dataByIndex(t,e){const i=this.Es.In().ll(t,e);return null===i?null:hr(this.seriesType())(i)}data(){const t=hr(this.seriesType());return this.Es.In().ne().map(e=>t(e))}subscribeDataChanged(t){this.uw.l(t)}unsubscribeDataChanged(t){this.uw.v(t)}setMarkers(t){this.q_;const e=t.map(t=>wr(t,this.q_.convertHorzItemToInternal(t.time),t.time));this.Es.na(e)}markers(){return this.Es.sa().map(t=>wr(t,t.originalTime,void 0))}applyOptions(t){this.Es.$h(t)}options(){return W(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(t){const e=P(W(_r),t),i=this.Es.ea(e);return new Sr(i)}removePriceLine(t){this.Es.ra(t._w())}seriesType(){return this.Es.Qh()}attachPrimitive(t){this.Es.ka(t),t.attached&&t.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(t){this.Es.ya(t),t.detached&&t.detached()}mw(t){this.uw.M()&&this.uw.m(t)}}class Tr{constructor(t,e,i){this.ww=new F,this.mu=new F,this.Om=new F,this.$i=t,this.yl=t.St(),this.ab=e,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=i}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(t,e){e?this.yl.Ju(t,1e3):this.$i.Jn(t)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const t=this.yl.Vu();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.q_.convertHorzItemToInternal(t.from),to:this.q_.convertHorzItemToInternal(t.to)},i=this.yl.Iu(e);this.$i.pd(i)}getVisibleLogicalRange(){const t=this.yl.Du();return null===t?null:{from:t.Os(),to:t.ui()}}setVisibleLogicalRange(t){x(t.from<=t.to,"The from index cannot be after the to index."),this.$i.pd(t)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(t){const e=this.$i.St();return e.Ni()?null:e.It(t)}coordinateToLogical(t){return this.yl.Ni()?null:this.yl.Nu(t)}timeToCoordinate(t){const e=this.q_.convertHorzItemToInternal(t),i=this.yl.Va(e,!1);return null===i?null:this.yl.It(i)}coordinateToTime(t){const e=this.$i.St(),i=e.Nu(t),n=e.Ui(i);return null===n?null:n.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(t){this.ww.l(t)}unsubscribeVisibleTimeRangeChange(t){this.ww.v(t)}subscribeVisibleLogicalRangeChange(t){this.mu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.mu.v(t)}subscribeSizeChange(t){this.Om.l(t)}unsubscribeSizeChange(t){this.Om.v(t)}applyOptions(t){this.yl.$h(t)}options(){return Object.assign(Object.assign({},W(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(t){this.Om.m(t.width,t.height)}}function Er(t){return function(t){if(j(t.handleScale)){const e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){const{axisPressedMouseMove:e,axisDoubleClickReset:i}=t.handleScale;j(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),j(i)&&(t.handleScale.axisDoubleClickReset={time:i,price:i})}const e=t.handleScroll;j(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class Ir{constructor(t,e,i){this.Sw=new Map,this.kw=new Map,this.yw=new F,this.Cw=new F,this.Tw=new F,this.Pw=new er(e);const n=void 0===i?W(vr()):P(W(vr()),Er(i));this.q_=e,this.aw=new Rn(t,n,e),this.aw.lm().l(t=>{this.yw.M()&&this.yw.m(this.Rw(t()))},this),this.aw.am().l(t=>{this.Cw.M()&&this.Cw.m(this.Rw(t()))},this),this.aw.Xc().l(t=>{this.Tw.M()&&this.Tw.m(this.Rw(t()))},this);const r=this.aw.$t();this.Dw=new Tr(r,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(t,e,i){this.autoSizeActive()||this.aw._b(t,e,i)}addCustomSeries(t,e){const i=I(t),n=Object.assign(Object.assign({},b),i.defaultOptions());return this.Vw("Custom",n,e,i)}addAreaSeries(t){return this.Vw("Area",f,t)}addBaselineSeries(t){return this.Vw("Baseline",p,t)}addBarSeries(t){return this.Vw("Bar",c,t)}addCandlestickSeries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(t),this.Vw("Candlestick",h,t)}addHistogramSeries(t){return this.Vw("Histogram",y,t)}addLineSeries(t){return this.Vw("Line",d,t)}removeSeries(t){const e=T(this.Sw.get(t)),i=this.Pw.vd(e);this.aw.$t().vd(e),this.Ow(i),this.Sw.delete(t),this.kw.delete(e)}pw(t,e){this.Ow(this.Pw.Kb(t,e))}bw(t,e){this.Ow(this.Pw.iw(t,e))}subscribeClick(t){this.yw.l(t)}unsubscribeClick(t){this.yw.v(t)}subscribeCrosshairMove(t){this.Tw.l(t)}unsubscribeCrosshairMove(t){this.Tw.v(t)}subscribeDblClick(t){this.Cw.l(t)}unsubscribeDblClick(t){this.Cw.v(t)}priceScale(t){return new gr(this.aw,t)}timeScale(){return this.Dw}applyOptions(t){this.aw.$h(Er(t))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const t=this.aw.Tb();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,i){const n=this.Sw.get(i);if(void 0===n)return;const r=this.aw.$t().dr(n);null!==r&&this.aw.$t().ad(t,e,r)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;!function(t){if(void 0===t||"custom"===t.type)return;const e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}(e.minMove))}(i.priceFormat);const r=P(W(m),W(e),i),s=this.aw.$t().dd(t,r,n),o=new xr(s,this,this,this,this.q_);return this.Sw.set(o,s),this.kw.set(s,o),o}Ow(t){const e=this.aw.$t();e._d(t.St.Eu,t.St.hw,t.St.lw),t.ew.forEach((t,e)=>e.J(t.$e,t.rw)),e.Wu()}Bw(t){return T(this.kw.get(t))}Rw(t){const e=new Map;t.Nb.forEach((t,i)=>{const n=i.Qh(),r=hr(n)(t);if("Custom"!==n)x(function(t){return function(t){return void 0!==t.open}(t)||function(t){return void 0!==t.value}(t)}(r));else{const t=i.Ta();x(!t||!1===t(r))}e.set(this.Bw(i),r)});const i=void 0!==t.Eb&&this.kw.has(t.Eb)?this.Bw(t.Eb):void 0;return{time:t.zb,logical:t.ee,point:t.Lb,hoveredSeries:i,hoveredObjectId:t.Fb,seriesData:e,sourceEvent:t.Wb}}}function Mr(t,e){return function(t,e,i){let n;if(U(t)){const e=document.getElementById(t);x(null!==e,"Cannot find element in DOM with id=".concat(t)),n=e}else n=t;const r=new Ir(n,e,i);return e.setOptions(r.options()),r}(t,new tn,tn.Id(e))}Object.assign(Object.assign({},m),b)},,function(t,e,i){"use strict";var n=i(3),r="function"===typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,h=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,b="function"===typeof Symbol&&Symbol.iterator;function m(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function w(t,e,i){this.props=t,this.context=e,this.refs=g,this.updater=i||v}function _(){}function S(t,e,i){this.props=t,this.context=e,this.refs=g,this.updater=i||v}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(m(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var x=S.prototype=new _;x.constructor=S,n(x,w.prototype),x.isPureReactComponent=!0;var T={current:null},E=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function M(t,e,i){var n,r={},o=null,a=null;if(null!=e)for(n in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)E.call(e,n)&&!I.hasOwnProperty(n)&&(r[n]=e[n]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps)void 0===r[n]&&(r[n]=l[n]);return{$$typeof:s,type:t,key:o,ref:a,props:r,_owner:T.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===s}var C=/\/+/g,O=[];function B(t,e,i,n){if(O.length){var r=O.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function L(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>O.length&&O.push(t)}function A(t,e,i){return null==t?0:function t(e,i,n,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case s:case o:l=!0}}if(l)return n(r,e,""===i?"."+D(e,0):i),1;if(l=0,i=""===i?".":i+":",Array.isArray(e))for(var u=0;u<e.length;u++){var h=i+D(a=e[u],u);l+=t(a,h,n,r)}else if(null===e||"object"!==typeof e?h=null:h="function"===typeof(h=b&&e[b]||e["@@iterator"])?h:null,"function"===typeof h)for(e=h.call(e),u=0;!(a=e.next()).done;)l+=t(a=a.value,h=i+D(a,u++),n,r);else if("object"===a)throw n=""+e,Error(m(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return l}(t,"",e,i)}function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function N(t,e){t.func.call(t.context,e,t.count++)}function z(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,n,i,(function(t){return t})):null!=t&&(k(t)&&(t=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(C,"$&/")+"/")+i)),n.push(t))}function F(t,e,i,n,r){var s="";null!=i&&(s=(""+i).replace(C,"$&/")+"/"),A(t,z,e=B(e,s,n,r)),L(e)}var P={current:null};function R(){var t=P.current;if(null===t)throw Error(m(321));return t}var V={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:function(t,e,i){if(null==t)return t;var n=[];return F(t,n,null,e,i),n},forEach:function(t,e,i){if(null==t)return t;A(t,N,e=B(null,null,e,i)),L(e)},count:function(t){return A(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!k(t))throw Error(m(143));return t}},e.Component=w,e.Fragment=a,e.Profiler=u,e.PureComponent=S,e.StrictMode=l,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error(m(267,t));var r=n({},t.props),o=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=T.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)E.call(e,h)&&!I.hasOwnProperty(h)&&(r[h]=void 0===e[h]&&void 0!==u?u[h]:e[h])}var h=arguments.length-2;if(1===h)r.children=i;else if(1<h){u=Array(h);for(var c=0;c<h;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:s,type:t.type,key:o,ref:a,props:r,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:c,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:h,_context:t},t.Consumer=t},e.createElement=M,e.createFactory=function(t){var e=M.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:y,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return R().useCallback(t,e)},e.useContext=function(t,e){return R().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return R().useEffect(t,e)},e.useImperativeHandle=function(t,e,i){return R().useImperativeHandle(t,e,i)},e.useLayoutEffect=function(t,e){return R().useLayoutEffect(t,e)},e.useMemo=function(t,e){return R().useMemo(t,e)},e.useReducer=function(t,e,i){return R().useReducer(t,e,i)},e.useRef=function(t){return R().useRef(t)},e.useState=function(t){return R().useState(t)},e.version="16.14.0"},function(t,e,i){"use strict";var n=i(1),r=i(3),s=i(13);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));function a(t,e,i,n,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(h){this.onError(h)}}var l=!1,u=null,h=!1,c=null,d={onError:function(t){l=!0,u=t}};function f(t,e,i,n,r,s,o,h,c){l=!1,u=null,a.apply(d,arguments)}var p=null,y=null,b=null;function m(t,e,i){var n=t.type||"unknown-event";t.currentTarget=b(i),function(t,e,i,n,r,s,a,d,p){if(f.apply(this,arguments),l){if(!l)throw Error(o(198));var y=u;l=!1,u=null,h||(h=!0,c=y)}}(n,e,void 0,t),t.currentTarget=null}var v=null,g={};function w(){if(v)for(var t in g){var e=g[t],i=v.indexOf(t);if(!(-1<i))throw Error(o(96,t));if(!S[i]){if(!e.extractEvents)throw Error(o(97,t));for(var n in S[i]=e,i=e.eventTypes){var r=void 0,s=i[n],a=e,l=n;if(x.hasOwnProperty(l))throw Error(o(99,l));x[l]=s;var u=s.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&_(u[r],a,l);r=!0}else s.registrationName?(_(s.registrationName,a,l),r=!0):r=!1;if(!r)throw Error(o(98,n,t))}}}}function _(t,e,i){if(T[t])throw Error(o(100,t));T[t]=e,E[t]=e.eventTypes[i].dependencies}var S=[],x={},T={},E={};function I(t){var e,i=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(!g.hasOwnProperty(e)||g[e]!==n){if(g[e])throw Error(o(102,e));g[e]=n,i=!0}}i&&w()}var M=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),k=null,C=null,O=null;function B(t){if(t=y(t)){if("function"!==typeof k)throw Error(o(280));var e=t.stateNode;e&&(e=p(e),k(t.stateNode,t.type,e))}}function L(t){C?O?O.push(t):O=[t]:C=t}function A(){if(C){var t=C,e=O;if(O=C=null,B(t),e)for(t=0;t<e.length;t++)B(e[t])}}function D(t,e){return t(e)}function N(t,e,i,n,r){return t(e,i,n,r)}function z(){}var F=D,P=!1,R=!1;function V(){null===C&&null===O||(z(),A())}function U(t,e,i){if(R)return t(e,i);R=!0;try{return F(t,e,i)}finally{R=!1,V()}}var j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,$={},H={};function K(t,e,i,n,r,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){Y[t]=new K(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];Y[e]=new K(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){Y[t]=new K(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){Y[t]=new K(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){Y[t]=new K(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){Y[t]=new K(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){Y[t]=new K(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){Y[t]=new K(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){Y[t]=new K(t,5,!1,t.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function q(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(X,q);Y[e]=new K(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(X,q);Y[e]=new K(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(X,q);Y[e]=new K(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){Y[t]=new K(t,1,!1,t.toLowerCase(),null,!1)})),Y.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){Y[t]=new K(t,1,!1,t.toLowerCase(),null,!0)}));var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function G(t,e,i,n){var r=Y.hasOwnProperty(e)?Y[e]:null;(null!==r?0===r.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,n)&&(i=null),n||null===r?function(t){return!!W.call(H,t)||!W.call($,t)&&(j.test(t)?H[t]=!0:($[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,n=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,tt=Z?Symbol.for("react.element"):60103,et=Z?Symbol.for("react.portal"):60106,it=Z?Symbol.for("react.fragment"):60107,nt=Z?Symbol.for("react.strict_mode"):60108,rt=Z?Symbol.for("react.profiler"):60114,st=Z?Symbol.for("react.provider"):60109,ot=Z?Symbol.for("react.context"):60110,at=Z?Symbol.for("react.concurrent_mode"):60111,lt=Z?Symbol.for("react.forward_ref"):60112,ut=Z?Symbol.for("react.suspense"):60113,ht=Z?Symbol.for("react.suspense_list"):60120,ct=Z?Symbol.for("react.memo"):60115,dt=Z?Symbol.for("react.lazy"):60116,ft=Z?Symbol.for("react.block"):60121,pt="function"===typeof Symbol&&Symbol.iterator;function yt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=pt&&t[pt]||t["@@iterator"])?t:null}function bt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case it:return"Fragment";case et:return"Portal";case rt:return"Profiler";case nt:return"StrictMode";case ut:return"Suspense";case ht:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case ot:return"Context.Consumer";case st:return"Context.Provider";case lt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ct:return bt(t.type);case ft:return bt(t.render);case dt:if(t=1===t._status?t._result:null)return bt(t)}return null}function mt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break t;default:var n=t._debugOwner,r=t._debugSource,s=bt(t.type);i=null,n&&(i=bt(n.type)),n=s,s="",r?s=" (at "+r.fileName.replace(J,"")+":"+r.lineNumber+")":i&&(s=" (created by "+i+")"),i="\n    in "+(n||"Unknown")+s}e+=i,t=t.return}while(t);return e}function vt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function gt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=gt(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){n=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function _t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=gt(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function St(t,e){var i=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function xt(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=vt(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Tt(t,e){null!=(e=e.checked)&&G(t,"checked",e,!1)}function Et(t,e){Tt(t,e);var i=vt(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?Mt(t,e.type,i):e.hasOwnProperty("defaultValue")&&Mt(t,e.type,vt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function It(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function Mt(t,e,i){"number"===e&&t.ownerDocument.activeElement===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function kt(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Ct(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+vt(i),e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(n&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Ot(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(o(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(o(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:vt(i)}}function Lt(t,e){var i=vt(e.value),n=vt(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function At(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Dt="http://www.w3.org/1999/xhtml",Nt="http://www.w3.org/2000/svg";function zt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?zt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Pt,Rt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction((function(){return t(e,i)}))}:t}((function(t,e){if(t.namespaceURI!==Nt||"innerHTML"in t)t.innerHTML=e;else{for((Pt=Pt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Vt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}function Ut(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var jt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},Wt={},$t={};function Ht(t){if(Wt[t])return Wt[t];if(!jt[t])return t;var e,i=jt[t];for(e in i)if(i.hasOwnProperty(e)&&e in $t)return Wt[t]=i[e];return t}M&&($t=document.createElement("div").style,"AnimationEvent"in window||(delete jt.animationend.animation,delete jt.animationiteration.animation,delete jt.animationstart.animation),"TransitionEvent"in window||delete jt.transitionend.transition);var Kt=Ht("animationend"),Yt=Ht("animationiteration"),Xt=Ht("animationstart"),qt=Ht("transitionend"),Qt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gt=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=Gt.get(t);return void 0===e&&(e=new Map,Gt.set(t,e)),e}function Zt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(o(188))}function ie(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(o(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(n=r.return)){i=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===i)return ee(r),t;if(s===n)return ee(r),e;s=s.sibling}throw Error(o(188))}if(i.return!==n.return)i=r,n=s;else{for(var a=!1,l=r.child;l;){if(l===i){a=!0,i=r,n=s;break}if(l===n){a=!0,n=r,i=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===i){a=!0,i=s,n=r;break}if(l===n){a=!0,n=s,i=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(i.alternate!==n)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ne(t,e){if(null==e)throw Error(o(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function re(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var se=null;function oe(t){if(t){var e=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)m(t,e[n],i[n]);else e&&m(t,e,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ae(t){if(null!==t&&(se=ne(se,t)),t=se,se=null,t){if(re(t,oe),se)throw Error(o(95));if(h)throw t=c,h=!1,c=null,t}}function le(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ue(t){if(!M)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var he=[];function ce(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>he.length&&he.push(t)}function de(t,e,i,n){if(he.length){var r=he.pop();return r.topLevelType=t,r.eventSystemFlags=n,r.nativeEvent=e,r.targetInst=i,r}return{topLevelType:t,eventSystemFlags:n,nativeEvent:e,targetInst:i,ancestors:[]}}function fe(t){var e=t.targetInst,i=e;do{if(!i){t.ancestors.push(i);break}var n=i;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(e=i.tag)&&6!==e||t.ancestors.push(i),i=Ii(n)}while(i);for(i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var r=le(t.nativeEvent);n=t.topLevelType;var s=t.nativeEvent,o=t.eventSystemFlags;0===i&&(o|=64);for(var a=null,l=0;l<S.length;l++){var u=S[l];u&&(u=u.extractEvents(n,e,s,r,o))&&(a=ne(a,u))}ae(a)}}function pe(t,e,i){if(!i.has(t)){switch(t){case"scroll":Xe(e,"scroll",!0);break;case"focus":case"blur":Xe(e,"focus",!0),Xe(e,"blur",!0),i.set("blur",null),i.set("focus",null);break;case"cancel":case"close":ue(t)&&Xe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qt.indexOf(t)&&Ye(t,e)}i.set(t,null)}}var ye,be,me,ve=!1,ge=[],we=null,_e=null,Se=null,xe=new Map,Te=new Map,Ee=[],Ie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Me="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ke(t,e,i,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|i,nativeEvent:r,container:n}}function Ce(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":_e=null;break;case"mouseover":case"mouseout":Se=null;break;case"pointerover":case"pointerout":xe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(e.pointerId)}}function Oe(t,e,i,n,r,s){return null===t||t.nativeEvent!==s?(t=ke(e,i,n,r,s),null!==e&&(null!==(e=Mi(e))&&be(e)),t):(t.eventSystemFlags|=n,t)}function Be(t){var e=Ii(t.target);if(null!==e){var i=Zt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=te(i)))return t.blockedOn=e,void s.unstable_runWithPriority(t.priority,(function(){me(i)}))}else if(3===e&&i.stateNode.hydrate)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function Le(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var i=Mi(e);return null!==i&&be(i),t.blockedOn=e,!1}return!0}function Ae(t,e,i){Le(t)&&i.delete(e)}function De(){for(ve=!1;0<ge.length;){var t=ge[0];if(null!==t.blockedOn){null!==(t=Mi(t.blockedOn))&&ye(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:ge.shift()}null!==we&&Le(we)&&(we=null),null!==_e&&Le(_e)&&(_e=null),null!==Se&&Le(Se)&&(Se=null),xe.forEach(Ae),Te.forEach(Ae)}function Ne(t,e){t.blockedOn===e&&(t.blockedOn=null,ve||(ve=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,De)))}function ze(t){function e(e){return Ne(e,t)}if(0<ge.length){Ne(ge[0],t);for(var i=1;i<ge.length;i++){var n=ge[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==we&&Ne(we,t),null!==_e&&Ne(_e,t),null!==Se&&Ne(Se,t),xe.forEach(e),Te.forEach(e),i=0;i<Ee.length;i++)(n=Ee[i]).blockedOn===t&&(n.blockedOn=null);for(;0<Ee.length&&null===(i=Ee[0]).blockedOn;)Be(i),null===i.blockedOn&&Ee.shift()}var Fe={},Pe=new Map,Re=new Map,Ve=["abort","abort",Kt,"animationEnd",Yt,"animationIteration",Xt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qt,"transitionEnd","waiting","waiting"];function Ue(t,e){for(var i=0;i<t.length;i+=2){var n=t[i],r=t[i+1],s="on"+(r[0].toUpperCase()+r.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[n],eventPriority:e},Re.set(n,e),Pe.set(n,s),Fe[r]=s}}Ue("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ue("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ue(Ve,2);for(var je="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<je.length;We++)Re.set(je[We],0);var $e=s.unstable_UserBlockingPriority,He=s.unstable_runWithPriority,Ke=!0;function Ye(t,e){Xe(e,t,!1)}function Xe(t,e,i){var n=Re.get(e);switch(void 0===n?2:n){case 0:n=qe.bind(null,e,1,t);break;case 1:n=Qe.bind(null,e,1,t);break;default:n=Ge.bind(null,e,1,t)}i?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function qe(t,e,i,n){P||z();var r=Ge,s=P;P=!0;try{N(r,t,e,i,n)}finally{(P=s)||V()}}function Qe(t,e,i,n){He($e,Ge.bind(null,t,e,i,n))}function Ge(t,e,i,n){if(Ke)if(0<ge.length&&-1<Ie.indexOf(t))t=ke(null,t,e,i,n),ge.push(t);else{var r=Je(t,e,i,n);if(null===r)Ce(t,n);else if(-1<Ie.indexOf(t))t=ke(r,t,e,i,n),ge.push(t);else if(!function(t,e,i,n,r){switch(e){case"focus":return we=Oe(we,t,e,i,n,r),!0;case"dragenter":return _e=Oe(_e,t,e,i,n,r),!0;case"mouseover":return Se=Oe(Se,t,e,i,n,r),!0;case"pointerover":var s=r.pointerId;return xe.set(s,Oe(xe.get(s)||null,t,e,i,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Te.set(s,Oe(Te.get(s)||null,t,e,i,n,r)),!0}return!1}(r,t,e,i,n)){Ce(t,n),t=de(t,n,null,e);try{U(fe,t)}finally{ce(t)}}}}function Je(t,e,i,n){if(null!==(i=Ii(i=le(n)))){var r=Zt(i);if(null===r)i=null;else{var s=r.tag;if(13===s){if(null!==(i=te(r)))return i;i=null}else if(3===s){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}t=de(t,n,i,e);try{U(fe,t)}finally{ce(t)}return null}var Ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];function ei(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||Ze.hasOwnProperty(t)&&Ze[t]?(""+e).trim():e+"px"}function ii(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=ei(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}Object.keys(Ze).forEach((function(t){ti.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ze[e]=Ze[t]}))}));var ni=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ri(t,e){if(e){if(ni[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62,""))}}function si(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=Dt;function ai(t,e){var i=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=E[e];for(var n=0;n<e.length;n++)pe(e[n],t,i)}function li(){}function ui(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hi(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ci(t,e){var i,n=hi(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=hi(n)}}function di(){for(var t=window,e=ui();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(n){i=!1}if(!i)break;e=ui((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var pi=null,yi=null;function bi(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function mi(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var vi="function"===typeof setTimeout?setTimeout:void 0,gi="function"===typeof clearTimeout?clearTimeout:void 0;function wi(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function _i(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var Si=Math.random().toString(36).slice(2),xi="__reactInternalInstance$"+Si,Ti="__reactEventHandlers$"+Si,Ei="__reactContainere$"+Si;function Ii(t){var e=t[xi];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ei]||i[xi]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=_i(t);null!==t;){if(i=t[xi])return i;t=_i(t)}return e}i=(t=i).parentNode}return null}function Mi(t){return!(t=t[xi]||t[Ei])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ki(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function Ci(t){return t[Ti]||null}function Oi(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Bi(t,e){var i=t.stateNode;if(!i)return null;var n=p(i);if(!n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(o(231,e,typeof i));return i}function Li(t,e,i){(e=Bi(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=ne(i._dispatchListeners,e),i._dispatchInstances=ne(i._dispatchInstances,t))}function Ai(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,i=[];e;)i.push(e),e=Oi(e);for(e=i.length;0<e--;)Li(i[e],"captured",t);for(e=0;e<i.length;e++)Li(i[e],"bubbled",t)}}function Di(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=Bi(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=ne(i._dispatchListeners,e),i._dispatchInstances=ne(i._dispatchInstances,t))}function Ni(t){t&&t.dispatchConfig.registrationName&&Di(t._targetInst,null,t)}function zi(t){re(t,Ai)}var Fi=null,Pi=null,Ri=null;function Vi(){if(Ri)return Ri;var t,e,i=Pi,n=i.length,r="value"in Fi?Fi.value:Fi.textContent,s=r.length;for(t=0;t<n&&i[t]===r[t];t++);var o=n-t;for(e=1;e<=o&&i[n-e]===r[s-e];e++);return Ri=r.slice(t,1<e?1-e:void 0)}function Ui(){return!0}function ji(){return!1}function Wi(t,e,i,n){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(i):"target"===r?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ui:ji,this.isPropagationStopped=ji,this}function $i(t,e,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,i,n),r}return new this(t,e,i,n)}function Hi(t){if(!(t instanceof this))throw Error(o(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Ki(t){t.eventPool=[],t.getPooled=$i,t.release=Hi}r(Wi.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){this.isPersistent=Ui},isPersistent:ji,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ji,this._dispatchInstances=this._dispatchListeners=null}}),Wi.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wi.extend=function(t){function e(){}function i(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var s=new e;return r(s,i.prototype),i.prototype=s,i.prototype.constructor=i,i.Interface=r({},n.Interface,t),i.extend=n.extend,Ki(i),i},Ki(Wi);var Yi=Wi.extend({data:null}),Xi=Wi.extend({data:null}),qi=[9,13,27,32],Qi=M&&"CompositionEvent"in window,Gi=null;M&&"documentMode"in document&&(Gi=document.documentMode);var Ji=M&&"TextEvent"in window&&!Gi,Zi=M&&(!Qi||Gi&&8<Gi&&11>=Gi),tn=String.fromCharCode(32),en={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},nn=!1;function rn(t,e){switch(t){case"keyup":return-1!==qi.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function sn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var on=!1;var an={eventTypes:en,extractEvents:function(t,e,i,n){var r;if(Qi)t:{switch(t){case"compositionstart":var s=en.compositionStart;break t;case"compositionend":s=en.compositionEnd;break t;case"compositionupdate":s=en.compositionUpdate;break t}s=void 0}else on?rn(t,i)&&(s=en.compositionEnd):"keydown"===t&&229===i.keyCode&&(s=en.compositionStart);return s?(Zi&&"ko"!==i.locale&&(on||s!==en.compositionStart?s===en.compositionEnd&&on&&(r=Vi()):(Pi="value"in(Fi=n)?Fi.value:Fi.textContent,on=!0)),s=Yi.getPooled(s,e,i,n),r?s.data=r:null!==(r=sn(i))&&(s.data=r),zi(s),r=s):r=null,(t=Ji?function(t,e){switch(t){case"compositionend":return sn(e);case"keypress":return 32!==e.which?null:(nn=!0,tn);case"textInput":return(t=e.data)===tn&&nn?null:t;default:return null}}(t,i):function(t,e){if(on)return"compositionend"===t||!Qi&&rn(t,e)?(t=Vi(),Ri=Pi=Fi=null,on=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zi&&"ko"!==e.locale?null:e.data;default:return null}}(t,i))?((e=Xi.getPooled(en.beforeInput,e,i,n)).data=t,zi(e)):e=null,null===r?e:null===e?r:[r,e]}},ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!ln[t.type]:"textarea"===e}var hn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function cn(t,e,i){return(t=Wi.getPooled(hn.change,t,e,i)).type="change",L(i),zi(t),t}var dn=null,fn=null;function pn(t){ae(t)}function yn(t){if(_t(ki(t)))return t}function bn(t,e){if("change"===t)return e}var mn=!1;function vn(){dn&&(dn.detachEvent("onpropertychange",gn),fn=dn=null)}function gn(t){if("value"===t.propertyName&&yn(fn))if(t=cn(fn,t,le(t)),P)ae(t);else{P=!0;try{D(pn,t)}finally{P=!1,V()}}}function wn(t,e,i){"focus"===t?(vn(),fn=i,(dn=e).attachEvent("onpropertychange",gn)):"blur"===t&&vn()}function _n(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return yn(fn)}function Sn(t,e){if("click"===t)return yn(e)}function xn(t,e){if("input"===t||"change"===t)return yn(e)}M&&(mn=ue("input")&&(!document.documentMode||9<document.documentMode));var Tn={eventTypes:hn,_isInputEventSupported:mn,extractEvents:function(t,e,i,n){var r=e?ki(e):window,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type)var o=bn;else if(un(r))if(mn)o=xn;else{o=_n;var a=wn}else(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Sn);if(o&&(o=o(t,e)))return cn(o,i,n);a&&a(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&Mt(r,"number",r.value)}},En=Wi.extend({view:null,detail:null}),In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=In[t])&&!!e[t]}function kn(){return Mn}var Cn=0,On=0,Bn=!1,Ln=!1,An=En.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:kn,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Cn;return Cn=t.screenX,Bn?"mousemove"===t.type?t.screenX-e:0:(Bn=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=On;return On=t.screenY,Ln?"mousemove"===t.type?t.screenY-e:0:(Ln=!0,0)}}),Dn=An.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Nn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},zn={eventTypes:Nn,extractEvents:function(t,e,i,n,r){var s="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(s&&0===(32&r)&&(i.relatedTarget||i.fromElement)||!o&&!s)return null;(s=n.window===n?n:(s=n.ownerDocument)?s.defaultView||s.parentWindow:window,o)?(o=e,null!==(e=(e=i.relatedTarget||i.toElement)?Ii(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):o=null;if(o===e)return null;if("mouseout"===t||"mouseover"===t)var a=An,l=Nn.mouseLeave,u=Nn.mouseEnter,h="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=Dn,l=Nn.pointerLeave,u=Nn.pointerEnter,h="pointer");if(t=null==o?s:ki(o),s=null==e?s:ki(e),(l=a.getPooled(l,o,i,n)).type=h+"leave",l.target=t,l.relatedTarget=s,(i=a.getPooled(u,e,i,n)).type=h+"enter",i.target=s,i.relatedTarget=t,h=e,(n=o)&&h)t:{for(u=h,o=0,t=a=n;t;t=Oi(t))o++;for(t=0,e=u;e;e=Oi(e))t++;for(;0<o-t;)a=Oi(a),o--;for(;0<t-o;)u=Oi(u),t--;for(;o--;){if(a===u||a===u.alternate)break t;a=Oi(a),u=Oi(u)}a=null}else a=null;for(u=a,a=[];n&&n!==u&&(null===(o=n.alternate)||o!==u);)a.push(n),n=Oi(n);for(n=[];h&&h!==u&&(null===(o=h.alternate)||o!==u);)n.push(h),h=Oi(h);for(h=0;h<a.length;h++)Di(a[h],"bubbled",l);for(h=n.length;0<h--;)Di(n[h],"captured",i);return 0===(64&r)?[l]:[l,i]}};var Fn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Pn=Object.prototype.hasOwnProperty;function Rn(t,e){if(Fn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!Pn.call(e,i[n])||!Fn(t[i[n]],e[i[n]]))return!1;return!0}var Vn=M&&"documentMode"in document&&11>=document.documentMode,Un={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},jn=null,Wn=null,$n=null,Hn=!1;function Kn(t,e){var i=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Hn||null==jn||jn!==ui(i)?null:("selectionStart"in(i=jn)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},$n&&Rn($n,i)?null:($n=i,(t=Wi.getPooled(Un.select,Wn,t,e)).type="select",t.target=jn,zi(t),t))}var Yn={eventTypes:Un,extractEvents:function(t,e,i,n,r,s){if(!(s=!(r=s||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){t:{r=Jt(r),s=E.onSelect;for(var o=0;o<s.length;o++)if(!r.has(s[o])){r=!1;break t}r=!0}s=!r}if(s)return null;switch(r=e?ki(e):window,t){case"focus":(un(r)||"true"===r.contentEditable)&&(jn=r,Wn=e,$n=null);break;case"blur":$n=Wn=jn=null;break;case"mousedown":Hn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hn=!1,Kn(i,n);case"selectionchange":if(Vn)break;case"keydown":case"keyup":return Kn(i,n)}return null}},Xn=Wi.extend({animationName:null,elapsedTime:null,pseudoElement:null}),qn=Wi.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qn=En.extend({relatedTarget:null});function Gn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tr=En.extend({key:function(t){if(t.key){var e=Jn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Gn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Zn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:kn,charCode:function(t){return"keypress"===t.type?Gn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Gn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),er=An.extend({dataTransfer:null}),ir=En.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:kn}),nr=Wi.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=An.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),sr={eventTypes:Fe,extractEvents:function(t,e,i,n){var r=Pe.get(t);if(!r)return null;switch(t){case"keypress":if(0===Gn(i))return null;case"keydown":case"keyup":t=tr;break;case"blur":case"focus":t=Qn;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=er;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ir;break;case Kt:case Yt:case Xt:t=Xn;break;case qt:t=nr;break;case"scroll":t=En;break;case"wheel":t=rr;break;case"copy":case"cut":case"paste":t=qn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Dn;break;default:t=Wi}return zi(e=t.getPooled(r,e,i,n)),e}};if(v)throw Error(o(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Ci,y=Mi,b=ki,I({SimpleEventPlugin:sr,EnterLeaveEventPlugin:zn,ChangeEventPlugin:Tn,SelectEventPlugin:Yn,BeforeInputEventPlugin:an});var or=[],ar=-1;function lr(t){0>ar||(t.current=or[ar],or[ar]=null,ar--)}function ur(t,e){ar++,or[ar]=t.current,t.current=e}var hr={},cr={current:hr},dr={current:!1},fr=hr;function pr(t,e){var i=t.type.contextTypes;if(!i)return hr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in i)s[r]=e[r];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function br(){lr(dr),lr(cr)}function mr(t,e,i){if(cr.current!==hr)throw Error(o(168));ur(cr,e),ur(dr,i)}function vr(t,e,i){var n=t.stateNode;if(t=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var s in n=n.getChildContext())if(!(s in t))throw Error(o(108,bt(e)||"Unknown",s));return r({},i,{},n)}function gr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hr,fr=cr.current,ur(cr,t),ur(dr,dr.current),!0}function wr(t,e,i){var n=t.stateNode;if(!n)throw Error(o(169));i?(t=vr(t,e,fr),n.__reactInternalMemoizedMergedChildContext=t,lr(dr),lr(cr),ur(cr,t)):lr(dr),ur(dr,i)}var _r=s.unstable_runWithPriority,Sr=s.unstable_scheduleCallback,xr=s.unstable_cancelCallback,Tr=s.unstable_requestPaint,Er=s.unstable_now,Ir=s.unstable_getCurrentPriorityLevel,Mr=s.unstable_ImmediatePriority,kr=s.unstable_UserBlockingPriority,Cr=s.unstable_NormalPriority,Or=s.unstable_LowPriority,Br=s.unstable_IdlePriority,Lr={},Ar=s.unstable_shouldYield,Dr=void 0!==Tr?Tr:function(){},Nr=null,zr=null,Fr=!1,Pr=Er(),Rr=1e4>Pr?Er:function(){return Er()-Pr};function Vr(){switch(Ir()){case Mr:return 99;case kr:return 98;case Cr:return 97;case Or:return 96;case Br:return 95;default:throw Error(o(332))}}function Ur(t){switch(t){case 99:return Mr;case 98:return kr;case 97:return Cr;case 96:return Or;case 95:return Br;default:throw Error(o(332))}}function jr(t,e){return t=Ur(t),_r(t,e)}function Wr(t,e,i){return t=Ur(t),Sr(t,e,i)}function $r(t){return null===Nr?(Nr=[t],zr=Sr(Mr,Kr)):Nr.push(t),Lr}function Hr(){if(null!==zr){var t=zr;zr=null,xr(t)}Kr()}function Kr(){if(!Fr&&null!==Nr){Fr=!0;var t=0;try{var e=Nr;jr(99,(function(){for(;t<e.length;t++){var i=e[t];do{i=i(!0)}while(null!==i)}})),Nr=null}catch(i){throw null!==Nr&&(Nr=Nr.slice(t+1)),Sr(Mr,Hr),i}finally{Fr=!1}}}function Yr(t,e,i){return 1073741821-(1+((1073741821-t+e/10)/(i/=10)|0))*i}function Xr(t,e){if(t&&t.defaultProps)for(var i in e=r({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}var qr={current:null},Qr=null,Gr=null,Jr=null;function Zr(){Jr=Gr=Qr=null}function ts(t){var e=qr.current;lr(qr),t.type._context._currentValue=e}function es(t,e){for(;null!==t;){var i=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e);else{if(!(null!==i&&i.childExpirationTime<e))break;i.childExpirationTime=e}t=t.return}}function is(t,e){Qr=t,Jr=Gr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Oo=!0),t.firstContext=null)}function ns(t,e){if(Jr!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Jr=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Gr){if(null===Qr)throw Error(o(308));Gr=e,Qr.dependencies={expirationTime:0,firstContext:e,responders:null}}else Gr=Gr.next=e;return t._currentValue}var rs=!1;function ss(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function os(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function as(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function ls(t,e){if(null!==(t=t.updateQueue)){var i=(t=t.shared).pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function us(t,e){var i=t.alternate;null!==i&&os(i,t),null===(i=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=i.next,i.next=e)}function hs(t,e,i,n){var s=t.updateQueue;rs=!1;var o=s.baseQueue,a=s.shared.pending;if(null!==a){if(null!==o){var l=o.next;o.next=a.next,a.next=l}o=a,s.shared.pending=null,null!==(l=t.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=a))}if(null!==o){l=o.next;var u=s.baseState,h=0,c=null,d=null,f=null;if(null!==l)for(var p=l;;){if((a=p.expirationTime)<n){var y={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=y,c=u):f=f.next=y,a>h&&(h=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),sl(a,p.suspenseConfig);t:{var b=t,m=p;switch(a=e,y=i,m.tag){case 1:if("function"===typeof(b=m.payload)){u=b.call(y,u,a);break t}u=b;break t;case 3:b.effectTag=-4097&b.effectTag|64;case 0:if(null===(a="function"===typeof(b=m.payload)?b.call(y,u,a):b)||void 0===a)break t;u=r({},u,a);break t;case 2:rs=!0}}null!==p.callback&&(t.effectTag|=32,null===(a=s.effects)?s.effects=[p]:a.push(p))}if(null===(p=p.next)||p===l){if(null===(a=s.shared.pending))break;p=o.next=a.next,a.next=l,s.baseQueue=o=a,s.shared.pending=null}}null===f?c=u:f.next=d,s.baseState=c,s.baseQueue=f,ol(h),t.expirationTime=h,t.memoizedState=u}}function cs(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(null!==r){if(n.callback=null,n=r,r=i,"function"!==typeof n)throw Error(o(191,n));n.call(r)}}}var ds=Q.ReactCurrentBatchConfig,fs=(new n.Component).refs;function ps(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:r({},e,i),t.memoizedState=i,0===t.expirationTime&&(t.updateQueue.baseState=i)}var ys={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternalFiber;var n=Ka(),r=ds.suspense;(r=as(n=Ya(n,t,r),r)).payload=e,void 0!==i&&null!==i&&(r.callback=i),ls(t,r),Xa(t,n)},enqueueReplaceState:function(t,e,i){t=t._reactInternalFiber;var n=Ka(),r=ds.suspense;(r=as(n=Ya(n,t,r),r)).tag=1,r.payload=e,void 0!==i&&null!==i&&(r.callback=i),ls(t,r),Xa(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var i=Ka(),n=ds.suspense;(n=as(i=Ya(i,t,n),n)).tag=2,void 0!==e&&null!==e&&(n.callback=e),ls(t,n),Xa(t,i)}};function bs(t,e,i,n,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!Rn(i,n)||!Rn(r,s))}function ms(t,e,i){var n=!1,r=hr,s=e.contextType;return"object"===typeof s&&null!==s?s=ns(s):(r=yr(e)?fr:cr.current,s=(n=null!==(n=e.contextTypes)&&void 0!==n)?pr(t,r):hr),e=new e(i,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ys,t.stateNode=e,e._reactInternalFiber=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function vs(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&ys.enqueueReplaceState(e,e.state,null)}function gs(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=fs,ss(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=ns(s):(s=yr(e)?fr:cr.current,r.context=pr(t,s)),hs(t,i,r,n),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(ps(t,e,s,i),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ys.enqueueReplaceState(r,r.state,null),hs(t,i,r,n),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var ws=Array.isArray;function _s(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var n=i.stateNode}if(!n)throw Error(o(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:((e=function(t){var e=n.refs;e===fs&&(e=n.refs={}),null===t?delete e[r]:e[r]=t})._stringRef=r,e)}if("string"!==typeof t)throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function Ss(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function xs(t){function e(e,i){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Il(t,e)).index=0,t.sibling=null,t}function s(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.effectTag=2,i):n:(e.effectTag=2,i):i}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,i,n){return null===e||6!==e.tag?((e=Cl(i,t.mode,n)).return=t,e):((e=r(e,i)).return=t,e)}function u(t,e,i,n){return null!==e&&e.elementType===i.type?((n=r(e,i.props)).ref=_s(t,e,i),n.return=t,n):((n=Ml(i.type,i.key,i.props,null,t.mode,n)).ref=_s(t,e,i),n.return=t,n)}function h(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Ol(i,t.mode,n)).return=t,e):((e=r(e,i.children||[])).return=t,e)}function c(t,e,i,n,s){return null===e||7!==e.tag?((e=kl(i,t.mode,n,s)).return=t,e):((e=r(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e||"number"===typeof e)return(e=Cl(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(i=Ml(e.type,e.key,e.props,null,t.mode,i)).ref=_s(t,null,e),i.return=t,i;case et:return(e=Ol(e,t.mode,i)).return=t,e}if(ws(e)||yt(e))return(e=kl(e,t.mode,i,null)).return=t,e;Ss(t,e)}return null}function f(t,e,i,n){var r=null!==e?e.key:null;if("string"===typeof i||"number"===typeof i)return null!==r?null:l(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case tt:return i.key===r?i.type===it?c(t,e,i.props.children,n,r):u(t,e,i,n):null;case et:return i.key===r?h(t,e,i,n):null}if(ws(i)||yt(i))return null!==r?null:c(t,e,i,n,null);Ss(t,i)}return null}function p(t,e,i,n,r){if("string"===typeof n||"number"===typeof n)return l(e,t=t.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return t=t.get(null===n.key?i:n.key)||null,n.type===it?c(e,t,n.props.children,r,n.key):u(e,t,n,r);case et:return h(e,t=t.get(null===n.key?i:n.key)||null,n,r)}if(ws(n)||yt(n))return c(e,t=t.get(i)||null,n,r,null);Ss(e,n)}return null}function y(r,o,a,l){for(var u=null,h=null,c=o,y=o=0,b=null;null!==c&&y<a.length;y++){c.index>y?(b=c,c=null):b=c.sibling;var m=f(r,c,a[y],l);if(null===m){null===c&&(c=b);break}t&&c&&null===m.alternate&&e(r,c),o=s(m,o,y),null===h?u=m:h.sibling=m,h=m,c=b}if(y===a.length)return i(r,c),u;if(null===c){for(;y<a.length;y++)null!==(c=d(r,a[y],l))&&(o=s(c,o,y),null===h?u=c:h.sibling=c,h=c);return u}for(c=n(r,c);y<a.length;y++)null!==(b=p(c,r,y,a[y],l))&&(t&&null!==b.alternate&&c.delete(null===b.key?y:b.key),o=s(b,o,y),null===h?u=b:h.sibling=b,h=b);return t&&c.forEach((function(t){return e(r,t)})),u}function b(r,a,l,u){var h=yt(l);if("function"!==typeof h)throw Error(o(150));if(null==(l=h.call(l)))throw Error(o(151));for(var c=h=null,y=a,b=a=0,m=null,v=l.next();null!==y&&!v.done;b++,v=l.next()){y.index>b?(m=y,y=null):m=y.sibling;var g=f(r,y,v.value,u);if(null===g){null===y&&(y=m);break}t&&y&&null===g.alternate&&e(r,y),a=s(g,a,b),null===c?h=g:c.sibling=g,c=g,y=m}if(v.done)return i(r,y),h;if(null===y){for(;!v.done;b++,v=l.next())null!==(v=d(r,v.value,u))&&(a=s(v,a,b),null===c?h=v:c.sibling=v,c=v);return h}for(y=n(r,y);!v.done;b++,v=l.next())null!==(v=p(y,r,b,v.value,u))&&(t&&null!==v.alternate&&y.delete(null===v.key?b:v.key),a=s(v,a,b),null===c?h=v:c.sibling=v,c=v);return t&&y.forEach((function(t){return e(r,t)})),h}return function(t,n,s,l){var u="object"===typeof s&&null!==s&&s.type===it&&null===s.key;u&&(s=s.props.children);var h="object"===typeof s&&null!==s;if(h)switch(s.$$typeof){case tt:t:{for(h=s.key,u=n;null!==u;){if(u.key===h){switch(u.tag){case 7:if(s.type===it){i(t,u.sibling),(n=r(u,s.props.children)).return=t,t=n;break t}break;default:if(u.elementType===s.type){i(t,u.sibling),(n=r(u,s.props)).ref=_s(t,u,s),n.return=t,t=n;break t}}i(t,u);break}e(t,u),u=u.sibling}s.type===it?((n=kl(s.props.children,t.mode,l,s.key)).return=t,t=n):((l=Ml(s.type,s.key,s.props,null,t.mode,l)).ref=_s(t,n,s),l.return=t,t=l)}return a(t);case et:t:{for(u=s.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===s.containerInfo&&n.stateNode.implementation===s.implementation){i(t,n.sibling),(n=r(n,s.children||[])).return=t,t=n;break t}i(t,n);break}e(t,n),n=n.sibling}(n=Ol(s,t.mode,l)).return=t,t=n}return a(t)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==n&&6===n.tag?(i(t,n.sibling),(n=r(n,s)).return=t,t=n):(i(t,n),(n=Cl(s,t.mode,l)).return=t,t=n),a(t);if(ws(s))return y(t,n,s,l);if(yt(s))return b(t,n,s,l);if(h&&Ss(t,s),"undefined"===typeof s&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(o(152,t.displayName||t.name||"Component"))}return i(t,n)}}var Ts=xs(!0),Es=xs(!1),Is={},Ms={current:Is},ks={current:Is},Cs={current:Is};function Os(t){if(t===Is)throw Error(o(174));return t}function Bs(t,e){switch(ur(Cs,e),ur(ks,t),ur(Ms,Is),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}lr(Ms),ur(Ms,e)}function Ls(){lr(Ms),lr(ks),lr(Cs)}function As(t){Os(Cs.current);var e=Os(Ms.current),i=Ft(e,t.type);e!==i&&(ur(ks,t),ur(Ms,i))}function Ds(t){ks.current===t&&(lr(Ms),lr(ks))}var Ns={current:0};function zs(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Fs(t,e){return{responder:t,props:e}}var Ps=Q.ReactCurrentDispatcher,Rs=Q.ReactCurrentBatchConfig,Vs=0,Us=null,js=null,Ws=null,$s=!1;function Hs(){throw Error(o(321))}function Ks(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Fn(t[i],e[i]))return!1;return!0}function Ys(t,e,i,n,r,s){if(Vs=s,Us=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Ps.current=null===t||null===t.memoizedState?mo:vo,t=i(n,r),e.expirationTime===Vs){s=0;do{if(e.expirationTime=0,!(25>s))throw Error(o(301));s+=1,Ws=js=null,e.updateQueue=null,Ps.current=go,t=i(n,r)}while(e.expirationTime===Vs)}if(Ps.current=bo,e=null!==js&&null!==js.next,Vs=0,Ws=js=Us=null,$s=!1,e)throw Error(o(300));return t}function Xs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ws?Us.memoizedState=Ws=t:Ws=Ws.next=t,Ws}function qs(){if(null===js){var t=Us.alternate;t=null!==t?t.memoizedState:null}else t=js.next;var e=null===Ws?Us.memoizedState:Ws.next;if(null!==e)Ws=e,js=t;else{if(null===t)throw Error(o(310));t={memoizedState:(js=t).memoizedState,baseState:js.baseState,baseQueue:js.baseQueue,queue:js.queue,next:null},null===Ws?Us.memoizedState=Ws=t:Ws=Ws.next=t}return Ws}function Qs(t,e){return"function"===typeof e?e(t):e}function Gs(t){var e=qs(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=js,r=n.baseQueue,s=i.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}n.baseQueue=r=s,i.pending=null}if(null!==r){r=r.next,n=n.baseState;var l=a=s=null,u=r;do{var h=u.expirationTime;if(h<Vs){var c={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=c,s=n):l=l.next=c,h>Us.expirationTime&&(Us.expirationTime=h,ol(h))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),sl(h,u.suspenseConfig),n=u.eagerReducer===t?u.eagerState:t(n,u.action);u=u.next}while(null!==u&&u!==r);null===l?s=n:l.next=a,Fn(n,e.memoizedState)||(Oo=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,i.lastRenderedState=n}return[e.memoizedState,i.dispatch]}function Js(t){var e=qs(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,s=e.memoizedState;if(null!==r){i.pending=null;var a=r=r.next;do{s=t(s,a.action),a=a.next}while(a!==r);Fn(s,e.memoizedState)||(Oo=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),i.lastRenderedState=s}return[s,n]}function Zs(t){var e=Xs();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:t}).dispatch=yo.bind(null,Us,t),[e.memoizedState,t]}function to(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=Us.updateQueue)?(e={lastEffect:null},Us.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function eo(){return qs().memoizedState}function io(t,e,i,n){var r=Xs();Us.effectTag|=t,r.memoizedState=to(1|e,i,void 0,void 0===n?null:n)}function no(t,e,i,n){var r=qs();n=void 0===n?null:n;var s=void 0;if(null!==js){var o=js.memoizedState;if(s=o.destroy,null!==n&&Ks(n,o.deps))return void to(e,i,s,n)}Us.effectTag|=t,r.memoizedState=to(1|e,i,s,n)}function ro(t,e){return io(516,4,t,e)}function so(t,e){return no(516,4,t,e)}function oo(t,e){return no(4,2,t,e)}function ao(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function lo(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,no(4,2,ao.bind(null,e,t),i)}function uo(){}function ho(t,e){return Xs().memoizedState=[t,void 0===e?null:e],t}function co(t,e){var i=qs();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Ks(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function fo(t,e){var i=qs();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Ks(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function po(t,e,i){var n=Vr();jr(98>n?98:n,(function(){t(!0)})),jr(97<n?97:n,(function(){var n=Rs.suspense;Rs.suspense=void 0===e?null:e;try{t(!1),i()}finally{Rs.suspense=n}}))}function yo(t,e,i){var n=Ka(),r=ds.suspense;r={expirationTime:n=Ya(n,t,r),suspenseConfig:r,action:i,eagerReducer:null,eagerState:null,next:null};var s=e.pending;if(null===s?r.next=r:(r.next=s.next,s.next=r),e.pending=r,s=t.alternate,t===Us||null!==s&&s===Us)$s=!0,r.expirationTime=Vs,Us.expirationTime=Vs;else{if(0===t.expirationTime&&(null===s||0===s.expirationTime)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,i);if(r.eagerReducer=s,r.eagerState=a,Fn(a,o))return}catch(l){}Xa(t,n)}}var bo={readContext:ns,useCallback:Hs,useContext:Hs,useEffect:Hs,useImperativeHandle:Hs,useLayoutEffect:Hs,useMemo:Hs,useReducer:Hs,useRef:Hs,useState:Hs,useDebugValue:Hs,useResponder:Hs,useDeferredValue:Hs,useTransition:Hs},mo={readContext:ns,useCallback:ho,useContext:ns,useEffect:ro,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,io(4,2,ao.bind(null,e,t),i)},useLayoutEffect:function(t,e){return io(4,2,t,e)},useMemo:function(t,e){var i=Xs();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=Xs();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=yo.bind(null,Us,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},Xs().memoizedState=t},useState:Zs,useDebugValue:uo,useResponder:Fs,useDeferredValue:function(t,e){var i=Zs(t),n=i[0],r=i[1];return ro((function(){var i=Rs.suspense;Rs.suspense=void 0===e?null:e;try{r(t)}finally{Rs.suspense=i}}),[t,e]),n},useTransition:function(t){var e=Zs(!1),i=e[0];return e=e[1],[ho(po.bind(null,e,t),[e,t]),i]}},vo={readContext:ns,useCallback:co,useContext:ns,useEffect:so,useImperativeHandle:lo,useLayoutEffect:oo,useMemo:fo,useReducer:Gs,useRef:eo,useState:function(){return Gs(Qs)},useDebugValue:uo,useResponder:Fs,useDeferredValue:function(t,e){var i=Gs(Qs),n=i[0],r=i[1];return so((function(){var i=Rs.suspense;Rs.suspense=void 0===e?null:e;try{r(t)}finally{Rs.suspense=i}}),[t,e]),n},useTransition:function(t){var e=Gs(Qs),i=e[0];return e=e[1],[co(po.bind(null,e,t),[e,t]),i]}},go={readContext:ns,useCallback:co,useContext:ns,useEffect:so,useImperativeHandle:lo,useLayoutEffect:oo,useMemo:fo,useReducer:Js,useRef:eo,useState:function(){return Js(Qs)},useDebugValue:uo,useResponder:Fs,useDeferredValue:function(t,e){var i=Js(Qs),n=i[0],r=i[1];return so((function(){var i=Rs.suspense;Rs.suspense=void 0===e?null:e;try{r(t)}finally{Rs.suspense=i}}),[t,e]),n},useTransition:function(t){var e=Js(Qs),i=e[0];return e=e[1],[co(po.bind(null,e,t),[e,t]),i]}},wo=null,_o=null,So=!1;function xo(t,e){var i=Tl(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function To(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Eo(t){if(So){var e=_o;if(e){var i=e;if(!To(t,e)){if(!(e=wi(i.nextSibling))||!To(t,e))return t.effectTag=-1025&t.effectTag|2,So=!1,void(wo=t);xo(wo,i)}wo=t,_o=wi(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,So=!1,wo=t}}function Io(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;wo=t}function Mo(t){if(t!==wo)return!1;if(!So)return Io(t),So=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!mi(e,t.memoizedProps))for(e=_o;e;)xo(t,e),e=wi(e.nextSibling);if(Io(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){_o=wi(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}_o=null}}else _o=wo?wi(t.stateNode.nextSibling):null;return!0}function ko(){_o=wo=null,So=!1}var Co=Q.ReactCurrentOwner,Oo=!1;function Bo(t,e,i,n){e.child=null===t?Es(e,null,i,n):Ts(e,t.child,i,n)}function Lo(t,e,i,n,r){i=i.render;var s=e.ref;return is(e,r),n=Ys(t,e,i,n,s,r),null===t||Oo?(e.effectTag|=1,Bo(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Xo(t,e,r))}function Ao(t,e,i,n,r,s){if(null===t){var o=i.type;return"function"!==typeof o||El(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Ml(i.type,null,n,null,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Do(t,e,o,n,r,s))}return o=t.child,r<s&&(r=o.memoizedProps,(i=null!==(i=i.compare)?i:Rn)(r,n)&&t.ref===e.ref)?Xo(t,e,s):(e.effectTag|=1,(t=Il(o,n)).ref=e.ref,t.return=e,e.child=t)}function Do(t,e,i,n,r,s){return null!==t&&Rn(t.memoizedProps,n)&&t.ref===e.ref&&(Oo=!1,r<s)?(e.expirationTime=t.expirationTime,Xo(t,e,s)):zo(t,e,i,n,s)}function No(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.effectTag|=128)}function zo(t,e,i,n,r){var s=yr(i)?fr:cr.current;return s=pr(e,s),is(e,r),i=Ys(t,e,i,n,s,r),null===t||Oo?(e.effectTag|=1,Bo(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Xo(t,e,r))}function Fo(t,e,i,n,r){if(yr(i)){var s=!0;gr(e)}else s=!1;if(is(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),ms(e,i,n),gs(e,i,n,r),n=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=i.contextType;"object"===typeof u&&null!==u?u=ns(u):u=pr(e,u=yr(i)?fr:cr.current);var h=i.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate;c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==n||l!==u)&&vs(e,o,n,u),rs=!1;var d=e.memoizedState;o.state=d,hs(e,n,o,r),l=e.memoizedState,a!==n||d!==l||dr.current||rs?("function"===typeof h&&(ps(e,i,h,n),l=e.memoizedState),(a=rs||bs(e,i,a,n,d,l,u))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.effectTag|=4)):("function"===typeof o.componentDidMount&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):("function"===typeof o.componentDidMount&&(e.effectTag|=4),n=!1)}else o=e.stateNode,os(t,e),a=e.memoizedProps,o.props=e.type===e.elementType?a:Xr(e.type,a),l=o.context,"object"===typeof(u=i.contextType)&&null!==u?u=ns(u):u=pr(e,u=yr(i)?fr:cr.current),(c="function"===typeof(h=i.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==n||l!==u)&&vs(e,o,n,u),rs=!1,l=e.memoizedState,o.state=l,hs(e,n,o,r),d=e.memoizedState,a!==n||l!==d||dr.current||rs?("function"===typeof h&&(ps(e,i,h,n),d=e.memoizedState),(h=rs||bs(e,i,a,n,l,d,u))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,d,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,d,u)),"function"===typeof o.componentDidUpdate&&(e.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=u,n=h):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),n=!1);return Po(t,e,i,n,s,r)}function Po(t,e,i,n,r,s){No(t,e);var o=0!==(64&e.effectTag);if(!n&&!o)return r&&wr(e,i,!1),Xo(t,e,s);n=e.stateNode,Co.current=e;var a=o&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.effectTag|=1,null!==t&&o?(e.child=Ts(e,t.child,null,s),e.child=Ts(e,null,a,s)):Bo(t,e,a,s),e.memoizedState=n.state,r&&wr(e,i,!0),e.child}function Ro(t){var e=t.stateNode;e.pendingContext?mr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&mr(0,e.context,!1),Bs(t,e.containerInfo)}var Vo,Uo,jo,Wo={dehydrated:null,retryTime:0};function $o(t,e,i){var n,r=e.mode,s=e.pendingProps,o=Ns.current,a=!1;if((n=0!==(64&e.effectTag))||(n=0!==(2&o)&&(null===t||null!==t.memoizedState)),n?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(o|=1),ur(Ns,1&o),null===t){if(void 0!==s.fallback&&Eo(e),a){if(a=s.fallback,(s=kl(null,r,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(i=kl(a,r,i,null)).return=e,s.sibling=i,e.memoizedState=Wo,e.child=s,i}return r=s.children,e.memoizedState=null,e.child=Es(e,null,r,i)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,a){if(s=s.fallback,(i=Il(t,t.pendingProps)).return=e,0===(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(i.child=a;null!==a;)a.return=i,a=a.sibling;return(r=Il(r,s)).return=e,i.sibling=r,i.childExpirationTime=0,e.memoizedState=Wo,e.child=i,r}return i=Ts(e,t.child,s.children,i),e.memoizedState=null,e.child=i}if(t=t.child,a){if(a=s.fallback,(s=kl(null,r,0,null)).return=e,s.child=t,null!==t&&(t.return=s),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(i=kl(a,r,i,null)).return=e,s.sibling=i,i.effectTag|=2,s.childExpirationTime=0,e.memoizedState=Wo,e.child=s,i}return e.memoizedState=null,e.child=Ts(e,t,s.children,i)}function Ho(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e),es(t.return,e)}function Ko(t,e,i,n,r,s){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailExpiration:0,tailMode:r,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=i,o.tailExpiration=0,o.tailMode=r,o.lastEffect=s)}function Yo(t,e,i){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Bo(t,e,n.children,i),0!==(2&(n=Ns.current)))n=1&n|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ho(t,i);else if(19===t.tag)Ho(t,i);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ur(Ns,n),0===(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;null!==i;)null!==(t=i.alternate)&&null===zs(t)&&(r=i),i=i.sibling;null===(i=r)?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),Ko(e,!1,r,i,s,e.lastEffect);break;case"backwards":for(i=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===zs(t)){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}Ko(e,!0,i,null,s,e.lastEffect);break;case"together":Ko(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Xo(t,e,i){null!==t&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(0!==n&&ol(n),e.childExpirationTime<i)return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(i=Il(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Il(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function qo(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qo(t,e,i){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return yr(e.type)&&br(),null;case 3:return Ls(),lr(dr),lr(cr),(i=e.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||!Mo(e)||(e.effectTag|=4),null;case 5:Ds(e),i=Os(Cs.current);var s=e.type;if(null!==t&&null!=e.stateNode)Uo(t,e,s,n,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!n){if(null===e.stateNode)throw Error(o(166));return null}if(t=Os(Ms.current),Mo(e)){n=e.stateNode,s=e.type;var a=e.memoizedProps;switch(n[xi]=e,n[Ti]=a,s){case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(t=0;t<Qt.length;t++)Ye(Qt[t],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"form":Ye("reset",n),Ye("submit",n);break;case"details":Ye("toggle",n);break;case"input":xt(n,a),Ye("invalid",n),ai(i,"onChange");break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ye("invalid",n),ai(i,"onChange");break;case"textarea":Bt(n,a),Ye("invalid",n),ai(i,"onChange")}for(var l in ri(s,a),t=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?n.textContent!==u&&(t=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(t=["children",""+u]):T.hasOwnProperty(l)&&null!=u&&ai(i,l)}switch(s){case"input":wt(n),It(n,a,!0);break;case"textarea":wt(n),At(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=li)}i=t,e.updateQueue=i,null!==i&&(e.effectTag|=4)}else{switch(l=9===i.nodeType?i:i.ownerDocument,t===oi&&(t=zt(s)),t===oi?"script"===s?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=l.createElement(s,{is:n.is}):(t=l.createElement(s),"select"===s&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,s),t[xi]=e,t[Ti]=n,Vo(t,e),e.stateNode=t,l=si(s,n),s){case"iframe":case"object":case"embed":Ye("load",t),u=n;break;case"video":case"audio":for(u=0;u<Qt.length;u++)Ye(Qt[u],t);u=n;break;case"source":Ye("error",t),u=n;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),u=n;break;case"form":Ye("reset",t),Ye("submit",t),u=n;break;case"details":Ye("toggle",t),u=n;break;case"input":xt(t,n),u=St(t,n),Ye("invalid",t),ai(i,"onChange");break;case"option":u=kt(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},u=r({},n,{value:void 0}),Ye("invalid",t),ai(i,"onChange");break;case"textarea":Bt(t,n),u=Ot(t,n),Ye("invalid",t),ai(i,"onChange");break;default:u=n}ri(s,u);var h=u;for(a in h)if(h.hasOwnProperty(a)){var c=h[a];"style"===a?ii(t,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&Rt(t,c):"children"===a?"string"===typeof c?("textarea"!==s||""!==c)&&Vt(t,c):"number"===typeof c&&Vt(t,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(T.hasOwnProperty(a)?null!=c&&ai(i,a):null!=c&&G(t,a,c,l))}switch(s){case"input":wt(t),It(t,n,!1);break;case"textarea":wt(t),At(t);break;case"option":null!=n.value&&t.setAttribute("value",""+vt(n.value));break;case"select":t.multiple=!!n.multiple,null!=(i=n.value)?Ct(t,!!n.multiple,i,!1):null!=n.defaultValue&&Ct(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof u.onClick&&(t.onclick=li)}bi(s,n)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)jo(0,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));i=Os(Cs.current),Os(Ms.current),Mo(e)?(i=e.stateNode,n=e.memoizedProps,i[xi]=e,i.nodeValue!==n&&(e.effectTag|=4)):((i=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[xi]=e,e.stateNode=i)}return null;case 13:return lr(Ns),n=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=i,e):(i=null!==n,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Mo(e):(n=null!==(s=t.memoizedState),i||null===s||null!==(s=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=s,s.nextEffect=a):(e.firstEffect=e.lastEffect=s,s.nextEffect=null),s.effectTag=8)),i&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Ns.current)?Ma===wa&&(Ma=_a):(Ma!==wa&&Ma!==_a||(Ma=Sa),0!==La&&null!==Ta&&(Al(Ta,Ia),Dl(Ta,La)))),(i||n)&&(e.effectTag|=4),null);case 4:return Ls(),null;case 10:return ts(e),null;case 17:return yr(e.type)&&br(),null;case 19:if(lr(Ns),null===(n=e.memoizedState))return null;if(s=0!==(64&e.effectTag),null===(a=n.rendering)){if(s)qo(n,!1);else if(Ma!==wa||null!==t&&0!==(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=zs(a))){for(e.effectTag|=64,qo(n,!1),null!==(s=t.updateQueue)&&(e.updateQueue=s,e.effectTag|=4),null===n.lastEffect&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=e.child;null!==n;)a=i,(s=n).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(t=s.alternate)?(s.childExpirationTime=0,s.expirationTime=a,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=t.childExpirationTime,s.expirationTime=t.expirationTime,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),n=n.sibling;return ur(Ns,1&Ns.current|2),e.child}a=a.sibling}}else{if(!s)if(null!==(t=zs(a))){if(e.effectTag|=64,s=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),qo(n,!0),null===n.tail&&"hidden"===n.tailMode&&!a.alternate)return null!==(e=e.lastEffect=n.lastEffect)&&(e.nextEffect=null),null}else 2*Rr()-n.renderingStartTime>n.tailExpiration&&1<i&&(e.effectTag|=64,s=!0,qo(n,!1),e.expirationTime=e.childExpirationTime=i-1);n.isBackwards?(a.sibling=e.child,e.child=a):(null!==(i=n.last)?i.sibling=a:e.child=a,n.last=a)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=Rr()+500),i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Rr(),i.sibling=null,e=Ns.current,ur(Ns,s?1&e|2:1&e),i):null}throw Error(o(156,e.tag))}function Go(t){switch(t.tag){case 1:yr(t.type)&&br();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Ls(),lr(dr),lr(cr),0!==(64&(e=t.effectTag)))throw Error(o(285));return t.effectTag=-4097&e|64,t;case 5:return Ds(t),null;case 13:return lr(Ns),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return lr(Ns),null;case 4:return Ls(),null;case 10:return ts(t),null;default:return null}}function Jo(t,e){return{value:t,source:e,stack:mt(e)}}Vo=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Uo=function(t,e,i,n,s){var o=t.memoizedProps;if(o!==n){var a,l,u=e.stateNode;switch(Os(Ms.current),t=null,i){case"input":o=St(u,o),n=St(u,n),t=[];break;case"option":o=kt(u,o),n=kt(u,n),t=[];break;case"select":o=r({},o,{value:void 0}),n=r({},n,{value:void 0}),t=[];break;case"textarea":o=Ot(u,o),n=Ot(u,n),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(u.onclick=li)}for(a in ri(i,n),i=null,o)if(!n.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(l in u=o[a])u.hasOwnProperty(l)&&(i||(i={}),i[l]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(T.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in n){var h=n[a];if(u=null!=o?o[a]:void 0,n.hasOwnProperty(a)&&h!==u&&(null!=h||null!=u))if("style"===a)if(u){for(l in u)!u.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(i||(i={}),i[l]="");for(l in h)h.hasOwnProperty(l)&&u[l]!==h[l]&&(i||(i={}),i[l]=h[l])}else i||(t||(t=[]),t.push(a,i)),i=h;else"dangerouslySetInnerHTML"===a?(h=h?h.__html:void 0,u=u?u.__html:void 0,null!=h&&u!==h&&(t=t||[]).push(a,h)):"children"===a?u===h||"string"!==typeof h&&"number"!==typeof h||(t=t||[]).push(a,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(T.hasOwnProperty(a)?(null!=h&&ai(s,a),t||u===h||(t=[])):(t=t||[]).push(a,h))}i&&(t=t||[]).push("style",i),s=t,(e.updateQueue=s)&&(e.effectTag|=4)}},jo=function(t,e,i,n){i!==n&&(e.effectTag|=4)};var Zo="function"===typeof WeakSet?WeakSet:Set;function ta(t,e){var i=e.source,n=e.stack;null===n&&null!==i&&(n=mt(i)),null!==i&&bt(i.type),e=e.value,null!==t&&1===t.tag&&bt(t.type);try{console.error(e)}catch(r){setTimeout((function(){throw r}))}}function ea(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(i){vl(t,i)}else e.current=null}function ia(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var i=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?i:Xr(e.type,i),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function na(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.destroy;i.destroy=void 0,void 0!==n&&n()}i=i.next}while(i!==e)}}function ra(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function sa(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:return void ra(3,i);case 1:if(t=i.stateNode,4&i.effectTag)if(null===e)t.componentDidMount();else{var n=i.elementType===i.type?e.memoizedProps:Xr(i.type,e.memoizedProps);t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=i.updateQueue)&&cs(i,e,t));case 3:if(null!==(e=i.updateQueue)){if(t=null,null!==i.child)switch(i.child.tag){case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}cs(i,e,t)}return;case 5:return t=i.stateNode,void(null===e&&4&i.effectTag&&bi(i.type,i.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&ze(i)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function oa(t,e,i){switch("function"===typeof Sl&&Sl(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t.next;jr(97<i?97:i,(function(){var t=n;do{var i=t.destroy;if(void 0!==i){var r=e;try{i()}catch(s){vl(r,s)}}t=t.next}while(t!==n)}))}break;case 1:ea(e),"function"===typeof(i=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){vl(t,i)}}(e,i);break;case 5:ea(e);break;case 4:ha(t,e,i)}}function aa(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&aa(e)}function la(t){return 5===t.tag||3===t.tag||4===t.tag}function ua(t){t:{for(var e=t.return;null!==e;){if(la(e)){var i=e;break t}e=e.return}throw Error(o(160))}switch(e=i.stateNode,i.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(o(161))}16&i.effectTag&&(Vt(e,""),i.effectTag&=-17);t:e:for(i=t;;){for(;null===i.sibling;){if(null===i.return||la(i.return)){i=null;break t}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue e;if(null===i.child||4===i.tag)continue e;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break t}}n?function t(e,i,n){var r=e.tag,s=5===r||6===r;if(s)e=s?e.stateNode:e.stateNode.instance,i?8===n.nodeType?n.parentNode.insertBefore(e,i):n.insertBefore(e,i):(8===n.nodeType?(i=n.parentNode).insertBefore(e,n):(i=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==i.onclick||(i.onclick=li));else if(4!==r&&null!==(e=e.child))for(t(e,i,n),e=e.sibling;null!==e;)t(e,i,n),e=e.sibling}(t,i,e):function t(e,i,n){var r=e.tag,s=5===r||6===r;if(s)e=s?e.stateNode:e.stateNode.instance,i?n.insertBefore(e,i):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(t(e,i,n),e=e.sibling;null!==e;)t(e,i,n),e=e.sibling}(t,i,e)}function ha(t,e,i){for(var n,r,s=e,a=!1;;){if(!a){a=s.return;t:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}a=a.return}a=!0}if(5===s.tag||6===s.tag){t:for(var l=t,u=s,h=i,c=u;;)if(oa(l,c,h),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break t;for(;null===c.sibling;){if(null===c.return||c.return===u)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(l=n,u=s.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):n.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){n=s.stateNode.containerInfo,r=!0,s.child.return=s,s=s.child;continue}}else if(oa(t,s,i),null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)break;for(;null===s.sibling;){if(null===s.return||s.return===e)return;4===(s=s.return).tag&&(a=!1)}s.sibling.return=s.return,s=s.sibling}}function ca(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void na(3,e);case 1:return;case 5:var i=e.stateNode;if(null!=i){var n=e.memoizedProps,r=null!==t?t.memoizedProps:n;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,null!==s){for(i[Ti]=n,"input"===t&&"radio"===n.type&&null!=n.name&&Tt(i,n),si(t,r),e=si(t,n),r=0;r<s.length;r+=2){var a=s[r],l=s[r+1];"style"===a?ii(i,l):"dangerouslySetInnerHTML"===a?Rt(i,l):"children"===a?Vt(i,l):G(i,a,l,e)}switch(t){case"input":Et(i,n);break;case"textarea":Lt(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,null!=(t=n.value)?Ct(i,!!n.multiple,t,!1):e!==!!n.multiple&&(null!=n.defaultValue?Ct(i,!!n.multiple,n.defaultValue,!0):Ct(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,ze(e.containerInfo)));case 12:return;case 13:if(i=e,null===e.memoizedState?n=!1:(n=!0,i=e.child,Da=Rr()),null!==i)t:for(t=i;;){if(5===t.tag)s=t.stateNode,n?"function"===typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none":(s=t.stateNode,r=void 0!==(r=t.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,s.style.display=ei("display",r));else if(6===t.tag)t.stateNode.nodeValue=n?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(s=t.child.sibling).return=t,t=s;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===i)break;for(;null===t.sibling;){if(null===t.return||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void da(e);case 19:return void da(e);case 17:return}throw Error(o(163))}function da(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new Zo),e.forEach((function(e){var n=wl.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(t,e,i){(i=as(i,null)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){za||(za=!0,Fa=n),ta(t,e)},i}function ya(t,e,i){(i=as(i,null)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var r=e.value;i.payload=function(){return ta(t,e),n(r)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){"function"!==typeof n&&(null===Pa?Pa=new Set([this]):Pa.add(this),ta(t,e));var i=e.stack;this.componentDidCatch(e.value,{componentStack:null!==i?i:""})}),i}var ba,ma=Math.ceil,va=Q.ReactCurrentDispatcher,ga=Q.ReactCurrentOwner,wa=0,_a=3,Sa=4,xa=0,Ta=null,Ea=null,Ia=0,Ma=wa,ka=null,Ca=1073741823,Oa=1073741823,Ba=null,La=0,Aa=!1,Da=0,Na=null,za=!1,Fa=null,Pa=null,Ra=!1,Va=null,Ua=90,ja=null,Wa=0,$a=null,Ha=0;function Ka(){return 0!==(48&xa)?1073741821-(Rr()/10|0):0!==Ha?Ha:Ha=1073741821-(Rr()/10|0)}function Ya(t,e,i){if(0===(2&(e=e.mode)))return 1073741823;var n=Vr();if(0===(4&e))return 99===n?1073741823:1073741822;if(0!==(16&xa))return Ia;if(null!==i)t=Yr(t,0|i.timeoutMs||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=Yr(t,150,100);break;case 97:case 96:t=Yr(t,5e3,250);break;case 95:t=2;break;default:throw Error(o(326))}return null!==Ta&&t===Ia&&--t,t}function Xa(t,e){if(50<Wa)throw Wa=0,$a=null,Error(o(185));if(null!==(t=qa(t,e))){var i=Vr();1073741823===e?0!==(8&xa)&&0===(48&xa)?Za(t):(Ga(t),0===xa&&Hr()):Ga(t),0===(4&xa)||98!==i&&99!==i||(null===ja?ja=new Map([[t,e]]):(void 0===(i=ja.get(t))||i>e)&&ja.set(t,e))}}function qa(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e);var n=t.return,r=null;if(null===n&&3===t.tag)r=t.stateNode;else for(;null!==n;){if(i=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return null!==r&&(Ta===r&&(ol(e),Ma===Sa&&Al(r,Ia)),Dl(r,e)),r}function Qa(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Ll(t,e=t.firstPendingTime))return e;var i=t.lastPingedTime;return 2>=(t=i>(t=t.nextKnownPendingLevel)?i:t)&&e!==t?0:t}function Ga(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=$r(Za.bind(null,t));else{var e=Qa(t),i=t.callbackNode;if(0===e)null!==i&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=Ka();if(1073741823===e?n=99:1===e||2===e?n=95:n=0>=(n=10*(1073741821-e)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==i){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=n)return;i!==Lr&&xr(i)}t.callbackExpirationTime=e,t.callbackPriority=n,e=1073741823===e?$r(Za.bind(null,t)):Wr(n,Ja.bind(null,t),{timeout:10*(1073741821-e)-Rr()}),t.callbackNode=e}}}function Ja(t,e){if(Ha=0,e)return Nl(t,e=Ka()),Ga(t),null;var i=Qa(t);if(0!==i){if(e=t.callbackNode,0!==(48&xa))throw Error(o(327));if(yl(),t===Ta&&i===Ia||il(t,i),null!==Ea){var n=xa;xa|=16;for(var r=rl();;)try{ll();break}catch(l){nl(t,l)}if(Zr(),xa=n,va.current=r,1===Ma)throw e=ka,il(t,i),Al(t,i),Ga(t),e;if(null===Ea)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=i,n=Ma,Ta=null,n){case wa:case 1:throw Error(o(345));case 2:Nl(t,2<i?2:i);break;case _a:if(Al(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=cl(r)),1073741823===Ca&&10<(r=Da+500-Rr())){if(Aa){var s=t.lastPingedTime;if(0===s||s>=i){t.lastPingedTime=i,il(t,i);break}}if(0!==(s=Qa(t))&&s!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}t.timeoutHandle=vi(dl.bind(null,t),r);break}dl(t);break;case Sa:if(Al(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=cl(r)),Aa&&(0===(r=t.lastPingedTime)||r>=i)){t.lastPingedTime=i,il(t,i);break}if(0!==(r=Qa(t))&&r!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}if(1073741823!==Oa?n=10*(1073741821-Oa)-Rr():1073741823===Ca?n=0:(n=10*(1073741821-Ca)-5e3,0>(n=(r=Rr())-n)&&(n=0),(i=10*(1073741821-i)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ma(n/1960))-n)&&(n=i)),10<n){t.timeoutHandle=vi(dl.bind(null,t),n);break}dl(t);break;case 5:if(1073741823!==Ca&&null!==Ba){s=Ca;var a=Ba;if(0>=(n=0|a.busyMinDurationMs)?n=0:(r=0|a.busyDelayMs,n=(s=Rr()-(10*(1073741821-s)-(0|a.timeoutMs||5e3)))<=r?0:r+n-s),10<n){Al(t,i),t.timeoutHandle=vi(dl.bind(null,t),n);break}}dl(t);break;default:throw Error(o(329))}if(Ga(t),t.callbackNode===e)return Ja.bind(null,t)}}return null}function Za(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&xa))throw Error(o(327));if(yl(),t===Ta&&e===Ia||il(t,e),null!==Ea){var i=xa;xa|=16;for(var n=rl();;)try{al();break}catch(r){nl(t,r)}if(Zr(),xa=i,va.current=n,1===Ma)throw i=ka,il(t,e),Al(t,e),Ga(t),i;if(null!==Ea)throw Error(o(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ta=null,dl(t),Ga(t)}return null}function tl(t,e){var i=xa;xa|=1;try{return t(e)}finally{0===(xa=i)&&Hr()}}function el(t,e){var i=xa;xa&=-2,xa|=8;try{return t(e)}finally{0===(xa=i)&&Hr()}}function il(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,gi(i)),null!==Ea)for(i=Ea.return;null!==i;){var n=i;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&br();break;case 3:Ls(),lr(dr),lr(cr);break;case 5:Ds(n);break;case 4:Ls();break;case 13:case 19:lr(Ns);break;case 10:ts(n)}i=i.return}Ta=t,Ea=Il(t.current,null),Ia=e,Ma=wa,ka=null,Oa=Ca=1073741823,Ba=null,La=0,Aa=!1}function nl(t,e){for(;;){try{if(Zr(),Ps.current=bo,$s)for(var i=Us.memoizedState;null!==i;){var n=i.queue;null!==n&&(n.pending=null),i=i.next}if(Vs=0,Ws=js=Us=null,$s=!1,null===Ea||null===Ea.return)return Ma=1,ka=e,Ea=null;t:{var r=t,s=Ea.return,o=Ea,a=e;if(e=Ia,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var l=a;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.expirationTime=u.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var h=0!==(1&Ns.current),c=s;do{var d;if(d=13===c.tag){var f=c.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=c.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!h)}}if(d){var y=c.updateQueue;if(null===y){var b=new Set;b.add(l),c.updateQueue=b}else y.add(l);if(0===(2&c.mode)){if(c.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var m=as(1073741823,null);m.tag=2,ls(o,m)}o.expirationTime=1073741823;break t}a=void 0,o=e;var v=r.pingCache;if(null===v?(v=r.pingCache=new fa,a=new Set,v.set(l,a)):void 0===(a=v.get(l))&&(a=new Set,v.set(l,a)),!a.has(o)){a.add(o);var g=gl.bind(null,r,l,o);l.then(g,g)}c.effectTag|=4096,c.expirationTime=e;break t}c=c.return}while(null!==c);a=Error((bt(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+mt(o))}5!==Ma&&(Ma=2),a=Jo(a,o),c=s;do{switch(c.tag){case 3:l=a,c.effectTag|=4096,c.expirationTime=e,us(c,pa(c,l,e));break t;case 1:l=a;var w=c.type,_=c.stateNode;if(0===(64&c.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Pa||!Pa.has(_)))){c.effectTag|=4096,c.expirationTime=e,us(c,ya(c,l,e));break t}}c=c.return}while(null!==c)}Ea=hl(Ea)}catch(S){e=S;continue}break}}function rl(){var t=va.current;return va.current=bo,null===t?bo:t}function sl(t,e){t<Ca&&2<t&&(Ca=t),null!==e&&t<Oa&&2<t&&(Oa=t,Ba=e)}function ol(t){t>La&&(La=t)}function al(){for(;null!==Ea;)Ea=ul(Ea)}function ll(){for(;null!==Ea&&!Ar();)Ea=ul(Ea)}function ul(t){var e=ba(t.alternate,t,Ia);return t.memoizedProps=t.pendingProps,null===e&&(e=hl(t)),ga.current=null,e}function hl(t){Ea=t;do{var e=Ea.alternate;if(t=Ea.return,0===(2048&Ea.effectTag)){if(e=Qo(e,Ea,Ia),1===Ia||1!==Ea.childExpirationTime){for(var i=0,n=Ea.child;null!==n;){var r=n.expirationTime,s=n.childExpirationTime;r>i&&(i=r),s>i&&(i=s),n=n.sibling}Ea.childExpirationTime=i}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ea.firstEffect),null!==Ea.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ea.firstEffect),t.lastEffect=Ea.lastEffect),1<Ea.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ea:t.firstEffect=Ea,t.lastEffect=Ea))}else{if(null!==(e=Go(Ea)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ea.sibling))return e;Ea=t}while(null!==Ea);return Ma===wa&&(Ma=5),null}function cl(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function dl(t){var e=Vr();return jr(99,fl.bind(null,t,e)),null}function fl(t,e){do{yl()}while(null!==Va);if(0!==(48&xa))throw Error(o(327));var i=t.finishedWork,n=t.finishedExpirationTime;if(null===i)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=cl(i);if(t.firstPendingTime=r,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ta&&(Ea=Ta=null,Ia=0),1<i.effectTag?null!==i.lastEffect?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,null!==r){var s=xa;xa|=32,ga.current=null,pi=Ke;var a=di();if(fi(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else t:{var u=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var h=u.anchorOffset,c=u.focusNode;u=u.focusOffset;try{l.nodeType,c.nodeType}catch(I){l=null;break t}var d=0,f=-1,p=-1,y=0,b=0,m=a,v=null;e:for(;;){for(var g;m!==l||0!==h&&3!==m.nodeType||(f=d+h),m!==c||0!==u&&3!==m.nodeType||(p=d+u),3===m.nodeType&&(d+=m.nodeValue.length),null!==(g=m.firstChild);)v=m,m=g;for(;;){if(m===a)break e;if(v===l&&++y===h&&(f=d),v===c&&++b===u&&(p=d),null!==(g=m.nextSibling))break;v=(m=v).parentNode}m=g}l=-1===f||-1===p?null:{start:f,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;yi={activeElementDetached:null,focusedElem:a,selectionRange:l},Ke=!1,Na=r;do{try{pl()}catch(I){if(null===Na)throw Error(o(330));vl(Na,I),Na=Na.nextEffect}}while(null!==Na);Na=r;do{try{for(a=t,l=e;null!==Na;){var w=Na.effectTag;if(16&w&&Vt(Na.stateNode,""),128&w){var _=Na.alternate;if(null!==_){var S=_.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&w){case 2:ua(Na),Na.effectTag&=-3;break;case 6:ua(Na),Na.effectTag&=-3,ca(Na.alternate,Na);break;case 1024:Na.effectTag&=-1025;break;case 1028:Na.effectTag&=-1025,ca(Na.alternate,Na);break;case 4:ca(Na.alternate,Na);break;case 8:ha(a,h=Na,l),aa(h)}Na=Na.nextEffect}}catch(I){if(null===Na)throw Error(o(330));vl(Na,I),Na=Na.nextEffect}}while(null!==Na);if(S=yi,_=di(),w=S.focusedElem,l=S.selectionRange,_!==w&&w&&w.ownerDocument&&function t(e,i){return!(!e||!i)&&(e===i||(!e||3!==e.nodeType)&&(i&&3===i.nodeType?t(e,i.parentNode):"contains"in e?e.contains(i):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(i))))}(w.ownerDocument.documentElement,w)){null!==l&&fi(w)&&(_=l.start,void 0===(S=l.end)&&(S=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(S,w.value.length)):(S=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(S=S.getSelection(),h=w.textContent.length,a=Math.min(l.start,h),l=void 0===l.end?a:Math.min(l.end,h),!S.extend&&a>l&&(h=l,l=a,a=h),h=ci(w,a),c=ci(w,l),h&&c&&(1!==S.rangeCount||S.anchorNode!==h.node||S.anchorOffset!==h.offset||S.focusNode!==c.node||S.focusOffset!==c.offset)&&((_=_.createRange()).setStart(h.node,h.offset),S.removeAllRanges(),a>l?(S.addRange(_),S.extend(c.node,c.offset)):(_.setEnd(c.node,c.offset),S.addRange(_))))),_=[];for(S=w;S=S.parentNode;)1===S.nodeType&&_.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(S=_[w]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Ke=!!pi,yi=pi=null,t.current=i,Na=r;do{try{for(w=t;null!==Na;){var x=Na.effectTag;if(36&x&&sa(w,Na.alternate,Na),128&x){_=void 0;var T=Na.ref;if(null!==T){var E=Na.stateNode;switch(Na.tag){case 5:_=E;break;default:_=E}"function"===typeof T?T(_):T.current=_}}Na=Na.nextEffect}}catch(I){if(null===Na)throw Error(o(330));vl(Na,I),Na=Na.nextEffect}}while(null!==Na);Na=null,Dr(),xa=s}else t.current=i;if(Ra)Ra=!1,Va=t,Ua=e;else for(Na=r;null!==Na;)e=Na.nextEffect,Na.nextEffect=null,Na=e;if(0===(e=t.firstPendingTime)&&(Pa=null),1073741823===e?t===$a?Wa++:(Wa=0,$a=t):Wa=0,"function"===typeof _l&&_l(i.stateNode,n),Ga(t),za)throw za=!1,t=Fa,Fa=null,t;return 0!==(8&xa)||Hr(),null}function pl(){for(;null!==Na;){var t=Na.effectTag;0!==(256&t)&&ia(Na.alternate,Na),0===(512&t)||Ra||(Ra=!0,Wr(97,(function(){return yl(),null}))),Na=Na.nextEffect}}function yl(){if(90!==Ua){var t=97<Ua?97:Ua;return Ua=90,jr(t,bl)}}function bl(){if(null===Va)return!1;var t=Va;if(Va=null,0!==(48&xa))throw Error(o(331));var e=xa;for(xa|=32,t=t.current.firstEffect;null!==t;){try{var i=t;if(0!==(512&i.effectTag))switch(i.tag){case 0:case 11:case 15:case 22:na(5,i),ra(5,i)}}catch(n){if(null===t)throw Error(o(330));vl(t,n)}i=t.nextEffect,t.nextEffect=null,t=i}return xa=e,Hr(),!0}function ml(t,e,i){ls(t,e=pa(t,e=Jo(i,e),1073741823)),null!==(t=qa(t,1073741823))&&Ga(t)}function vl(t,e){if(3===t.tag)ml(t,t,e);else for(var i=t.return;null!==i;){if(3===i.tag){ml(i,t,e);break}if(1===i.tag){var n=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Pa||!Pa.has(n))){ls(i,t=ya(i,t=Jo(e,t),1073741823)),null!==(i=qa(i,1073741823))&&Ga(i);break}}i=i.return}}function gl(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),Ta===t&&Ia===i?Ma===Sa||Ma===_a&&1073741823===Ca&&Rr()-Da<500?il(t,Ia):Aa=!0:Ll(t,i)&&(0!==(e=t.lastPingedTime)&&e<i||(t.lastPingedTime=i,Ga(t)))}function wl(t,e){var i=t.stateNode;null!==i&&i.delete(e),0===(e=0)&&(e=Ya(e=Ka(),t,null)),null!==(t=qa(t,e))&&Ga(t)}ba=function(t,e,i){var n=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||dr.current)Oo=!0;else{if(n<i){switch(Oo=!1,e.tag){case 3:Ro(e),ko();break;case 5:if(As(e),4&e.mode&&1!==i&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:yr(e.type)&&gr(e);break;case 4:Bs(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value,r=e.type._context,ur(qr,r._currentValue),r._currentValue=n;break;case 13:if(null!==e.memoizedState)return 0!==(n=e.child.childExpirationTime)&&n>=i?$o(t,e,i):(ur(Ns,1&Ns.current),null!==(e=Xo(t,e,i))?e.sibling:null);ur(Ns,1&Ns.current);break;case 19:if(n=e.childExpirationTime>=i,0!==(64&t.effectTag)){if(n)return Yo(t,e,i);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),ur(Ns,Ns.current),!n)return null}return Xo(t,e,i)}Oo=!1}}else Oo=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=pr(e,cr.current),is(e,i),r=Ys(null,e,n,t,r,i),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,yr(n)){var s=!0;gr(e)}else s=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ss(e);var a=n.getDerivedStateFromProps;"function"===typeof a&&ps(e,n,a,t),r.updater=ys,e.stateNode=r,r._reactInternalFiber=e,gs(e,n,t,i),e=Po(null,e,n,!0,s,i)}else e.tag=0,Bo(null,e,r,i),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,s=e.tag=function(t){if("function"===typeof t)return El(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===lt)return 11;if(t===ct)return 14}return 2}(r),t=Xr(r,t),s){case 0:e=zo(null,e,r,t,i);break t;case 1:e=Fo(null,e,r,t,i);break t;case 11:e=Lo(null,e,r,t,i);break t;case 14:e=Ao(null,e,r,Xr(r.type,t),n,i);break t}throw Error(o(306,r,""))}return e;case 0:return n=e.type,r=e.pendingProps,zo(t,e,n,r=e.elementType===n?r:Xr(n,r),i);case 1:return n=e.type,r=e.pendingProps,Fo(t,e,n,r=e.elementType===n?r:Xr(n,r),i);case 3:if(Ro(e),n=e.updateQueue,null===t||null===n)throw Error(o(282));if(n=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,os(t,e),hs(e,n,null,i),(n=e.memoizedState.element)===r)ko(),e=Xo(t,e,i);else{if((r=e.stateNode.hydrate)&&(_o=wi(e.stateNode.containerInfo.firstChild),wo=e,r=So=!0),r)for(i=Es(e,null,n,i),e.child=i;i;)i.effectTag=-3&i.effectTag|1024,i=i.sibling;else Bo(t,e,n,i),ko();e=e.child}return e;case 5:return As(e),null===t&&Eo(e),n=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,a=r.children,mi(n,r)?a=null:null!==s&&mi(n,s)&&(e.effectTag|=16),No(t,e),4&e.mode&&1!==i&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Bo(t,e,a,i),e=e.child),e;case 6:return null===t&&Eo(e),null;case 13:return $o(t,e,i);case 4:return Bs(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Ts(e,null,n,i):Bo(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,Lo(t,e,n,r=e.elementType===n?r:Xr(n,r),i);case 7:return Bo(t,e,e.pendingProps,i),e.child;case 8:case 12:return Bo(t,e,e.pendingProps.children,i),e.child;case 10:t:{n=e.type._context,r=e.pendingProps,a=e.memoizedProps,s=r.value;var l=e.type._context;if(ur(qr,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0===(s=Fn(l,s)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,s):1073741823))){if(a.children===r.children&&!dr.current){e=Xo(t,e,i);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var h=u.firstContext;null!==h;){if(h.context===n&&0!==(h.observedBits&s)){1===l.tag&&((h=as(i,null)).tag=2,ls(l,h)),l.expirationTime<i&&(l.expirationTime=i),null!==(h=l.alternate)&&h.expirationTime<i&&(h.expirationTime=i),es(l.return,i),u.expirationTime<i&&(u.expirationTime=i);break}h=h.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Bo(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=(s=e.pendingProps).children,is(e,i),n=n(r=ns(r,s.unstable_observedBits)),e.effectTag|=1,Bo(t,e,n,i),e.child;case 14:return s=Xr(r=e.type,e.pendingProps),Ao(t,e,r,s=Xr(r.type,s),n,i);case 15:return Do(t,e,e.type,e.pendingProps,n,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Xr(n,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,yr(n)?(t=!0,gr(e)):t=!1,is(e,i),ms(e,n,r),gs(e,n,r,i),Po(null,e,n,!0,t,i);case 19:return Yo(t,e,i)}throw Error(o(156,e.tag))};var _l=null,Sl=null;function xl(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Tl(t,e,i,n){return new xl(t,e,i,n)}function El(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Il(t,e){var i=t.alternate;return null===i?((i=Tl(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Ml(t,e,i,n,r,s){var a=2;if(n=t,"function"===typeof t)El(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case it:return kl(i.children,r,s,e);case at:a=8,r|=7;break;case nt:a=8,r|=1;break;case rt:return(t=Tl(12,i,e,8|r)).elementType=rt,t.type=rt,t.expirationTime=s,t;case ut:return(t=Tl(13,i,e,r)).type=ut,t.elementType=ut,t.expirationTime=s,t;case ht:return(t=Tl(19,i,e,r)).elementType=ht,t.expirationTime=s,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case st:a=10;break t;case ot:a=9;break t;case lt:a=11;break t;case ct:a=14;break t;case dt:a=16,n=null;break t;case ft:a=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Tl(a,i,e,r)).elementType=t,e.type=n,e.expirationTime=s,e}function kl(t,e,i,n){return(t=Tl(7,t,n,e)).expirationTime=i,t}function Cl(t,e,i){return(t=Tl(6,t,null,e)).expirationTime=i,t}function Ol(t,e,i){return(e=Tl(4,null!==t.children?t.children:[],t.key,e)).expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bl(t,e,i){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ll(t,e){var i=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==i&&i>=e&&t<=e}function Al(t,e){var i=t.firstSuspendedTime,n=t.lastSuspendedTime;i<e&&(t.firstSuspendedTime=e),(n>e||0===i)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Dl(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var i=t.firstSuspendedTime;0!==i&&(e>=i?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Nl(t,e){var i=t.lastExpiredTime;(0===i||i>e)&&(t.lastExpiredTime=e)}function zl(t,e,i,n){var r=e.current,s=Ka(),a=ds.suspense;s=Ya(s,r,a);t:if(i){e:{if(Zt(i=i._reactInternalFiber)!==i||1!==i.tag)throw Error(o(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(yr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(o(171))}if(1===i.tag){var u=i.type;if(yr(u)){i=vr(i,u,l);break t}}i=l}else i=hr;return null===e.context?e.context=i:e.pendingContext=i,(e=as(s,a)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),ls(r,e),Xa(r,s),s}function Fl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Pl(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Rl(t,e){Pl(t,e),(t=t.alternate)&&Pl(t,e)}function Vl(t,e,i){var n=new Bl(t,e,i=null!=i&&!0===i.hydrate),r=Tl(3,null,null,2===e?7:1===e?3:0);n.current=r,r.stateNode=n,ss(r),t[Ei]=n.current,i&&0!==e&&function(t,e){var i=Jt(e);Ie.forEach((function(t){pe(t,e,i)})),Me.forEach((function(t){pe(t,e,i)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=n}function Ul(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function jl(t,e,i,n,r){var s=i._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof r){var a=r;r=function(){var t=Fl(o);a.call(t)}}zl(e,o,t,r)}else{if(s=i._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new Vl(t,0,e?{hydrate:!0}:void 0)}(i,n),o=s._internalRoot,"function"===typeof r){var l=r;r=function(){var t=Fl(o);l.call(t)}}el((function(){zl(e,o,t,r)}))}return Fl(o)}function Wl(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}function $l(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ul(e))throw Error(o(200));return Wl(t,e,null,i)}Vl.prototype.render=function(t){zl(t,this._internalRoot,null,null)},Vl.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;zl(null,t,null,(function(){e[Ei]=null}))},ye=function(t){if(13===t.tag){var e=Yr(Ka(),150,100);Xa(t,e),Rl(t,e)}},be=function(t){13===t.tag&&(Xa(t,3),Rl(t,3))},me=function(t){if(13===t.tag){var e=Ka();Xa(t,e=Ya(e,t,null)),Rl(t,e)}},k=function(t,e,i){switch(e){case"input":if(Et(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=Ci(n);if(!r)throw Error(o(90));_t(n),Et(n,r)}}}break;case"textarea":Lt(t,i);break;case"select":null!=(e=i.value)&&Ct(t,!!i.multiple,e,!1)}},D=tl,N=function(t,e,i,n,r){var s=xa;xa|=4;try{return jr(98,t.bind(null,e,i,n,r))}finally{0===(xa=s)&&Hr()}},z=function(){0===(49&xa)&&(function(){if(null!==ja){var t=ja;ja=null,t.forEach((function(t,e){Nl(e,t),Ga(e)})),Hr()}}(),yl())},F=function(t,e){var i=xa;xa|=2;try{return t(e)}finally{0===(xa=i)&&Hr()}};var Hl={Events:[Mi,ki,Ci,I,x,zi,function(t){re(t,Ni)},L,A,Ge,ae,yl,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);_l=function(t){try{e.onCommitFiberRoot(i,t,void 0,64===(64&t.current.effectTag))}catch(n){}},Sl=function(t){try{e.onCommitFiberUnmount(i,t)}catch(n){}}}catch(n){}})(r({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ie(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ii,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hl,e.createPortal=$l,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return t=null===(t=ie(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&xa))throw Error(o(187));var i=xa;xa|=1;try{return jr(99,t.bind(null,e))}finally{xa=i,Hr()}},e.hydrate=function(t,e,i){if(!Ul(e))throw Error(o(200));return jl(null,t,e,!0,i)},e.render=function(t,e,i){if(!Ul(e))throw Error(o(200));return jl(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!Ul(t))throw Error(o(40));return!!t._reactRootContainer&&(el((function(){jl(null,null,t,!1,(function(){t._reactRootContainer=null,t[Ei]=null}))})),!0)},e.unstable_batchedUpdates=tl,e.unstable_createPortal=function(t,e){return $l(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Ul(i))throw Error(o(200));if(null==t||void 0===t._reactInternalFiber)throw Error(o(38));return jl(t,e,i,!1,n)},e.version="16.14.0"},function(t,e,i){"use strict";t.exports=i(14)},function(t,e,i){"use strict";var n,r,s,o,a;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,h=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(i){throw setTimeout(h,0),i}},c=Date.now();e.unstable_now=function(){return Date.now()-c},n=function(t){null!==l?setTimeout(n,0,t):(l=t,setTimeout(h,0))},r=function(t,e){u=setTimeout(t,e)},s=function(){clearTimeout(u)},o=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,p=window.setTimeout,y=window.clearTimeout;if("undefined"!==typeof console){var b=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)e.unstable_now=function(){return d.now()};else{var m=f.now();e.unstable_now=function(){return f.now()-m}}var v=!1,g=null,w=-1,_=5,S=0;o=function(){return e.unstable_now()>=S},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,T=x.port2;x.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();S=t+_;try{g(!0,t)?T.postMessage(null):(v=!1,g=null)}catch(i){throw T.postMessage(null),i}}else v=!1},n=function(t){g=t,v||(v=!0,T.postMessage(null))},r=function(t,i){w=p((function(){t(e.unstable_now())}),i)},s=function(){y(w),w=-1}}function E(t,e){var i=t.length;t.push(e);t:for(;;){var n=i-1>>>1,r=t[n];if(!(void 0!==r&&0<k(r,e)))break t;t[n]=e,t[i]=r,i=n}}function I(t){return void 0===(t=t[0])?null:t}function M(t){var e=t[0];if(void 0!==e){var i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,r=t.length;n<r;){var s=2*(n+1)-1,o=t[s],a=s+1,l=t[a];if(void 0!==o&&0>k(o,i))void 0!==l&&0>k(l,o)?(t[n]=l,t[a]=i,n=a):(t[n]=o,t[s]=i,n=s);else{if(!(void 0!==l&&0>k(l,i)))break t;t[n]=l,t[a]=i,n=a}}}return e}return null}function k(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}var C=[],O=[],B=1,L=null,A=3,D=!1,N=!1,z=!1;function F(t){for(var e=I(O);null!==e;){if(null===e.callback)M(O);else{if(!(e.startTime<=t))break;M(O),e.sortIndex=e.expirationTime,E(C,e)}e=I(O)}}function P(t){if(z=!1,F(t),!N)if(null!==I(C))N=!0,n(R);else{var e=I(O);null!==e&&r(P,e.startTime-t)}}function R(t,i){N=!1,z&&(z=!1,s()),D=!0;var n=A;try{for(F(i),L=I(C);null!==L&&(!(L.expirationTime>i)||t&&!o());){var a=L.callback;if(null!==a){L.callback=null,A=L.priorityLevel;var l=a(L.expirationTime<=i);i=e.unstable_now(),"function"===typeof l?L.callback=l:L===I(C)&&M(C),F(i)}else M(C);L=I(C)}if(null!==L)var u=!0;else{var h=I(O);null!==h&&r(P,h.startTime-i),u=!1}return u}finally{L=null,A=n,D=!1}}function V(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){N||D||(N=!0,n(R))},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return I(C)},e.unstable_next=function(t){switch(A){case 1:case 2:case 3:var e=3;break;default:e=A}var i=A;A=e;try{return t()}finally{A=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=A;A=t;try{return e()}finally{A=i}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?a+l:a,o="number"===typeof o.timeout?o.timeout:V(t)}else o=V(t),l=a;return t={id:B++,callback:i,priorityLevel:t,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>a?(t.sortIndex=l,E(O,t),null===I(C)&&t===I(O)&&(z?s():z=!0,r(P,l-a))):(t.sortIndex=o,E(C,t),N||D||(N=!0,n(R))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var i=I(C);return i!==L&&null!==L&&null!==i&&null!==i.callback&&i.startTime<=t&&i.expirationTime<L.expirationTime||o()},e.unstable_wrapCallback=function(t){var e=A;return function(){var i=A;A=e;try{return t.apply(this,arguments)}finally{A=i}}}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&r(e,t,i);return s(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useRenderData=void 0;var l=i(4),u=o(i(1)),h=i(6),c=i(5),d=a(i(19)),f=u.default.createContext(void 0);e.useRenderData=function(){var t=(0,u.useContext)(f);if(null==t)throw new Error("useRenderData() must be used inside <StreamlitProvider />");return t};e.default=function(t){var e=(0,c.useNullableRenderData)();return(0,u.useEffect)((function(){h.Streamlit.setFrameHeight()})),null==e?null:(0,l.jsx)(d.default,{children:(0,l.jsx)(f.Provider,n({value:e},{children:t.children}),void 0)},void 0)}},function(t,e,i){"use strict";var n=i(1),r=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var s=Symbol.for;r=s("react.element"),e.Fragment=s("react.fragment")}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,i){var n,s={},u=null,h=null;for(n in void 0!==i&&(u=""+i),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(h=e.ref),e)a.call(e,n)&&!l.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:r,type:t,key:u,ref:h,props:s,_owner:o.current}}e.jsx=u,e.jsxs=u},function(t,e,i){"use strict";t.exports=i(18)},function(t,e,i){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,s=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function S(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case d:case o:case l:case a:case p:return t;default:switch(t=t&&t.$$typeof){case h:case f:case m:case b:case u:return t;default:return e}}case s:return e}}}function x(t){return S(t)===d}e.AsyncMode=c,e.ConcurrentMode=d,e.ContextConsumer=h,e.ContextProvider=u,e.Element=r,e.ForwardRef=f,e.Fragment=o,e.Lazy=m,e.Memo=b,e.Portal=s,e.Profiler=l,e.StrictMode=a,e.Suspense=p,e.isAsyncMode=function(t){return x(t)||S(t)===c},e.isConcurrentMode=x,e.isContextConsumer=function(t){return S(t)===h},e.isContextProvider=function(t){return S(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return S(t)===f},e.isFragment=function(t){return S(t)===o},e.isLazy=function(t){return S(t)===m},e.isMemo=function(t){return S(t)===b},e.isPortal=function(t){return S(t)===s},e.isProfiler=function(t){return S(t)===l},e.isStrictMode=function(t){return S(t)===a},e.isSuspense=function(t){return S(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===d||t===l||t===a||t===p||t===y||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===b||t.$$typeof===u||t.$$typeof===h||t.$$typeof===f||t.$$typeof===g||t.$$typeof===w||t.$$typeof===_||t.$$typeof===v)},e.typeOf=S},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),o=function(t){function e(e){var i=t.call(this,e)||this;return i.state={error:void 0},i}return n(e,t),e.getDerivedStateFromError=function(t){return{error:t}},e.prototype.render=function(){return null!=this.state.error?(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Component Error"},void 0),(0,s.jsx)("span",{children:this.state.error.message},void 0)]},void 0):this.props.children},e}(r(i(1)).default.PureComponent);e.default=o}]]);
//# sourceMappingURL=2.f697d285.chunk.js.map