/*! For license information please see 2.1903643f.chunk.js.LICENSE.txt */
(this.webpackJsonpstreamlit_lightweight_charts=this.webpackJsonpstreamlit_lightweight_charts||[]).push([[2],[function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}i.d(e,"a",(function(){return a}))},function(t,e,i){"use strict";t.exports=i(11)},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=e.StreamlitProvider=e.useRenderData=void 0;var r=i(15);Object.defineProperty(e,"useRenderData",{enumerable:!0,get:function(){return r.useRenderData}}),Object.defineProperty(e,"StreamlitProvider",{enumerable:!0,get:function(){return n(r).default}});var a=i(5);Object.defineProperty(e,"useNullableRenderData",{enumerable:!0,get:function(){return a.useNullableRenderData}})},function(t,e,i){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function s(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(t,e){for(var i,l,o=s(t),_=1;_<arguments.length;_++){for(var c in i=Object(arguments[_]))r.call(i,c)&&(o[c]=i[c]);if(n){l=n(i);for(var u=0;u<l.length;u++)a.call(i,l[u])&&(o[l[u]]=i[l[u]])}}return o}},function(t,e,i){"use strict";t.exports=i(16)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=void 0;var n=i(1),r=i(6);e.useNullableRenderData=function(){var t=(0,n.useState)(),e=t[0],i=t[1];return(0,n.useEffect)((function(){var t=function(t){i(t.detail)};r.Streamlit.events.addEventListener(r.Streamlit.RENDER_EVENT,t),r.Streamlit.setComponentReady();return function(){r.Streamlit.events.removeEventListener(r.Streamlit.RENDER_EVENT,t)}}),[]),e}},function(t,e,i){"use strict";i.r(e),i.d(e,"StreamlitComponentBase",(function(){return B_})),i.d(e,"withStreamlitConnection",(function(){return A_})),i.d(e,"ArrowTable",(function(){return k_})),i.d(e,"Streamlit",(function(){return M_}));var n={};i.r(n),i.d(n,"memcpy",(function(){return yt})),i.d(n,"joinUint8Arrays",(function(){return wt})),i.d(n,"toArrayBufferView",(function(){return St})),i.d(n,"toInt8Array",(function(){return xt})),i.d(n,"toInt16Array",(function(){return Tt})),i.d(n,"toInt32Array",(function(){return Ct})),i.d(n,"toBigInt64Array",(function(){return kt})),i.d(n,"toUint8Array",(function(){return It})),i.d(n,"toUint16Array",(function(){return Mt})),i.d(n,"toUint32Array",(function(){return Et})),i.d(n,"toBigUint64Array",(function(){return Pt})),i.d(n,"toFloat32Array",(function(){return Bt})),i.d(n,"toFloat64Array",(function(){return At})),i.d(n,"toUint8ClampedArray",(function(){return Ot})),i.d(n,"toArrayBufferViewIterator",(function(){return Rt})),i.d(n,"toInt8ArrayIterator",(function(){return Lt})),i.d(n,"toInt16ArrayIterator",(function(){return zt})),i.d(n,"toInt32ArrayIterator",(function(){return Ft})),i.d(n,"toUint8ArrayIterator",(function(){return Vt})),i.d(n,"toUint16ArrayIterator",(function(){return Nt})),i.d(n,"toUint32ArrayIterator",(function(){return Ut})),i.d(n,"toFloat32ArrayIterator",(function(){return Wt})),i.d(n,"toFloat64ArrayIterator",(function(){return jt})),i.d(n,"toUint8ClampedArrayIterator",(function(){return Ht})),i.d(n,"toArrayBufferViewAsyncIterator",(function(){return Yt})),i.d(n,"toInt8ArrayAsyncIterator",(function(){return Kt})),i.d(n,"toInt16ArrayAsyncIterator",(function(){return qt})),i.d(n,"toInt32ArrayAsyncIterator",(function(){return Xt})),i.d(n,"toUint8ArrayAsyncIterator",(function(){return Qt})),i.d(n,"toUint16ArrayAsyncIterator",(function(){return Gt})),i.d(n,"toUint32ArrayAsyncIterator",(function(){return Zt})),i.d(n,"toFloat32ArrayAsyncIterator",(function(){return Jt})),i.d(n,"toFloat64ArrayAsyncIterator",(function(){return te})),i.d(n,"toUint8ClampedArrayAsyncIterator",(function(){return ee})),i.d(n,"rebaseValueOffsets",(function(){return ie})),i.d(n,"compareArrayLike",(function(){return ne}));var r={};i.r(r),i.d(r,"getBool",(function(){return Ie})),i.d(r,"getBit",(function(){return Me})),i.d(r,"setBool",(function(){return Ee})),i.d(r,"truncateBitmap",(function(){return Pe})),i.d(r,"packBools",(function(){return Be})),i.d(r,"iterateBits",(function(){return Ae})),i.d(r,"popcnt_bit_range",(function(){return Oe})),i.d(r,"popcnt_array",(function(){return De})),i.d(r,"popcnt_uint32",(function(){return Re}));var a={};i.r(a),i.d(a,"uint16ToFloat64",(function(){return tn})),i.d(a,"float64ToUint16",(function(){return en}));var s={};i.r(s),i.d(s,"isArrowBigNumSymbol",(function(){return ln})),i.d(s,"bignumToString",(function(){return pn})),i.d(s,"bignumToBigInt",(function(){return dn})),i.d(s,"BN",(function(){return vn}));var l={};i.r(l),i.d(l,"clampIndex",(function(){return tr})),i.d(l,"clampRange",(function(){return ir})),i.d(l,"createElementComparator",(function(){return ar}));var o={};i.r(o),i.d(o,"BaseInt64",(function(){return ba})),i.d(o,"Uint64",(function(){return ya})),i.d(o,"Int64",(function(){return wa})),i.d(o,"Int128",(function(){return Sa}));var _=i(8),c=i.n(_),u=i(1),h=i.n(u);const p=new WeakMap,d=new WeakMap;function f(t){const e=p.get(t);return console.assert(null!=e,"'this' is expected an Event object, but got",t),e}function v(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"===typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!==typeof console&&"function"===typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function m(t,e){p.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const i=Object.keys(e);for(let n=0;n<i.length;++n){const t=i[n];t in this||Object.defineProperty(this,t,g(t))}}function g(t){return{get(){return f(this).event[t]},set(e){f(this).event[t]=e},configurable:!0,enumerable:!0}}function b(t){return{value(){const e=f(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function y(t){if(null==t||t===Object.prototype)return m;let e=d.get(t);return null==e&&(e=function(t,e){const i=Object.keys(e);if(0===i.length)return t;function n(e,i){t.call(this,e,i)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let r=0;r<i.length;++r){const a=i[r];if(!(a in t.prototype)){const t="function"===typeof Object.getOwnPropertyDescriptor(e,a).value;Object.defineProperty(n.prototype,a,t?b(a):g(a))}}return n}(y(Object.getPrototypeOf(t)),t),d.set(t,e)),e}function w(t){return f(t).immediateStopped}function S(t,e){f(t).passiveListener=e}m.prototype={get type(){return f(this).event.type},get target(){return f(this).eventTarget},get currentTarget(){return f(this).currentTarget},composedPath(){const t=f(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return f(this).eventPhase},stopPropagation(){const t=f(this);t.stopped=!0,"function"===typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation(){const t=f(this);t.stopped=!0,t.immediateStopped=!0,"function"===typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(f(this).event.bubbles)},get cancelable(){return Boolean(f(this).event.cancelable)},preventDefault(){v(f(this))},get defaultPrevented(){return f(this).canceled},get composed(){return Boolean(f(this).event.composed)},get timeStamp(){return f(this).timeStamp},get srcElement(){return f(this).eventTarget},get cancelBubble(){return f(this).stopped},set cancelBubble(t){if(!t)return;const e=f(this);e.stopped=!0,"boolean"===typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!f(this).canceled},set returnValue(t){t||v(f(this))},initEvent(){}},Object.defineProperty(m.prototype,"constructor",{value:m,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.Event&&(Object.setPrototypeOf(m.prototype,window.Event.prototype),d.set(window.Event.prototype,m));const x=new WeakMap;function T(t){return null!==t&&"object"===typeof t}function C(t){const e=x.get(t);if(null==e)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function k(t,e){Object.defineProperty(t,"on".concat(e),function(t){return{get(){let e=C(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"===typeof e||T(e)||(e=null);const i=C(this);let n=null,r=i.get(t);for(;null!=r;)3===r.listenerType?null!==n?n.next=r.next:null!==r.next?i.set(t,r.next):i.delete(t):n=r,r=r.next;if(null!==e){const r={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===n?i.set(t,r):n.next=r}},configurable:!0,enumerable:!0}}(e))}function I(t){function e(){M.call(this)}e.prototype=Object.create(M.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let i=0;i<t.length;++i)k(e.prototype,t[i]);return e}function M(){if(!(this instanceof M)){if(1===arguments.length&&Array.isArray(arguments[0]))return I(arguments[0]);if(arguments.length>0){const t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return I(t)}throw new TypeError("Cannot call a class as a function")}x.set(this,new Map)}M.prototype={addEventListener(t,e,i){if(null==e)return;if("function"!==typeof e&&!T(e))throw new TypeError("'listener' should be a function or an object.");const n=C(this),r=T(i),a=(r?Boolean(i.capture):Boolean(i))?1:2,s={listener:e,listenerType:a,passive:r&&Boolean(i.passive),once:r&&Boolean(i.once),next:null};let l=n.get(t);if(void 0===l)return void n.set(t,s);let o=null;for(;null!=l;){if(l.listener===e&&l.listenerType===a)return;o=l,l=l.next}o.next=s},removeEventListener(t,e,i){if(null==e)return;const n=C(this),r=(T(i)?Boolean(i.capture):Boolean(i))?1:2;let a=null,s=n.get(t);for(;null!=s;){if(s.listener===e&&s.listenerType===r)return void(null!==a?a.next=s.next:null!==s.next?n.set(t,s.next):n.delete(t));a=s,s=s.next}},dispatchEvent(t){if(null==t||"string"!==typeof t.type)throw new TypeError('"event.type" should be a string.');const e=C(this),i=t.type;let n=e.get(i);if(null==n)return!0;const r=function(t,e){return new(y(Object.getPrototypeOf(e)))(t,e)}(this,t);let a=null;for(;null!=n;){if(n.once?null!==a?a.next=n.next:null!==n.next?e.set(i,n.next):e.delete(i):a=n,S(r,n.passive?n.listener:null),"function"===typeof n.listener)try{n.listener.call(this,r)}catch(s){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(s)}else 3!==n.listenerType&&"function"===typeof n.listener.handleEvent&&n.listener.handleEvent(r);if(w(r))break;n=n.next}return S(r,null),function(t,e){f(t).eventPhase=e}(r,0),function(t,e){f(t).currentTarget=e}(r,null),!r.defaultPrevented}},Object.defineProperty(M.prototype,"constructor",{value:M,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.EventTarget&&Object.setPrototypeOf(M.prototype,window.EventTarget.prototype);function E(t){this.wrapped=t}function P(t){return new E(t)}function B(t){var e,i;function n(e,i){try{var a=t[e](i),s=a.value,l=s instanceof E;Promise.resolve(l?s.wrapped:s).then((function(t){l?n("return"===e?"return":"next",t):r(a.done?"return":"normal",t)}),(function(t){n("throw",t)}))}catch(o){r("throw",o)}}function r(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?n(e.key,e.arg):i=null}this._invoke=function(t,r){return new Promise((function(a,s){var l={key:t,arg:r,resolve:a,reject:s,next:null};i?i=i.next=l:(e=i=l,n(t,r))}))},"function"!==typeof t.return&&(this.return=void 0)}function A(t){return function(){return new B(t.apply(this,arguments))}}function O(t,e){var i={},n=!1;function r(i,r){return n=!0,r=new Promise((function(e){e(t[i](r))})),{done:!1,value:e(r)}}return"function"===typeof Symbol&&Symbol.iterator&&(i[Symbol.iterator]=function(){return this}),i.next=function(t){return n?(n=!1,t):r("next",t)},"function"===typeof t.throw&&(i.throw=function(t){if(n)throw n=!1,t;return r("throw",t)}),"function"===typeof t.return&&(i.return=function(t){return n?(n=!1,t):r("return",t)}),i}"function"===typeof Symbol&&Symbol.asyncIterator&&(B.prototype[Symbol.asyncIterator]=function(){return this}),B.prototype.next=function(t){return this._invoke("next",t)},B.prototype.throw=function(t){return this._invoke("throw",t)},B.prototype.return=function(t){return this._invoke("return",t)};var D={};function R(t,e,i){return e<=t&&t<=i}function L(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}D.Offset,D.Table,D.SIZEOF_SHORT=2,D.SIZEOF_INT=4,D.FILE_IDENTIFIER_LENGTH=4,D.Encoding={UTF8_BYTES:1,UTF16_STRING:2},D.int32=new Int32Array(2),D.float32=new Float32Array(D.int32.buffer),D.float64=new Float64Array(D.int32.buffer),D.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],D.Long=function(t,e){this.low=0|t,this.high=0|e},D.Long.create=function(t,e){return 0==t&&0==e?D.Long.ZERO:new D.Long(t,e)},D.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},D.Long.prototype.equals=function(t){return this.low==t.low&&this.high==t.high},D.Long.ZERO=new D.Long(0,0),D.Builder=function(t){if(t)e=t;else var e=1024;this.bb=D.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},D.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},D.Builder.prototype.forceDefaults=function(t){this.force_defaults=t},D.Builder.prototype.dataBuffer=function(){return this.bb},D.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},D.Builder.prototype.prep=function(t,e){t>this.minalign&&(this.minalign=t);for(var i=1+~(this.bb.capacity()-this.space+e)&t-1;this.space<i+t+e;){var n=this.bb.capacity();this.bb=D.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-n}this.pad(i)},D.Builder.prototype.pad=function(t){for(var e=0;e<t;e++)this.bb.writeInt8(--this.space,0)},D.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t)},D.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t)},D.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t)},D.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t)},D.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t)},D.Builder.prototype.writeFloat64=function(t){this.bb.writeFloat64(this.space-=8,t)},D.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t)},D.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t)},D.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t)},D.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t)},D.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t)},D.Builder.prototype.addFloat64=function(t){this.prep(8,0),this.writeFloat64(t)},D.Builder.prototype.addFieldInt8=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))},D.Builder.prototype.addFieldInt16=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))},D.Builder.prototype.addFieldInt32=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))},D.Builder.prototype.addFieldInt64=function(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))},D.Builder.prototype.addFieldFloat32=function(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))},D.Builder.prototype.addFieldFloat64=function(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))},D.Builder.prototype.addFieldOffset=function(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))},D.Builder.prototype.addFieldStruct=function(t,e,i){e!=i&&(this.nested(e),this.slot(t))},D.Builder.prototype.nested=function(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},D.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},D.Builder.prototype.slot=function(t){this.vtable[t]=this.offset()},D.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},D.Builder.growByteBuffer=function(t){var e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var i=e<<1,n=D.ByteBuffer.allocate(i);return n.setPosition(i-e),n.bytes().set(t.bytes(),i-e),n},D.Builder.prototype.addOffset=function(t){this.prep(D.SIZEOF_INT,0),this.writeInt32(this.offset()-t+D.SIZEOF_INT)},D.Builder.prototype.startObject=function(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(var e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()},D.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),e=this.vtable_in_use-1;e>=0&&0==this.vtable[e];e--);for(var i=e+1;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);var n=(i+2)*D.SIZEOF_SHORT;this.addInt16(n);var r=0,a=this.space;t:for(e=0;e<this.vtables.length;e++){var s=this.bb.capacity()-this.vtables[e];if(n==this.bb.readInt16(s)){for(var l=D.SIZEOF_SHORT;l<n;l+=D.SIZEOF_SHORT)if(this.bb.readInt16(a+l)!=this.bb.readInt16(s+l))continue t;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t},D.Builder.prototype.finish=function(t,e){if(e){var i=e;if(this.prep(this.minalign,D.SIZEOF_INT+D.FILE_IDENTIFIER_LENGTH),i.length!=D.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+D.FILE_IDENTIFIER_LENGTH);for(var n=D.FILE_IDENTIFIER_LENGTH-1;n>=0;n--)this.writeInt8(i.charCodeAt(n))}this.prep(this.minalign,D.SIZEOF_INT),this.addOffset(t),this.bb.setPosition(this.space)},D.Builder.prototype.requiredField=function(t,e){var i=this.bb.capacity()-t,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+e)))throw new Error("FlatBuffers: field "+e+" must be set")},D.Builder.prototype.startVector=function(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(D.SIZEOF_INT,t*e),this.prep(i,t*e)},D.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},D.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else{e=[];for(var i=0;i<t.length;){var n,r=t.charCodeAt(i++);if(r<55296||r>=56320)n=r;else n=(r<<10)+t.charCodeAt(i++)+-56613888;n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);i=0;for(var a=this.space,s=this.bb.bytes();i<e.length;i++)s[a++]=e[i];return this.endVector()},D.Builder.prototype.createLong=function(t,e){return D.Long.create(t,e)},D.ByteBuffer=function(t){this.bytes_=t,this.position_=0},D.ByteBuffer.allocate=function(t){return new D.ByteBuffer(new Uint8Array(t))},D.ByteBuffer.prototype.clear=function(){this.position_=0},D.ByteBuffer.prototype.bytes=function(){return this.bytes_},D.ByteBuffer.prototype.position=function(){return this.position_},D.ByteBuffer.prototype.setPosition=function(t){this.position_=t},D.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},D.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24},D.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t]},D.ByteBuffer.prototype.readInt16=function(t){return this.readUint16(t)<<16>>16},D.ByteBuffer.prototype.readUint16=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8},D.ByteBuffer.prototype.readInt32=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24},D.ByteBuffer.prototype.readUint32=function(t){return this.readInt32(t)>>>0},D.ByteBuffer.prototype.readInt64=function(t){return new D.Long(this.readInt32(t),this.readInt32(t+4))},D.ByteBuffer.prototype.readUint64=function(t){return new D.Long(this.readUint32(t),this.readUint32(t+4))},D.ByteBuffer.prototype.readFloat32=function(t){return D.int32[0]=this.readInt32(t),D.float32[0]},D.ByteBuffer.prototype.readFloat64=function(t){return D.int32[D.isLittleEndian?0:1]=this.readInt32(t),D.int32[D.isLittleEndian?1:0]=this.readInt32(t+4),D.float64[0]},D.ByteBuffer.prototype.writeInt8=function(t,e){this.bytes_[t]=e},D.ByteBuffer.prototype.writeUint8=function(t,e){this.bytes_[t]=e},D.ByteBuffer.prototype.writeInt16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},D.ByteBuffer.prototype.writeUint16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},D.ByteBuffer.prototype.writeInt32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},D.ByteBuffer.prototype.writeUint32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},D.ByteBuffer.prototype.writeInt64=function(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)},D.ByteBuffer.prototype.writeUint64=function(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)},D.ByteBuffer.prototype.writeFloat32=function(t,e){D.float32[0]=e,this.writeInt32(t,D.int32[0])},D.ByteBuffer.prototype.writeFloat64=function(t,e){D.float64[0]=e,this.writeInt32(t,D.int32[D.isLittleEndian?0:1]),this.writeInt32(t+4,D.int32[D.isLittleEndian?1:0])},D.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+D.SIZEOF_INT+D.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var t="",e=0;e<D.FILE_IDENTIFIER_LENGTH;e++)t+=String.fromCharCode(this.readInt8(this.position_+D.SIZEOF_INT+e));return t},D.ByteBuffer.prototype.__offset=function(t,e){var i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0},D.ByteBuffer.prototype.__union=function(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t},D.ByteBuffer.prototype.__string=function(t,e){t+=this.readInt32(t);var i=this.readInt32(t),n="",r=0;if(t+=D.SIZEOF_INT,e===D.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+i);for(;r<i;){var a,s=this.readUint8(t+r++);if(s<192)a=s;else{var l=this.readUint8(t+r++);if(s<224)a=(31&s)<<6|63&l;else{var o=this.readUint8(t+r++);if(s<240)a=(15&s)<<12|(63&l)<<6|63&o;else a=(7&s)<<18|(63&l)<<12|(63&o)<<6|63&this.readUint8(t+r++)}}a<65536?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return n},D.ByteBuffer.prototype.__indirect=function(t){return t+this.readInt32(t)},D.ByteBuffer.prototype.__vector=function(t){return t+this.readInt32(t)+D.SIZEOF_INT},D.ByteBuffer.prototype.__vector_len=function(t){return this.readInt32(t+this.readInt32(t))},D.ByteBuffer.prototype.__has_identifier=function(t){if(t.length!=D.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+D.FILE_IDENTIFIER_LENGTH);for(var e=0;e<D.FILE_IDENTIFIER_LENGTH;e++)if(t.charCodeAt(e)!=this.readInt8(this.position_+D.SIZEOF_INT+e))return!1;return!0},D.ByteBuffer.prototype.createLong=function(t,e){return D.Long.create(t,e)};function z(t){this.tokens=[].slice.call(t)}z.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};function F(t,e){if(t)throw TypeError("Decoder error");return e||65533}function V(t,e){if(!(this instanceof V))return new V(t,e);if("utf-8"!==(t=void 0!==t?String(t).toLowerCase():"utf-8"))throw new Error("Encoding not supported. Only utf-8 is supported");e=L(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function N(t,e){if(!(this instanceof N))return new N(t,e);if("utf-8"!==(t=void 0!==t?String(t).toLowerCase():"utf-8"))throw new Error("Encoding not supported. Only utf-8 is supported");e=L(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function U(t){var e=t.fatal,i=0,n=0,r=0,a=128,s=191;this.handler=function(t,l){if(-1===l&&0!==r)return r=0,F(e);if(-1===l)return-1;if(0===r){if(R(l,0,127))return l;if(R(l,194,223))r=1,i=l-192;else if(R(l,224,239))224===l&&(a=160),237===l&&(s=159),r=2,i=l-224;else{if(!R(l,240,244))return F(e);240===l&&(a=144),244===l&&(s=143),r=3,i=l-240}return i<<=6*r,null}if(!R(l,a,s))return i=r=n=0,a=128,s=191,t.prepend(l),F(e);if(a=128,s=191,i+=l-128<<6*(r-(n+=1)),n!==r)return null;var o=i;return i=r=n=0,o}}function W(t){t.fatal;this.handler=function(t,e){if(-1===e)return-1;if(R(e,0,127))return e;var i,n;R(e,128,2047)?(i=1,n=192):R(e,2048,65535)?(i=2,n=224):R(e,65536,1114111)&&(i=3,n=240);for(var r=[(e>>6*i)+n];i>0;){var a=e>>6*(i-1);r.push(128|63&a),i-=1}return r}}V.prototype={decode:function(t,e){var i;i="object"===typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"===typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=L(e),this._streaming||(this._decoder=new U({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var n,r=new z(i),a=[];!r.endOfStream()&&-1!==(n=this._decoder.handler(r,r.read()));)null!==n&&(Array.isArray(n)?a.push.apply(a,n):a.push(n));if(!this._streaming){do{if(-1===(n=this._decoder.handler(r,r.read())))break;null!==n&&(Array.isArray(n)?a.push.apply(a,n):a.push(n))}while(!r.endOfStream());this._decoder=null}return a.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===a[0]?(this._BOMseen=!0,a.shift()):this._BOMseen=!0)),function(t){for(var e="",i=0;i<t.length;++i){var n=t[i];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e}(a)}},N.prototype={encode:function(t,e){t=t?String(t):"",e=L(e),this._streaming||(this._encoder=new W(this._options)),this._streaming=Boolean(e.stream);for(var i,n=[],r=new z(function(t){for(var e=String(t),i=e.length,n=0,r=[];n<i;){var a=e.charCodeAt(n);if(a<55296||a>57343)r.push(a);else if(56320<=a&&a<=57343)r.push(65533);else if(55296<=a&&a<=56319)if(n===i-1)r.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var l=1023&a,o=1023&s;r.push(65536+(l<<10)+o),n+=1}else r.push(65533)}n+=1}return r}(t));!r.endOfStream()&&-1!==(i=this._encoder.handler(r,r.read()));)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;-1!==(i=this._encoder.handler(r,r.read()));)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};const j="function"===typeof Buffer?Buffer:null,H="function"===typeof TextDecoder&&"function"===typeof TextEncoder,Y=(t=>{if(H||!j){const e=new t("utf-8");return t=>e.decode(t)}return t=>{const{buffer:e,byteOffset:i,length:n}=It(t);return j.from(e,i,n).toString()}})("undefined"!==typeof TextDecoder?TextDecoder:V),$=(t=>{if(H||!j){const e=new t;return t=>e.encode(t)}return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return It(j.from(t,"utf8"))}})("undefined"!==typeof TextEncoder?TextEncoder:N),K=Object.freeze({done:!0,value:void 0});class q{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class X{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Q extends X{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}async cancel(t){await this.return(t)}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(K);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return re.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return re.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}async throw(t){return await this.abort(t),K}async return(t){return await this.close(),K}async read(t){return(await this.next(t,"read")).value}async peek(t){return(await this.next(t,"peek")).value}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,e)=>{this.resolvers.push({resolve:t,reject:e})}):Promise.resolve(K)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("".concat(this," is closed"))}}const[G,Z]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[J,tt]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[et,it]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),nt=t=>"number"===typeof t,rt=t=>"boolean"===typeof t,at=t=>"function"===typeof t,st=t=>null!=t&&Object(t)===t,lt=t=>st(t)&&at(t.then),ot=t=>st(t)&&at(t[Symbol.iterator]),_t=t=>st(t)&&at(t[Symbol.asyncIterator]),ct=t=>st(t)&&st(t.schema),ut=t=>st(t)&&"done"in t&&"value"in t,ht=t=>st(t)&&at(t.stat)&&nt(t.fd),pt=t=>st(t)&&dt(t.body),dt=t=>st(t)&&at(t.cancel)&&at(t.getReader)&&!(t instanceof X),ft=t=>st(t)&&at(t.read)&&at(t.pipe)&&rt(t.readable)&&!(t instanceof X);function vt(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new mt(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function mt(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(mt=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new mt(t)}var gt=D.ByteBuffer;const bt="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function yt(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const r=t.byteLength,a=new Uint8Array(t.buffer,t.byteOffset,r),s=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,r));return a.set(s,i),t}function wt(t,e){let i,n,r,a=function(t){let e,i,n,r,a=t[0]?[t[0]]:[];for(let s,l,o=0,_=0,c=t.length;++o<c;)s=a[_],l=t[o],!s||!l||s.buffer!==l.buffer||l.byteOffset<s.byteOffset?l&&(a[++_]=l):(({byteOffset:e,byteLength:n}=s),({byteOffset:i,byteLength:r}=l),e+n<i||i+r<e?l&&(a[++_]=l):a[_]=new Uint8Array(s.buffer,e,i-e+r));return a}(t),s=a.reduce((t,e)=>t+e.byteLength,0),l=0,o=-1,_=Math.min(e||1/0,s);for(let c=a.length;++o<c;){if(i=a[o],n=i.subarray(0,Math.min(i.length,_-l)),_<=l+n.length){n.length<i.length?a[o]=i.subarray(n.length):n.length===i.length&&o++,r?yt(r,n,l):r=n;break}yt(r||(r=new Uint8Array(_)),n,l),l+=n.length}return[r||new Uint8Array(0),a.slice(o),s-(r?r.byteLength:0)]}function St(t,e){let i=ut(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"===typeof i&&(i=$(i)),i instanceof ArrayBuffer||i instanceof bt?new t(i):i instanceof gt?St(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0)}const xt=t=>St(Int8Array,t),Tt=t=>St(Int16Array,t),Ct=t=>St(Int32Array,t),kt=t=>St(J,t),It=t=>St(Uint8Array,t),Mt=t=>St(Uint16Array,t),Et=t=>St(Uint32Array,t),Pt=t=>St(et,t),Bt=t=>St(Float32Array,t),At=t=>St(Float64Array,t),Ot=t=>St(Uint8ClampedArray,t),Dt=t=>(t.next(),t);function*Rt(t,e){const i=function*(t){yield t},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof bt?i(e):ot(e)?e:i(e);yield*Dt(function*(e){let i=null;do{i=e.next(yield St(t,i))}while(!i.done)}(n[Symbol.iterator]()))}const Lt=t=>Rt(Int8Array,t),zt=t=>Rt(Int16Array,t),Ft=t=>Rt(Int32Array,t),Vt=t=>Rt(Uint8Array,t),Nt=t=>Rt(Uint16Array,t),Ut=t=>Rt(Uint32Array,t),Wt=t=>Rt(Float32Array,t),jt=t=>Rt(Float64Array,t),Ht=t=>Rt(Uint8ClampedArray,t);function Yt(t,e){return $t.apply(this,arguments)}function $t(){return($t=A((function*(t,e){if(lt(e))return yield*O(vt(Yt(t,yield P(e))),P);const i=function(){var t=A((function*(t){yield yield P(t)}));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=A((function*(t){yield*O(vt(Dt(function*(t){let e=null;do{e=t.next(yield e&&e.value)}while(!e.done)}(t[Symbol.iterator]()))),P)}));return function(e){return t.apply(this,arguments)}}(),r="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof bt?i(e):ot(e)?n(e):_t(e)?e:i(e);yield*O(vt(Dt(function(){var e=A((function*(e){let i=null;do{i=yield P(e.next(yield St(t,i)))}while(!i.done)}));return function(t){return e.apply(this,arguments)}}()(r[Symbol.asyncIterator]()))),P)}))).apply(this,arguments)}const Kt=t=>Yt(Int8Array,t),qt=t=>Yt(Int16Array,t),Xt=t=>Yt(Int32Array,t),Qt=t=>Yt(Uint8Array,t),Gt=t=>Yt(Uint16Array,t),Zt=t=>Yt(Uint32Array,t),Jt=t=>Yt(Float32Array,t),te=t=>Yt(Float64Array,t),ee=t=>Yt(Uint8ClampedArray,t);function ie(t,e,i){if(0!==t){i=i.slice(0,e+1);for(let n=-1;++n<=e;)i[n]+=t}return i}function ne(t,e){let i=0,n=t.length;if(n!==e.length)return!1;if(n>0)do{if(t[i]!==e[i])return!1}while(++i<n);return!0}var re={fromIterable:t=>ae(function*(t){let e,i,n,r,a=!1,s=[],l=0;({cmd:n,size:r}=yield null);let o=Vt(t)[Symbol.iterator]();try{do{if(({done:e,value:i}=isNaN(r-l)?o.next(void 0):o.next(r-l)),!e&&i.byteLength>0&&(s.push(i),l+=i.byteLength),e||r<=l)do{({cmd:n,size:r}=yield"peek"===n?wt(s,r)[0]:([i,s,l]=wt(s,r),i))}while(r<l)}while(!e)}catch(_){(a=!0)&&"function"===typeof o.throw&&o.throw(_)}finally{!1===a&&"function"===typeof o.return&&o.return()}}(t)),fromAsyncIterable:t=>ae(function(t){return se.apply(this,arguments)}(t)),fromDOMStream:t=>ae(function(t){return le.apply(this,arguments)}(t)),fromNodeStream:t=>ae(function(t){return ce.apply(this,arguments)}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}};const ae=t=>(t.next(),t);function se(){return(se=A((function*(t){let e,i,n,r,a=!1,s=[],l=0;({cmd:n,size:r}=yield null);let o=Qt(t)[Symbol.asyncIterator]();try{do{if(({done:e,value:i}=isNaN(r-l)?yield P(o.next(void 0)):yield P(o.next(r-l))),!e&&i.byteLength>0&&(s.push(i),l+=i.byteLength),e||r<=l)do{({cmd:n,size:r}=yield"peek"===n?wt(s,r)[0]:([i,s,l]=wt(s,r),i))}while(r<l)}while(!e)}catch(_){(a=!0)&&"function"===typeof o.throw&&(yield P(o.throw(_)))}finally{!1===a&&"function"===typeof o.return&&(yield P(o.return()))}}))).apply(this,arguments)}function le(){return(le=A((function*(t){let e,i,n,r=!1,a=!1,s=[],l=0;({cmd:i,size:n}=yield null);let o=new oe(t);try{do{if(({done:r,value:e}=isNaN(n-l)?yield P(o.read(void 0)):yield P(o.read(n-l))),!r&&e.byteLength>0&&(s.push(It(e)),l+=e.byteLength),r||n<=l)do{({cmd:i,size:n}=yield"peek"===i?wt(s,n)[0]:([e,s,l]=wt(s,n),e))}while(n<l)}while(!r)}catch(_){(a=!0)&&(yield P(o.cancel(_)))}finally{!1===a?yield P(o.cancel()):t.locked&&o.releaseLock()}}))).apply(this,arguments)}class oe{constructor(t){this.source=t,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch(e){this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}async cancel(t){const{reader:e,source:i}=this;e&&await e.cancel(t).catch(()=>{}),i&&i.locked&&this.releaseLock()}async read(t){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=this.supportsBYOB&&"number"===typeof t?await this.readFromBYOBReader(t):await this.getDefaultReader().read();return!e.done&&(e.value=It(e)),e}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch(()=>{})),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch(()=>{})),this.reader=this.byobReader}async readFromBYOBReader(t){return await async function t(e,i,n,r){if(n>=r)return{done:!1,value:new Uint8Array(i,0,r)};const{done:a,value:s}=await e.read(new Uint8Array(i,n,r-n));if((n+=s.byteLength)<r&&!a)return await t(e,s.buffer,n,r);return{done:a,value:new Uint8Array(s.buffer,0,n)}}(this.getBYOBReader(),new ArrayBuffer(t),0,t)}}const _e=(t,e)=>{let i,n=t=>i([e,t]);return[e,n,new Promise(r=>(i=r)&&t.once(e,n))]};function ce(){return(ce=A((function*(t){let e,i,n,r=[],a="error",s=!1,l=null,o=0,_=[];if(({cmd:e,size:i}=yield null),t.isTTY)return yield new Uint8Array(0);try{r[0]=_e(t,"end"),r[1]=_e(t,"error");do{if(r[2]=_e(t,"readable"),[a,l]=yield P(Promise.race(r.map(t=>t[2]))),"error"===a)break;if((s="end"===a)||(isFinite(i-o)?(n=It(t.read(i-o)),n.byteLength<i-o&&(n=It(t.read(void 0)))):n=It(t.read(void 0)),n.byteLength>0&&(_.push(n),o+=n.byteLength)),s||i<=o)do{({cmd:e,size:i}=yield"peek"===e?wt(_,i)[0]:([n,_,o]=wt(_,i),n))}while(i<o)}while(!s)}finally{yield P(function(e,i){return n=_=null,new Promise(async(n,r)=>{for(const[i,s]of e)t.off(i,s);try{const e=t.destroy;e&&e.call(t,i),i=void 0}catch(a){i=a||i}finally{null!=i?r(i):n()}})}(r,"error"===a?l:null))}}))).apply(this,arguments)}var ue,he,pe,de,fe,ve=i(0);class me{}de=ue||(ue={}),pe=de.apache||(de.apache={}),function(t){let e;!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4"}(e=t.MetadataVersion||(t.MetadataVersion={}))}((he=pe.arrow||(pe.arrow={})).flatbuf||(he.flatbuf={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(e=t.UnionMode||(t.UnionMode={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(e=t.Precision||(t.Precision={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(e=t.DateUnit||(t.DateUnit={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(e=t.TimeUnit||(t.TimeUnit={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME"}(e=t.IntervalUnit||(t.IntervalUnit={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(e=t.Type||(t.Type={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(e=t.Endianness||(t.Endianness={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return e.startNull(t),e.endNull(t)}}t.Null=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return e.startStruct_(t),e.endStruct_(t)}}t.Struct_=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return e.startList(t),e.endList(t)}}t.List=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeList(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startLargeList(t){t.startObject(0)}static endLargeList(t){return t.endObject()}static createLargeList(t){return e.startLargeList(t),e.endLargeList(t)}}t.LargeList=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}listSize(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,i){return e.startFixedSizeList(t),e.addListSize(t,i),e.endFixedSizeList(t)}}t.FixedSizeList=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){let t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,i){return e.startMap(t),e.addKeysSorted(t,i),e.endMap(t)}}t.Map=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.UnionMode.Sparse}typeIds(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.UnionMode.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,n){return i.startUnion(t),i.addMode(t,e),i.addTypeIds(t,n),i.endUnion(t)}}e.Union=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){let t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,i,n){return e.startInt(t),e.addBitWidth(t,i),e.addIsSigned(t,n),e.endInt(t)}}t.Int=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.Precision.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.Precision.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return i.startFloatingPoint(t),i.addPrecision(t,e),i.endFloatingPoint(t)}}e.FloatingPoint=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return e.startUtf8(t),e.endUtf8(t)}}t.Utf8=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return e.startBinary(t),e.endBinary(t)}}t.Binary=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeUtf8(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return e.startLargeUtf8(t),e.endLargeUtf8(t)}}t.LargeUtf8=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeBinary(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return e.startLargeBinary(t),e.endLargeBinary(t)}}t.LargeBinary=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,i){return e.startFixedSizeBinary(t),e.addByteWidth(t,i),e.endFixedSizeBinary(t)}}t.FixedSizeBinary=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return e.startBool(t),e.endBool(t)}}t.Bool=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}static startDecimal(t){t.startObject(2)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static endDecimal(t){return t.endObject()}static createDecimal(t,i,n){return e.startDecimal(t),e.addPrecision(t,i),e.addScale(t,n),e.endDecimal(t)}}t.Decimal=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.DateUnit.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.DateUnit.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return i.startDate(t),i.addUnit(t,e),i.endDate(t)}}e.Date=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.TimeUnit.MILLISECOND}bitWidth(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,n){return i.startTime(t),i.addUnit(t,e),i.addBitWidth(t,n),i.endTime(t)}}e.Time=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.TimeUnit.SECOND}timezone(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.TimeUnit.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,n){return i.startTimestamp(t),i.addUnit(t,e),i.addTimezone(t,n),i.endTimestamp(t)}}e.Timestamp=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return i.startInterval(t),i.addUnit(t,e),i.endInterval(t)}}e.Interval=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDuration(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.TimeUnit.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,e){return i.startDuration(t),i.addUnit(t,e),i.endDuration(t)}}e.Duration=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){class e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)}key(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,i,n){return e.startKeyValue(t),e.addKey(t,i),e.addValue(t,n),e.endKeyValue(t)}}t.KeyValue=e}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new t.apache.arrow.flatbuf.Int).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isOrdered(){let t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryEncoding(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryEncoding(t){return t.endObject()}static createDictionaryEncoding(t,e,n,r){return i.startDictionaryEncoding(t),i.addId(t,e),i.addIndexType(t,n),i.addIsOrdered(t,r),i.endDictionaryEncoding(t)}}e.DictionaryEncoding=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){let t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):t.apache.arrow.flatbuf.Type.NONE}type(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new t.apache.arrow.flatbuf.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}children(e,i){let n=this.bb.__offset(this.bb_pos,14);return n?(i||new t.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}childrenLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,16);return n?(i||new t.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(e,i){e.addFieldInt8(2,i,t.apache.arrow.flatbuf.Type.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}static createField(t,e,n,r,a,s,l,o){return i.startField(t),i.addName(t,e),i.addNullable(t,n),i.addTypeType(t,r),i.addType(t,a),i.addDictionary(t,s),i.addChildren(t,l),i.addCustomMetadata(t,o),i.endField(t)}}e.Field=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){t.Buffer=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):t.apache.arrow.flatbuf.Endianness.Little}fields(e,i){let n=this.bb.__offset(this.bb_pos,6);return n?(i||new t.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}fieldsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,8);return n?(i||new t.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(3)}static addEndianness(e,i){e.addFieldInt16(0,i,t.apache.arrow.flatbuf.Endianness.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static createSchema(t,e,n,r){return i.startSchema(t),i.addEndianness(t,e),i.addFields(t,n),i.addCustomMetadata(t,r),i.endSchema(t)}}e.Schema=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ue||(ue={})),function(t){!function(t){!function(t){!function(t){t.Schema=ue.apache.arrow.flatbuf.Schema}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(fe||(fe={})),function(t){!function(t){!function(t){!function(t){let e;!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(e=t.MessageHeader||(t.MessageHeader={}))}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(fe||(fe={})),function(t){!function(t){!function(t){!function(t){t.FieldNode=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(fe||(fe={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}length(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(e,i){let n=this.bb.__offset(this.bb_pos,6);return n?(i||new t.apache.arrow.flatbuf.FieldNode).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null}nodesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new ue.apache.arrow.flatbuf.Buffer).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startRecordBatch(t){t.startObject(3)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static endRecordBatch(t){return t.endObject()}static createRecordBatch(t,e,n,r){return i.startRecordBatch(t),i.addLength(t,e),i.addNodes(t,n),i.addBuffers(t,r),i.endRecordBatch(t)}}e.RecordBatch=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(fe||(fe={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}id(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new t.apache.arrow.flatbuf.RecordBatch).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isDelta(){let t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}static createDictionaryBatch(t,e,n,r){return i.startDictionaryBatch(t),i.addId(t,e),i.addData(t,n),i.addIsDelta(t,r),i.endDictionaryBatch(t)}}e.DictionaryBatch=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(fe||(fe={})),function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ue.apache.arrow.flatbuf.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):t.apache.arrow.flatbuf.MessageHeader.NONE}header(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new ue.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,ue.apache.arrow.flatbuf.MetadataVersion.V1)}static addHeaderType(e,i){e.addFieldInt8(1,i,t.apache.arrow.flatbuf.MessageHeader.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static createMessage(t,e,n,r,a,s){return i.startMessage(t),i.addVersion(t,e),i.addHeaderType(t,n),i.addHeader(t,r),i.addBodyLength(t,a),i.addCustomMetadata(t,s),i.endMessage(t)}}e.Message=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(fe||(fe={}));ue.apache.arrow.flatbuf.Type;var ge,be,ye=ue.apache.arrow.flatbuf.DateUnit,we=ue.apache.arrow.flatbuf.TimeUnit,Se=ue.apache.arrow.flatbuf.Precision,xe=ue.apache.arrow.flatbuf.UnionMode,Te=ue.apache.arrow.flatbuf.IntervalUnit,Ce=fe.apache.arrow.flatbuf.MessageHeader,ke=ue.apache.arrow.flatbuf.MetadataVersion;function Ie(t,e,i,n){return 0!==(i&1<<n)}function Me(t,e,i,n){return(i&1<<n)>>n}function Ee(t,e,i){return i?!!(t[e>>3]|=1<<e%8)||!0:!(t[e>>3]&=~(1<<e%8))&&!1}function Pe(t,e,i){const n=i.byteLength+7&-8;if(t>0||i.byteLength<n){const r=new Uint8Array(n);return r.set(t%8===0?i.subarray(t>>3):Be(Ae(i,t,e,null,Ie)).subarray(0,n)),r}return i}function Be(t){let e=[],i=0,n=0,r=0;for(const s of t)s&&(r|=1<<n),8===++n&&(e[i++]=r,r=n=0);(0===i||n>0)&&(e[i++]=r);let a=new Uint8Array(e.length+7&-8);return a.set(e),a}function*Ae(t,e,i,n,r){let a=e%8,s=e>>3,l=0,o=i;for(;o>0;a=0){let e=t[s++];do{yield r(n,l++,e,a)}while(--o>0&&++a<8)}}function Oe(t,e,i){if(i-e<=0)return 0;if(i-e<8){let n=0;for(const r of Ae(t,e,i-e,t,Me))n+=r;return n}const n=i>>3<<3,r=e+(e%8===0?0:8-e%8);return Oe(t,e,r)+Oe(t,n,i)+De(t,r>>3,n-r>>3)}function De(t,e,i){let n=0,r=0|e;const a=new DataView(t.buffer,t.byteOffset,t.byteLength),s=void 0===i?t.byteLength:r+i;for(;s-r>=4;)n+=Re(a.getUint32(r)),r+=4;for(;s-r>=2;)n+=Re(a.getUint16(r)),r+=2;for(;s-r>=1;)n+=Re(a.getUint8(r)),r+=1;return n}function Re(t){let e=0|t;return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(ge||(ge={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(be||(be={}));class Le{visitMany(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.map((t,e)=>this.visit(t,...i.map(t=>t[e])))}visit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null,r=ge.NONE;e instanceof Bi||e instanceof me?r=ze(e.type):e instanceof Xe?r=ze(e):"number"!==typeof(r=e)&&(r=ge[e]);switch(r){case ge.Null:n=t.visitNull;break;case ge.Bool:n=t.visitBool;break;case ge.Int:n=t.visitInt;break;case ge.Int8:n=t.visitInt8||t.visitInt;break;case ge.Int16:n=t.visitInt16||t.visitInt;break;case ge.Int32:n=t.visitInt32||t.visitInt;break;case ge.Int64:n=t.visitInt64||t.visitInt;break;case ge.Uint8:n=t.visitUint8||t.visitInt;break;case ge.Uint16:n=t.visitUint16||t.visitInt;break;case ge.Uint32:n=t.visitUint32||t.visitInt;break;case ge.Uint64:n=t.visitUint64||t.visitInt;break;case ge.Float:n=t.visitFloat;break;case ge.Float16:n=t.visitFloat16||t.visitFloat;break;case ge.Float32:n=t.visitFloat32||t.visitFloat;break;case ge.Float64:n=t.visitFloat64||t.visitFloat;break;case ge.Utf8:n=t.visitUtf8;break;case ge.Binary:n=t.visitBinary;break;case ge.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case ge.Date:n=t.visitDate;break;case ge.DateDay:n=t.visitDateDay||t.visitDate;break;case ge.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case ge.Timestamp:n=t.visitTimestamp;break;case ge.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case ge.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case ge.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case ge.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case ge.Time:n=t.visitTime;break;case ge.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case ge.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case ge.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case ge.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case ge.Decimal:n=t.visitDecimal;break;case ge.List:n=t.visitList;break;case ge.Struct:n=t.visitStruct;break;case ge.Union:n=t.visitUnion;break;case ge.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case ge.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case ge.Dictionary:n=t.visitDictionary;break;case ge.Interval:n=t.visitInterval;break;case ge.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case ge.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case ge.FixedSizeList:n=t.visitFixedSizeList;break;case ge.Map:n=t.visitMap}if("function"===typeof n)return n;if(!i)return()=>null;throw new Error("Unrecognized type '".concat(ge[r],"'"))}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function ze(t){switch(t.typeId){case ge.Null:return ge.Null;case ge.Int:const{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?ge.Int8:ge.Uint8;case 16:return i?ge.Int16:ge.Uint16;case 32:return i?ge.Int32:ge.Uint32;case 64:return i?ge.Int64:ge.Uint64}return ge.Int;case ge.Float:switch(t.precision){case Se.HALF:return ge.Float16;case Se.SINGLE:return ge.Float32;case Se.DOUBLE:return ge.Float64}return ge.Float;case ge.Binary:return ge.Binary;case ge.Utf8:return ge.Utf8;case ge.Bool:return ge.Bool;case ge.Decimal:return ge.Decimal;case ge.Time:switch(t.unit){case we.SECOND:return ge.TimeSecond;case we.MILLISECOND:return ge.TimeMillisecond;case we.MICROSECOND:return ge.TimeMicrosecond;case we.NANOSECOND:return ge.TimeNanosecond}return ge.Time;case ge.Timestamp:switch(t.unit){case we.SECOND:return ge.TimestampSecond;case we.MILLISECOND:return ge.TimestampMillisecond;case we.MICROSECOND:return ge.TimestampMicrosecond;case we.NANOSECOND:return ge.TimestampNanosecond}return ge.Timestamp;case ge.Date:switch(t.unit){case ye.DAY:return ge.DateDay;case ye.MILLISECOND:return ge.DateMillisecond}return ge.Date;case ge.Interval:switch(t.unit){case Te.DAY_TIME:return ge.IntervalDayTime;case Te.YEAR_MONTH:return ge.IntervalYearMonth}return ge.Interval;case ge.Map:return ge.Map;case ge.List:return ge.List;case ge.Struct:return ge.Struct;case ge.Union:switch(t.mode){case xe.Dense:return ge.DenseUnion;case xe.Sparse:return ge.SparseUnion}return ge.Union;case ge.FixedSizeBinary:return ge.FixedSizeBinary;case ge.FixedSizeList:return ge.FixedSizeList;case ge.Dictionary:return ge.Dictionary}throw new Error("Unrecognized type '".concat(ge[t.typeId],"'"))}Le.prototype.visitInt8=null,Le.prototype.visitInt16=null,Le.prototype.visitInt32=null,Le.prototype.visitInt64=null,Le.prototype.visitUint8=null,Le.prototype.visitUint16=null,Le.prototype.visitUint32=null,Le.prototype.visitUint64=null,Le.prototype.visitFloat16=null,Le.prototype.visitFloat32=null,Le.prototype.visitFloat64=null,Le.prototype.visitDateDay=null,Le.prototype.visitDateMillisecond=null,Le.prototype.visitTimestampSecond=null,Le.prototype.visitTimestampMillisecond=null,Le.prototype.visitTimestampMicrosecond=null,Le.prototype.visitTimestampNanosecond=null,Le.prototype.visitTimeSecond=null,Le.prototype.visitTimeMillisecond=null,Le.prototype.visitTimeMicrosecond=null,Le.prototype.visitTimeNanosecond=null,Le.prototype.visitDenseUnion=null,Le.prototype.visitSparseUnion=null,Le.prototype.visitIntervalDayTime=null,Le.prototype.visitIntervalYearMonth=null;class Fe extends Le{compareSchemas(t,e){return t===e||e instanceof t.constructor&&qe.compareFields(t.fields,e.fields)}compareFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((t,i)=>qe.compareField(t,e[i]))}compareField(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&qe.visit(t.type,e.type)}}function Ve(t,e){return e instanceof t.constructor}function Ne(t,e){return t===e||Ve(t,e)}function Ue(t,e){return t===e||Ve(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function We(t,e){return t===e||Ve(t,e)&&t.precision===e.precision}function je(t,e){return t===e||Ve(t,e)&&t.unit===e.unit}function He(t,e){return t===e||Ve(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function Ye(t,e){return t===e||Ve(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function $e(t,e){return t===e||Ve(t,e)&&t.mode===e.mode&&t.typeIds.every((t,i)=>t===e.typeIds[i])&&qe.compareFields(t.children,e.children)}function Ke(t,e){return t===e||Ve(t,e)&&t.unit===e.unit}Fe.prototype.visitNull=Ne,Fe.prototype.visitBool=Ne,Fe.prototype.visitInt=Ue,Fe.prototype.visitInt8=Ue,Fe.prototype.visitInt16=Ue,Fe.prototype.visitInt32=Ue,Fe.prototype.visitInt64=Ue,Fe.prototype.visitUint8=Ue,Fe.prototype.visitUint16=Ue,Fe.prototype.visitUint32=Ue,Fe.prototype.visitUint64=Ue,Fe.prototype.visitFloat=We,Fe.prototype.visitFloat16=We,Fe.prototype.visitFloat32=We,Fe.prototype.visitFloat64=We,Fe.prototype.visitUtf8=Ne,Fe.prototype.visitBinary=Ne,Fe.prototype.visitFixedSizeBinary=function(t,e){return t===e||Ve(t,e)&&t.byteWidth===e.byteWidth},Fe.prototype.visitDate=je,Fe.prototype.visitDateDay=je,Fe.prototype.visitDateMillisecond=je,Fe.prototype.visitTimestamp=He,Fe.prototype.visitTimestampSecond=He,Fe.prototype.visitTimestampMillisecond=He,Fe.prototype.visitTimestampMicrosecond=He,Fe.prototype.visitTimestampNanosecond=He,Fe.prototype.visitTime=Ye,Fe.prototype.visitTimeSecond=Ye,Fe.prototype.visitTimeMillisecond=Ye,Fe.prototype.visitTimeMicrosecond=Ye,Fe.prototype.visitTimeNanosecond=Ye,Fe.prototype.visitDecimal=Ne,Fe.prototype.visitList=function(t,e){return t===e||Ve(t,e)&&t.children.length===e.children.length&&qe.compareFields(t.children,e.children)},Fe.prototype.visitStruct=function(t,e){return t===e||Ve(t,e)&&t.children.length===e.children.length&&qe.compareFields(t.children,e.children)},Fe.prototype.visitUnion=$e,Fe.prototype.visitDenseUnion=$e,Fe.prototype.visitSparseUnion=$e,Fe.prototype.visitDictionary=function(t,e){return t===e||Ve(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&qe.visit(t.indices,e.indices)&&qe.visit(t.dictionary,e.dictionary)},Fe.prototype.visitInterval=Ke,Fe.prototype.visitIntervalDayTime=Ke,Fe.prototype.visitIntervalYearMonth=Ke,Fe.prototype.visitFixedSizeList=function(t,e){return t===e||Ve(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&qe.compareFields(t.children,e.children)},Fe.prototype.visitMap=function(t,e){return t===e||Ve(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&qe.compareFields(t.children,e.children)};const qe=new Fe;class Xe{static isNull(t){return t&&t.typeId===ge.Null}static isInt(t){return t&&t.typeId===ge.Int}static isFloat(t){return t&&t.typeId===ge.Float}static isBinary(t){return t&&t.typeId===ge.Binary}static isUtf8(t){return t&&t.typeId===ge.Utf8}static isBool(t){return t&&t.typeId===ge.Bool}static isDecimal(t){return t&&t.typeId===ge.Decimal}static isDate(t){return t&&t.typeId===ge.Date}static isTime(t){return t&&t.typeId===ge.Time}static isTimestamp(t){return t&&t.typeId===ge.Timestamp}static isInterval(t){return t&&t.typeId===ge.Interval}static isList(t){return t&&t.typeId===ge.List}static isStruct(t){return t&&t.typeId===ge.Struct}static isUnion(t){return t&&t.typeId===ge.Union}static isFixedSizeBinary(t){return t&&t.typeId===ge.FixedSizeBinary}static isFixedSizeList(t){return t&&t.typeId===ge.FixedSizeList}static isMap(t){return t&&t.typeId===ge.Map}static isDictionary(t){return t&&t.typeId===ge.Dictionary}get typeId(){return ge.NONE}compareTo(t){return qe.visit(this,t)}}var Qe;Xe[Symbol.toStringTag]=((Qe=Xe.prototype).children=null,Qe.ArrayType=Array,Qe[Symbol.toStringTag]="DataType");class Ge extends Xe{toString(){return"Null"}get typeId(){return ge.Null}}Ge[Symbol.toStringTag]=(t=>t[Symbol.toStringTag]="Null")(Ge.prototype);class Ze extends Xe{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return ge.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}Ze[Symbol.toStringTag]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Ze.prototype);class Je extends Ze{constructor(){super(!0,8)}}class ti extends Ze{constructor(){super(!0,16)}}class ei extends Ze{constructor(){super(!0,32)}}class ii extends Ze{constructor(){super(!0,64)}}class ni extends Ze{constructor(){super(!1,8)}}class ri extends Ze{constructor(){super(!1,16)}}class ai extends Ze{constructor(){super(!1,32)}}class si extends Ze{constructor(){super(!1,64)}}Object.defineProperty(Je.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(ti.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(ei.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(ii.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(ni.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(ri.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(ai.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(si.prototype,"ArrayType",{value:Uint32Array});class li extends Xe{constructor(t){super(),this.precision=t}get typeId(){return ge.Float}get ArrayType(){switch(this.precision){case Se.HALF:return Uint16Array;case Se.SINGLE:return Float32Array;case Se.DOUBLE:return Float64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"Float".concat(this.precision<<5||16)}}li[Symbol.toStringTag]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(li.prototype);class oi extends li{constructor(){super(Se.HALF)}}class _i extends li{constructor(){super(Se.SINGLE)}}class ci extends li{constructor(){super(Se.DOUBLE)}}Object.defineProperty(oi.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(_i.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(ci.prototype,"ArrayType",{value:Float64Array});class ui extends Xe{constructor(){super()}get typeId(){return ge.Binary}toString(){return"Binary"}}ui[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(ui.prototype);class hi extends Xe{constructor(){super()}get typeId(){return ge.Utf8}toString(){return"Utf8"}}hi[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(hi.prototype);class pi extends Xe{constructor(){super()}get typeId(){return ge.Bool}toString(){return"Bool"}}pi[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(pi.prototype);class di extends Xe{constructor(t,e){super(),this.scale=t,this.precision=e}get typeId(){return ge.Decimal}toString(){return"Decimal[".concat(this.precision,"e").concat(this.scale>0?"+":"").concat(this.scale,"]")}}di[Symbol.toStringTag]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(di.prototype);class fi extends Xe{constructor(t){super(),this.unit=t}get typeId(){return ge.Date}toString(){return"Date".concat(32*(this.unit+1),"<").concat(ye[this.unit],">")}}fi[Symbol.toStringTag]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(fi.prototype);class vi extends fi{constructor(){super(ye.DAY)}}class mi extends fi{constructor(){super(ye.MILLISECOND)}}class gi extends Xe{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return ge.Time}toString(){return"Time".concat(this.bitWidth,"<").concat(we[this.unit],">")}}gi[Symbol.toStringTag]=(t=>(t.unit=null,t.bitWidth=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Time"))(gi.prototype);class bi extends Xe{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return ge.Timestamp}toString(){return"Timestamp<".concat(we[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}bi[Symbol.toStringTag]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(bi.prototype);class yi extends Xe{constructor(t){super(),this.unit=t}get typeId(){return ge.Interval}toString(){return"Interval<".concat(Te[this.unit],">")}}yi[Symbol.toStringTag]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(yi.prototype);class wi extends Xe{constructor(t){super(),this.children=[t]}get typeId(){return ge.List}toString(){return"List<".concat(this.valueType,">")}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}wi[Symbol.toStringTag]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(wi.prototype);class Si extends Xe{constructor(t){super(),this.children=t}get typeId(){return ge.Struct}toString(){return"Struct<{".concat(this.children.map(t=>"".concat(t.name,":").concat(t.type)).join(", "),"}>")}}Si[Symbol.toStringTag]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Si.prototype);class xi extends Xe{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((t,e,i)=>(t[e]=i)&&t||t,Object.create(null))}get typeId(){return ge.Union}toString(){return"".concat(this[Symbol.toStringTag],"<").concat(this.children.map(t=>"".concat(t.type)).join(" | "),">")}}xi[Symbol.toStringTag]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(xi.prototype);class Ti extends Xe{constructor(t){super(),this.byteWidth=t}get typeId(){return ge.FixedSizeBinary}toString(){return"FixedSizeBinary[".concat(this.byteWidth,"]")}}Ti[Symbol.toStringTag]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Ti.prototype);class Ci extends Xe{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return ge.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}Ci[Symbol.toStringTag]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Ci.prototype);class ki extends Xe{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return ge.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return"Map<{".concat(this.children[0].type.children.map(t=>"".concat(t.name,":").concat(t.type)).join(", "),"}>")}}ki[Symbol.toStringTag]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(ki.prototype);const Ii=(Mi=-1,()=>++Mi);var Mi;class Ei extends Xe{constructor(t,e,i,n){super(),this.indices=e,this.dictionary=t,this.isOrdered=n||!1,this.id=null==i?Ii():"number"===typeof i?i:i.low}get typeId(){return ge.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return"Dictionary<".concat(this.indices,", ").concat(this.dictionary,">")}}function Pi(t){let e=t;switch(t.typeId){case ge.Decimal:return 4;case ge.Timestamp:return 2;case ge.Date:case ge.Interval:return 1+e.unit;case ge.Int:case ge.Time:return+(e.bitWidth>32)+1;case ge.FixedSizeList:return e.listSize;case ge.FixedSizeBinary:return e.byteWidth;default:return 1}}Ei[Symbol.toStringTag]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(Ei.prototype);class Bi{constructor(t,e,i,n,r,a,s){let l;this.type=t,this.dictionary=s,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),this.childData=(a||[]).map(t=>t instanceof Bi?t:t.data),r instanceof Bi?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=Pi(t),r&&((l=r[0])&&(this.valueOffsets=l),(l=r[1])&&(this.values=l),(l=r[2])&&(this.nullBitmap=l),(l=r[3])&&(this.typeIds=l)))}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0,{valueOffsets:e,values:i,nullBitmap:n,typeIds:r}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),this.childData.reduce((t,e)=>t+e.byteLength,t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Oe(t,this.offset,this.offset+this.length)),e}clone(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.childData;return new Bi(t,e,i,n,r,a,this.dictionary)}slice(t,e){const{stride:i,typeId:n,childData:r}=this,a=+(0===this._nullCount)-1,s=16===n?i:1,l=this._sliceBuffers(t,e,i,n);return this.clone(this.type,this.offset+t,e,a,l,!r.length||this.valueOffsets?r:this._sliceChildren(r,s*t,s*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===ge.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:i}=this,n=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);n[e>>3]=(1<<e-(-8&e))-1,i>0&&n.set(Pe(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[be.VALIDITY]=n,this.clone(this.type,0,t,i+(t-e),r)}_sliceBuffers(t,e,i,n){let r,{buffers:a}=this;return(r=a[be.TYPE])&&(a[be.TYPE]=r.subarray(t,t+e)),(r=a[be.OFFSET])&&(a[be.OFFSET]=r.subarray(t,t+e+1))||(r=a[be.DATA])&&(a[be.DATA]=6===n?r:r.subarray(i*t,i*(t+e))),a}_sliceChildren(t,e,i){return t.map(t=>t.slice(e,i))}static new(t,e,i,n,r,a,s){switch(r instanceof Bi?r=r.buffers:r||(r=[]),t.typeId){case ge.Null:return Bi.Null(t,e,i);case ge.Int:return Bi.Int(t,e,i,n||0,r[be.VALIDITY],r[be.DATA]||[]);case ge.Dictionary:return Bi.Dictionary(t,e,i,n||0,r[be.VALIDITY],r[be.DATA]||[],s);case ge.Float:return Bi.Float(t,e,i,n||0,r[be.VALIDITY],r[be.DATA]||[]);case ge.Bool:return Bi.Bool(t,e,i,n||0,r[be.VALIDITY],r[be.DATA]||[]);case ge.Decimal:return Bi.Decimal(t,e,i,n||0,r[be.VALIDITY],r[be.DATA]||[]);case ge.Date:return Bi.Date(t,e,i,n||0,r[be.VALIDITY],r[be.DATA]||[]);case ge.Time:return Bi.Time(t,e,i,n||0,r[be.VALIDITY],r[be.DATA]||[]);case ge.Timestamp:return Bi.Timestamp(t,e,i,n||0,r[be.VALIDITY],r[be.DATA]||[]);case ge.Interval:return Bi.Interval(t,e,i,n||0,r[be.VALIDITY],r[be.DATA]||[]);case ge.FixedSizeBinary:return Bi.FixedSizeBinary(t,e,i,n||0,r[be.VALIDITY],r[be.DATA]||[]);case ge.Binary:return Bi.Binary(t,e,i,n||0,r[be.VALIDITY],r[be.OFFSET]||[],r[be.DATA]||[]);case ge.Utf8:return Bi.Utf8(t,e,i,n||0,r[be.VALIDITY],r[be.OFFSET]||[],r[be.DATA]||[]);case ge.List:return Bi.List(t,e,i,n||0,r[be.VALIDITY],r[be.OFFSET]||[],(a||[])[0]);case ge.FixedSizeList:return Bi.FixedSizeList(t,e,i,n||0,r[be.VALIDITY],(a||[])[0]);case ge.Struct:return Bi.Struct(t,e,i,n||0,r[be.VALIDITY],a||[]);case ge.Map:return Bi.Map(t,e,i,n||0,r[be.VALIDITY],r[be.OFFSET]||[],(a||[])[0]);case ge.Union:return Bi.Union(t,e,i,n||0,r[be.VALIDITY],r[be.TYPE]||[],r[be.OFFSET]||a,a)}throw new Error("Unrecognized typeId ".concat(t.typeId))}static Null(t,e,i){return new Bi(t,e,i,0)}static Int(t,e,i,n,r,a){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,a),It(r)])}static Dictionary(t,e,i,n,r,a,s){return new Bi(t,e,i,n,[void 0,St(t.indices.ArrayType,a),It(r)],[],s)}static Float(t,e,i,n,r,a){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,a),It(r)])}static Bool(t,e,i,n,r,a){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,a),It(r)])}static Decimal(t,e,i,n,r,a){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,a),It(r)])}static Date(t,e,i,n,r,a){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,a),It(r)])}static Time(t,e,i,n,r,a){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,a),It(r)])}static Timestamp(t,e,i,n,r,a){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,a),It(r)])}static Interval(t,e,i,n,r,a){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,a),It(r)])}static FixedSizeBinary(t,e,i,n,r,a){return new Bi(t,e,i,n,[void 0,St(t.ArrayType,a),It(r)])}static Binary(t,e,i,n,r,a,s){return new Bi(t,e,i,n,[Ct(a),It(s),It(r)])}static Utf8(t,e,i,n,r,a,s){return new Bi(t,e,i,n,[Ct(a),It(s),It(r)])}static List(t,e,i,n,r,a,s){return new Bi(t,e,i,n,[Ct(a),void 0,It(r)],[s])}static FixedSizeList(t,e,i,n,r,a){return new Bi(t,e,i,n,[void 0,void 0,It(r)],[a])}static Struct(t,e,i,n,r,a){return new Bi(t,e,i,n,[void 0,void 0,It(r)],a)}static Map(t,e,i,n,r,a,s){return new Bi(t,e,i,n,[Ct(a),void 0,It(r)],[s])}static Union(t,e,i,n,r,a,s,l){const o=[void 0,void 0,It(r),St(t.ArrayType,a)];return t.mode===xe.Sparse?new Bi(t,e,i,n,o,s):(o[be.OFFSET]=Ct(s),new Bi(t,e,i,n,o,l))}}Bi.prototype.childData=Object.freeze([]);function Ai(t){if(null===t)return"null";if(void 0===t)return"undefined";switch(typeof t){case"number":case"bigint":return"".concat(t);case"string":return'"'.concat(t,'"')}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?"[".concat(t,"]"):JSON.stringify(t)}function Oi(t){if(!t||t.length<=0)return function(t){return!0};let e="",i=t.filter(t=>t===t);return i.length>0&&(e="\n    switch (x) {".concat(i.map(t=>"\n        case ".concat(function(t){if("bigint"!==typeof t)return Ai(t);if(Z)return"".concat(Ai(t),"n");return'"'.concat(Ai(t),'"')}(t),":")).join(""),"\n            return false;\n    }")),t.length!==i.length&&(e="if (x !== x) return false;\n".concat(e)),new Function("x","".concat(e,"\nreturn true;"))}const Di=(t,e)=>(t*e+63&-64||64)/e;class Ri{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.buffer=t,this.stride=e,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=t.length/e|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,e){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const e=this.stride,i=this.length*e,n=this.buffer.length;i>=n&&this._resize(Di(0===n?1*i:2*i,this.BYTES_PER_ELEMENT))}return this}flush(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;t=Di(t*this.stride,this.BYTES_PER_ELEMENT);const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.length>=e?t.subarray(0,e):yt(new t.constructor(e),t,0)}(this.buffer,t);return this.clear(),e}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=yt(new this.ArrayType(t),this.buffer)}}Ri.prototype.offset=0;class Li extends Ri{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,e){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=e,this}}class zi extends Li{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array(0),1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,e){const{buffer:i}=this.reserve(t-this.length+1),n=t>>3,r=t%8,a=i[n]>>r&1;return e?0===a&&(i[n]|=1<<r,++this.numValid):1===a&&(i[n]&=~(1<<r),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Fi extends Li{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Int32Array(1),1)}append(t){return this.set(this.length-1,t)}set(t,e){const i=this.length-1,n=this.reserve(t-i+1).buffer;return i<t++&&n.fill(n[i],i,t),n[t]=n[t-1]+e,this}flush(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length-1;return t>this.length&&this.set(t-1,0),super.flush(t+1)}}class Vi extends Ri{get ArrayType64(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?J:et)}set(t,e){switch(this.reserve(t-this.length+1),typeof e){case"bigint":this.buffer64[t]=e;break;case"number":this.buffer[t*this.stride]=e;break;default:this.buffer.set(e,t*this.stride)}return this}_resize(t){const e=super._resize(t),i=e.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return Z&&(this.buffer64=new this.ArrayType64(e.buffer,e.byteOffset,i)),e}}function Ni(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(Ni=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new Ni(t)}class Ui{constructor(t){let{type:e,nullValues:i}=t;this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=i,this.stride=Pi(e),this._nulls=new zi,i&&i.length>0&&(this._isValid=Oi(i))}static new(t){}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}static throughIterable(t){return function(t){const{queueingStrategy:e="count"}=t,{highWaterMark:i=("bytes"!==e?1e3:16384)}=t,n="bytes"!==e?"length":"byteLength";return function*(e){let r=0,a=Ui.new(t);for(const t of e)a.append(t)[n]>=i&&++r&&(yield a.toVector());(a.finish().length>0||0===r)&&(yield a.toVector())}}(t)}static throughAsyncIterable(t){return function(t){const{queueingStrategy:e="count"}=t,{highWaterMark:i=("bytes"!==e?1e3:16384)}=t,n="bytes"!==e?"length":"byteLength";return function(){var e=A((function*(e){let r=0,a=Ui.new(t);var s,l=!1,o=!1;try{for(var _,c=function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new Ni(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(e);l=!(_=yield P(c.next())).done;l=!1){const t=_.value;a.append(t)[n]>=i&&++r&&(yield a.toVector())}}catch(u){o=!0,s=u}finally{try{l&&null!=c.return&&(yield P(c.return()))}finally{if(o)throw s}}(a.finish().length>0||0===r)&&(yield a.toVector())}));return function(t){return e.apply(this,arguments)}}()}(t)}toVector(){return me.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),this._typeIds&&(t+=this._typeIds.byteLength),this.children.reduce((t,e)=>t+e.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((t,e)=>t+e.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,e){return this.setValid(t,this.isValid(e))&&this.setValue(t,e),this}setValue(t,e){this._setValue(this,t,e)}setValid(t,e){return this.length=this._nulls.set(t,+e).length,e}addChild(t){arguments.length>1&&void 0!==arguments[1]||"".concat(this.numChildren);throw new Error('Cannot append children to non-nested type "'.concat(this.type,'"'))}getChildAt(t){return this.children[t]||null}flush(){const t=[],e=this._values,i=this._offsets,n=this._typeIds,{length:r,nullCount:a}=this;n?(t[be.TYPE]=n.flush(r),i&&(t[be.OFFSET]=i.flush(r))):i?(e&&(t[be.DATA]=e.flush(i.last())),t[be.OFFSET]=i.flush(r)):e&&(t[be.DATA]=e.flush(r)),a>0&&(t[be.VALIDITY]=this._nulls.flush(r));const s=Bi.new(this.type,0,r,a,t,this.children.map(t=>t.flush()));return this.clear(),s}finish(){return this.finished=!0,this.children.forEach(t=>t.finish()),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach(t=>t.clear()),this}}Ui.prototype.length=1,Ui.prototype.stride=1,Ui.prototype.children=null,Ui.prototype.finished=!1,Ui.prototype.nullValues=null,Ui.prototype._isValid=()=>!0;class Wi extends Ui{constructor(t){super(t),this._values=new Li(new this.ArrayType(0),this.stride)}setValue(t,e){const i=this._values;return i.reserve(t-i.length+1),super.setValue(t,e)}}class ji extends Ui{constructor(t){super(t),this._pendingLength=0,this._offsets=new Fi}setValue(t,e){const i=this._pending||(this._pending=new Map),n=i.get(t);n&&(this._pendingLength-=n.length),this._pendingLength+=e.length,i.set(t,e)}setValid(t,e){return!!super.setValid(t,e)||((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,e=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,e),this}}class Hi extends Ui{constructor(t){super(t),this._values=new zi}setValue(t,e){this._values.set(t,+e)}}class Yi extends Ui{setValue(t,e){}setValid(t,e){return this.length=Math.max(t+1,this.length),e}}class $i extends Wi{}class Ki extends $i{}class qi extends $i{}class Xi extends Wi{}class Qi extends Ui{constructor(t){let{type:e,nullValues:i,dictionaryHashFunction:n}=t;super({type:new Ei(e.dictionary,e.indices,e.id,e.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Ui.new({type:this.type.indices,nullValues:i}),this.dictionary=Ui.new({type:this.type.dictionary,nullValues:null}),"function"===typeof n&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,e){const i=this.indices;return e=i.setValid(t,e),this.length=i.length,e}setValue(t,e){let i=this._keysToIndices,n=this.valueToKey(e),r=i[n];return void 0===r&&(i[n]=r=this._dictionaryOffset+this.dictionary.append(e).length-1),this.indices.setValue(t,r)}flush(){const t=this.type,e=this._dictionary,i=this.dictionary.toVector(),n=this.indices.flush().clone(t);return n.dictionary=e?e.concat(i):i,this.finished||(this._dictionaryOffset+=i.length),this._dictionary=n.dictionary,this.clear(),n}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return"string"===typeof t?t:"".concat(t)}}class Gi extends Wi{}const Zi=new Float64Array(1),Ji=new Uint32Array(Zi.buffer);function tn(t){let e=(31744&t)>>10,i=(1023&t)/1024,n=(-1)**((32768&t)>>15);switch(e){case 31:return n*(i?NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*2**(e-15)*(1+i)}function en(t){if(t!==t)return 32256;Zi[0]=t;let e=(2147483648&Ji[1])>>16&65535,i=2146435072&Ji[1],n=0;return i>=1089470464?Ji[0]>0?i=31744:(i=(2080374784&i)>>16,n=(1048575&Ji[1])>>10):i<=1056964608?(n=1048576+(1048575&Ji[1]),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=512+(1048575&Ji[1])>>10),e|i|65535&n}class nn extends Wi{}class rn extends nn{setValue(t,e){this._values.set(t,en(e))}}class an extends nn{setValue(t,e){this._values.set(t,e)}}class sn extends nn{setValue(t,e){this._values.set(t,e)}}const ln=Symbol.for("isArrowBigNum");function on(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return 0===i.length?Object.setPrototypeOf(St(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...i),this.constructor.prototype)}function _n(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return on.apply(this,e)}function cn(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return on.apply(this,e)}function un(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return on.apply(this,e)}function hn(t){let e,i,{buffer:n,byteOffset:r,length:a,signed:s}=t,l=new Int32Array(n,r,a),o=0,_=0,c=l.length;for(;_<c;)i=l[_++],e=l[_++],s||(e>>>=0),o+=(i>>>0)+e*_**32;return o}let pn,dn;function fn(t){let e="",i=new Uint32Array(2),n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),r=new Uint32Array((n=new Uint16Array(n).reverse()).buffer),a=-1,s=n.length-1;do{for(i[0]=n[a=0];a<s;)n[a++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+n[a];n[a]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e="".concat(i[0]).concat(e)}while(r[0]||r[1]||r[2]||r[3]);return e||"0"}on.prototype[ln]=!0,on.prototype.toJSON=function(){return'"'.concat(pn(this),'"')},on.prototype.valueOf=function(){return hn(this)},on.prototype.toString=function(){return pn(this)},on.prototype[Symbol.toPrimitive]=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";switch(t){case"number":return hn(this);case"string":return pn(this);case"default":return dn(this)}return pn(this)},Object.setPrototypeOf(_n.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(cn.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(un.prototype,Object.create(Uint32Array.prototype)),Object.assign(_n.prototype,on.prototype,{constructor:_n,signed:!0,TypedArray:Int32Array,BigIntArray:J}),Object.assign(cn.prototype,on.prototype,{constructor:cn,signed:!1,TypedArray:Uint32Array,BigIntArray:et}),Object.assign(un.prototype,on.prototype,{constructor:un,signed:!0,TypedArray:Uint32Array,BigIntArray:et}),Z?(dn=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:fn(t),pn=t=>8===t.byteLength?"".concat(new t.BigIntArray(t.buffer,t.byteOffset,1)[0]):fn(t)):(pn=fn,dn=pn);class vn{constructor(t,e){return vn.new(t,e)}static new(t,e){switch(e){case!0:return new _n(t);case!1:return new cn(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case J:return new _n(t)}return 16===t.byteLength?new un(t):new cn(t)}static signed(t){return new _n(t)}static unsigned(t){return new cn(t)}static decimal(t){return new un(t)}}class mn extends Wi{setValue(t,e){this._values.set(t,e)}}class gn extends mn{}class bn extends mn{}class yn extends mn{}class wn extends mn{constructor(t){t.nullValues&&(t.nullValues=t.nullValues.map(kn)),super(t),this._values=new Vi(new Int32Array(0),2)}get values64(){return this._values.buffer64}isValid(t){return super.isValid(kn(t))}}class Sn extends mn{}class xn extends mn{}class Tn extends mn{}class Cn extends mn{constructor(t){t.nullValues&&(t.nullValues=t.nullValues.map(kn)),super(t),this._values=new Vi(new Uint32Array(0),2)}get values64(){return this._values.buffer64}isValid(t){return super.isValid(kn(t))}}const kn=(In={BigIntArray:J},t=>(ArrayBuffer.isView(t)&&(In.buffer=t.buffer,In.byteOffset=t.byteOffset,In.byteLength=t.byteLength,t=dn(In),In.buffer=null),t));var In;class Mn extends Wi{}class En extends Mn{}class Pn extends Mn{}class Bn extends Mn{}class An extends Mn{}class On extends Wi{}class Dn extends On{}class Rn extends On{}class Ln extends On{}class zn extends On{}class Fn extends Wi{}class Vn extends Fn{}class Nn extends Fn{}class Un extends ji{constructor(t){super(t),this._values=new Ri(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+4*this.length;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,It(e))}_flushPending(t,e){const i=this._offsets,n=this._values.reserve(e).buffer;let r,a=0,s=0,l=0;for([a,r]of t)void 0===r?i.set(a,0):(s=r.length,n.set(r,l),i.set(a,s),l+=s)}}class Wn extends ji{constructor(t){super(t),this._values=new Ri(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+4*this.length;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,$(e))}_flushPending(t,e){}}Wn.prototype._flushPending=Un.prototype._flushPending;class jn{get length(){return this._values.length}get(t){return this._values[t]}clear(){return this._values=null,this}bind(t){return t instanceof me?t:(this._values=t,this)}}const Hn=Symbol.for("parent"),Yn=Symbol.for("rowIndex"),$n=Symbol.for("keyToIdx"),Kn=Symbol.for("idxToVal"),qn=Symbol.for("nodejs.util.inspect.custom");class Xn{constructor(t,e){this[Hn]=t,this.size=e}entries(){return this[Symbol.iterator]()}has(t){return void 0!==this.get(t)}get(t){let e=void 0;if(null!==t&&void 0!==t){const i=this[$n]||(this[$n]=new Map);let n=i.get(t);if(void 0!==n){const t=this[Kn]||(this[Kn]=new Array(this.size));void 0!==(e=t[n])||(t[n]=e=this.getValue(n))}else if((n=this.getIndex(t))>-1){i.set(t,n);const r=this[Kn]||(this[Kn]=new Array(this.size));void 0!==(e=r[n])||(r[n]=e=this.getValue(n))}}return e}set(t,e){if(null!==t&&void 0!==t){const i=this[$n]||(this[$n]=new Map);let n=i.get(t);if(void 0===n&&i.set(t,n=this.getIndex(t)),n>-1){(this[Kn]||(this[Kn]=new Array(this.size)))[n]=this.setValue(n,e)}}return this}clear(){throw new Error("Clearing ".concat(this[Symbol.toStringTag]," not supported."))}delete(t){throw new Error("Deleting ".concat(this[Symbol.toStringTag]," values not supported."))}*[Symbol.iterator](){const t=this.keys(),e=this.values(),i=this[$n]||(this[$n]=new Map),n=this[Kn]||(this[Kn]=new Array(this.size));for(let r,a,s,l,o=0;!(s=t.next()).done&&!(l=e.next()).done;++o)r=s.value,a=l.value,n[o]=a,i.has(r)||i.set(r,o),yield[r,a]}forEach(t,e){const i=this.keys(),n=this.values(),r=void 0===e?t:(i,n,r)=>t.call(e,i,n,r),a=this[$n]||(this[$n]=new Map),s=this[Kn]||(this[Kn]=new Array(this.size));for(let l,o,_,c,u=0;!(_=i.next()).done&&!(c=n.next()).done;++u)l=_.value,o=c.value,s[u]=o,a.has(l)||a.set(l,u),r(o,l,this)}toArray(){return[...this.values()]}toJSON(){const t={};return this.forEach((e,i)=>t[i]=e),t}inspect(){return this.toString()}[qn](){return this.toString()}toString(){const t=[];return this.forEach((e,i)=>{i=Ai(i),e=Ai(e),t.push("".concat(i,": ").concat(e))}),"{ ".concat(t.join(", ")," }")}}Xn[Symbol.toStringTag]=(t=>(Object.defineProperties(t,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[Hn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Yn]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),t[Symbol.toStringTag]="Row"))(Xn.prototype);class Qn extends Xn{constructor(t){return super(t,t.length),Jn(this)}keys(){return this[Hn].getChildAt(0)[Symbol.iterator]()}values(){return this[Hn].getChildAt(1)[Symbol.iterator]()}getKey(t){return this[Hn].getChildAt(0).get(t)}getIndex(t){return this[Hn].getChildAt(0).indexOf(t)}getValue(t){return this[Hn].getChildAt(1).get(t)}setValue(t,e){this[Hn].getChildAt(1).set(t,e)}}class Gn extends Xn{constructor(t){return super(t,t.type.children.length),Zn(this)}*keys(){for(const t of this[Hn].type.children)yield t.name}*values(){for(const t of this[Hn].type.children)yield this[t.name]}getKey(t){return this[Hn].type.children[t].name}getIndex(t){return this[Hn].type.children.findIndex(e=>e.name===t)}getValue(t){return this[Hn].getChildAt(t).get(this[Yn])}setValue(t,e){return this[Hn].getChildAt(t).set(this[Yn],e)}}Object.setPrototypeOf(Xn.prototype,Map.prototype);const Zn=(()=>{const t={enumerable:!0,configurable:!1,get:null,set:null};return e=>{let i=-1,n=e[$n]||(e[$n]=new Map);const r=t=>function(){return this.get(t)},a=t=>function(e){return this.set(t,e)};for(const s of e.keys())n.set(s,++i),t.get=r(s),t.set=a(s),e.hasOwnProperty(s)||(t.enumerable=!0,Object.defineProperty(e,s,t)),e.hasOwnProperty(i)||(t.enumerable=!1,Object.defineProperty(e,i,t));return t.get=t.set=null,e}})(),Jn=(()=>{if("undefined"===typeof Proxy)return Zn;const t=Xn.prototype.has,e=Xn.prototype.get,i=Xn.prototype.set,n=Xn.prototype.getKey,r={isExtensible:()=>!1,deleteProperty:()=>!1,preventExtensions:()=>!0,ownKeys:t=>[...t.keys()].map(t=>"".concat(t)),has(t,e){switch(e){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case Hn:case Yn:case Kn:case $n:case qn:return!0}return"number"!==typeof e||t.has(e)||(e=t.getKey(e)),t.has(e)},get(i,r,a){switch(r){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case Hn:case Yn:case Kn:case $n:case qn:return Reflect.get(i,r,a)}return"number"!==typeof r||t.call(a,r)||(r=n.call(a,r)),e.call(a,r)},set(e,r,a,s){switch(r){case Hn:case Yn:case Kn:case $n:return Reflect.set(e,r,a,s);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return"number"!==typeof r||t.call(s,r)||(r=n.call(s,r)),!!t.call(s,r)&&!!i.call(s,r,a)}};return t=>new Proxy(t,r)})();function tr(t,e,i){const n=t.length,r=e>-1?e:n+e%n;return i?i(t,r):r}let er;function ir(t,e,i,n){let{length:r=0}=t,a="number"!==typeof e?0:e,s="number"!==typeof i?r:i;return a<0&&(a=(a%r+r)%r),s<0&&(s=(s%r+r)%r),s<a&&(er=a,a=s,s=er),s>r&&(s=r),n?n(t,a,s):[a,s]}const nr=Z?G(0):0,rr=t=>t!==t;function ar(t){let e=typeof t;if("object"!==e||null===t)return rr(t)?rr:"bigint"!==e?e=>e===t:e=>nr+e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&ne(t,e):t instanceof Map?function(t){let e=-1;const i=[];return t.forEach(t=>i[++e]=ar(t)),sr(i)}(t):Array.isArray(t)?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ar(t[i]);return sr(e)}(t):t instanceof me?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ar(t.get(i));return sr(e)}(t):function(t){const e=Object.keys(t);if(0===e.length)return()=>!1;const i=[];for(let n=-1,r=e.length;++n<r;)i[n]=ar(t[e[n]]);return sr(i,e)}(t)}function sr(t,e){return i=>{if(!i||"object"!==typeof i)return!1;switch(i.constructor){case Array:return function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e[n]))return!1;return!0}(t,i);case Map:case Qn:case Gn:return lr(t,i,i.keys());case Object:case void 0:return lr(t,i,e||Object.keys(i))}return i instanceof me&&function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e.get(n)))return!1;return!0}(t,i)}}function lr(t,e,i){const n=i[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),a=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let s=0,l=t.length,o=a.next(),_=n.next(),c=r.next();for(;s<l&&!_.done&&!c.done&&!o.done&&(_.value===c.value&&t[s](o.value));++s,_=n.next(),c=r.next(),o=a.next());return!!(s===l&&_.done&&c.done&&o.done)||(n.return&&n.return(),r.return&&r.return(),a.return&&a.return(),!1)}class or extends me{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){let e=new Uint32Array((t||[]).length+1),i=e[0]=0,n=e.length;for(let r=0;++r<n;)e[r]=i+=t[r-1].length;return e}(e);super(),this._nullCount=-1,this._type=t,this._chunks=e,this._chunkOffsets=i,this._length=i[i.length-1],this._numChildren=(this._type.children||[]).length}static flatten(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return vr(me,e)}static concat(){const t=or.flatten(...arguments);return new or(t[0].type,t)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return"Chunked<".concat(this._type,">")}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce((t,e)=>t+e.byteLength,0)}get nullCount(){let t=this._nullCount;return t<0&&(this._nullCount=t=this._chunks.reduce((t,e)=>{let{nullCount:i}=e;return t+i},0)),t}get indices(){if(Xe.isDictionary(this._type)){if(!this._indices){const t=this._chunks;this._indices=1===t.length?t[0].indices:or.concat(...t.map(t=>t.indices))}return this._indices}return null}get dictionary(){return Xe.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}*[Symbol.iterator](){for(const t of this._chunks)yield*t}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._chunks;return new or(this._type,t)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.clone(or.flatten(this,...e))}slice(t,e){return ir(this,t,e,this._sliceInternal)}getChildAt(t){if(t<0||t>=this._numChildren)return null;let e,i,n,r=this._children||(this._children=[]);return(e=r[t])?e:(i=(this._type.children||[])[t])&&(n=this._chunks.map(e=>e.getChildAt(t)).filter(t=>null!=t),n.length>0)?r[t]=new or(i.type,n):null}search(t,e){let i=t,n=this._chunkOffsets,r=n.length-1;if(i<0)return null;if(i>=n[r])return null;if(r<=1)return e?e(this,0,i):[0,i];let a=0,s=0,l=0;do{if(a+1===r)return e?e(this,a,i-s):[a,i-s];l=a+(r-a)/2|0,i>=n[l]?a=l:r=l}while(i<n[r]&&i>=(s=n[a]));return null}isValid(t){return!!this.search(t,this.isValidInternal)}get(t){return this.search(t,this.getInternal)}set(t,e){this.search(t,(t,i,n)=>{let{chunks:r}=t;return r[i].set(n,e)})}indexOf(t,e){return e&&"number"===typeof e?this.search(e,(e,i,n)=>this.indexOfInternal(e,i,n,t)):this.indexOfInternal(this,0,Math.max(0,e||0),t)}toArray(){const{chunks:t}=this,e=t.length;let i=this._type.ArrayType;if(e<=0)return new i(0);if(e<=1)return t[0].toArray();let n=0,r=new Array(e);for(let l=-1;++l<e;)n+=(r[l]=t[l].toArray()).length;i!==r[0].constructor&&(i=r[0].constructor);let a=new i(n),s=i===Array?cr:_r;for(let l=-1,o=0;++l<e;)o=s(r[l],a,o);return a}getInternal(t,e,i){let{_chunks:n}=t;return n[e].get(i)}isValidInternal(t,e,i){let{_chunks:n}=t;return n[e].isValid(i)}indexOfInternal(t,e,i,n){let{_chunks:r}=t,a=e-1,s=r.length,l=i,o=0,_=-1;for(;++a<s;){if(~(_=r[a].indexOf(n,l)))return o+_;l=0,o+=r[a].length}return-1}_sliceInternal(t,e,i){const n=[],{chunks:r,_chunkOffsets:a}=t;for(let s=-1,l=r.length;++s<l;){const t=r[s],l=t.length,o=a[s];if(o>=i)break;if(e>=o+l)continue;if(o>=e&&o+l<=i){n.push(t);continue}const _=Math.max(0,e-o),c=Math.min(i-o,l);n.push(t.slice(_,c))}return t.clone(n)}}const _r=(t,e,i)=>(e.set(t,i),i+t.length),cr=(t,e,i)=>{let n=i;for(let r=-1,a=t.length;++r<a;)e[n++]=t[r];return n};class ur extends or{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;if(e=or.flatten(...e),super(t.type,e,i),this._field=t,1===e.length&&!(this instanceof hr))return new hr(t,e[0],this._chunkOffsets)}static new(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];const a=or.flatten(Array.isArray(e)?[...e,...n]:e instanceof me?[e,...n]:[me.new(e,...n)]);if("string"===typeof t){const e=a[0].data.type;t=new Sr(t,e,!0)}else!t.nullable&&a.some(t=>{let{nullCount:e}=t;return e>0})&&(t=t.clone({nullable:!0}));return new ur(t,a)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._chunks;return new ur(this._field,t)}getChildAt(t){if(t<0||t>=this.numChildren)return null;let e,i,n,r=this._children||(this._children=[]);return(e=r[t])?e:(i=(this.type.children||[])[t])&&(n=this._chunks.map(e=>e.getChildAt(t)).filter(t=>null!=t),n.length>0)?r[t]=new ur(i,n):null}}class hr extends ur{constructor(t,e,i){super(t,[e],i),this._chunk=e}search(t,e){return e?e(this,0,t):[0,t]}isValid(t){return this._chunk.isValid(t)}get(t){return this._chunk.get(t)}set(t,e){this._chunk.set(t,e)}indexOf(t,e){return this._chunk.indexOf(t,e)}}const pr=Array.isArray,dr=(t,e)=>gr(t,e,[],0),fr=t=>yr(t,[[],[]]),vr=(t,e)=>function t(e,i,n,r){let a,s=r,l=-1,o=i.length;for(;++l<o;)pr(a=i[l])?s=t(e,a,n,s).length:a instanceof or?s=t(e,a.chunks,n,s).length:a instanceof e&&(n[s++]=a);return n}(t,e,[],0),mr=(t,e)=>function t(e,i,n,r){let a,s=r,l=-1,o=i.length;for(;++l<o;)pr(a=i[l])?s=t(e,a,n,s).length:a instanceof e?s=gr(me,a.schema.fields.map((t,e)=>a.getChildAt(e)),n,s).length:a instanceof me&&(n[s++]=a);return n}(t,e,[],0);function gr(t,e,i,n){let r,a=n,s=-1,l=e.length;for(;++s<l;)pr(r=e[s])?a=gr(t,r,i,a).length:r instanceof t&&(i[a++]=r);return i}const br=(t,e,i)=>{let[n,r]=e;return t[0][i]=n,t[1][i]=r,t};function yr(t,e){let i,n;switch(n=t.length){case 0:return e;case 1:if(i=e[0],!t[0])return e;if(pr(t[0]))return yr(t[0],e);t[0]instanceof Bi||t[0]instanceof me||t[0]instanceof Xe||([i,t]=Object.entries(t[0]).reduce(br,e));break;default:pr(i=t[n-1])?t=pr(t[0])?t[0]:t.slice(0,n-1):(t=pr(t[0])?t[0]:t,i=[])}let r,a,s=-1,l=-1,o=-1,_=t.length,[c,u]=e;for(;++o<_;)a=t[o],a instanceof ur&&(u[++l]=a)?c[++s]=a.field.clone(i[o],a.type,!0):(({[o]:r=o}=i),a instanceof Xe&&(u[++l]=a)?c[++s]=Sr.new(r,a,!0):a&&a.type&&(u[++l]=a)&&(a instanceof Bi&&(u[l]=a=me.new(a)),c[++s]=Sr.new(r,a.type,!0)));return e}class wr{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,i||(i=Tr(t)),this.dictionaries=i}static from(){return wr.new(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new wr(fr(e)[0])}get[Symbol.toStringTag](){return"Schema"}toString(){return"Schema<{ ".concat(this.fields.map((t,e)=>"".concat(e,": ").concat(t)).join(", ")," }>")}compareTo(t){return qe.compareSchemas(this,t)}select(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e.reduce((t,e)=>(t[e]=!0)&&t,Object.create(null));return new wr(this.fields.filter(t=>n[t.name]),this.metadata)}selectAt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new wr(e.map(t=>this.fields[t]).filter(Boolean),this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e[0]instanceof wr?e[0]:new wr(dr(Sr,e)),r=[...this.fields],a=xr(xr(new Map,this.metadata),n.metadata),s=n.fields.filter(t=>{const e=r.findIndex(e=>e.name===t.name);return!~e||(r[e]=t.clone({metadata:xr(xr(new Map,r[e].metadata),t.metadata)}))&&!1}),l=Tr(s,new Map);return new wr([...r,...s],a,new Map([...this.dictionaries,...l]))}}class Sr{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=i,this.metadata=n||new Map}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,a,s]=e;return e[0]&&"object"===typeof e[0]&&(({name:n}=e[0]),void 0===r&&(r=e[0].type),void 0===a&&(a=e[0].nullable),void 0===s&&(s=e[0].metadata)),new Sr("".concat(n),r,a,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return"".concat(this.name,": ").concat(this.type)}compareTo(t){return qe.compareField(this,t)}clone(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,a,s]=e;return e[0]&&"object"===typeof e[0]?({name:n=this.name,type:r=this.type,nullable:a=this.nullable,metadata:s=this.metadata}=e[0]):[n=this.name,r=this.type,a=this.nullable,s=this.metadata]=e,Sr.new(n,r,a,s)}}function xr(t,e){return new Map([...t||new Map,...e||new Map])}function Tr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let i=-1,n=t.length;++i<n;){const n=t[i].type;if(Xe.isDictionary(n))if(e.has(n.id)){if(e.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(n.id,n.dictionary);n.children&&n.children.length>0&&Tr(n.children,e)}return e}wr.prototype.fields=null,wr.prototype.metadata=null,wr.prototype.dictionaries=null,Sr.prototype.type=null,Sr.prototype.name=null,Sr.prototype.nullable=null,Sr.prototype.metadata=null;class Cr extends ji{constructor(t){super(t),this._run=new jn,this._offsets=new Fi}addChild(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new wi(new Sr(e,t.type,!0)),this.numChildren-1}clear(){return this._run.clear(),super.clear()}_flushPending(t){const e=this._run,i=this._offsets,n=this._setValue;let r,a=0;for([a,r]of t)void 0===r?i.set(a,0):(i.set(a,r.length),n(this,a,e.bind(r)))}}class kr extends Ui{constructor(){super(...arguments),this._run=new jn}setValue(t,e){super.setValue(t,this._run.bind(e))}addChild(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const i=this.children.push(t);return this.type=new Ci(this.type.listSize,new Sr(e,t.type,!0)),i}clear(){return this._run.clear(),super.clear()}}class Ir extends ji{set(t,e){return super.set(t,e)}setValue(t,e){e=e instanceof Map?e:new Map(Object.entries(e));const i=this._pending||(this._pending=new Map),n=i.get(t);n&&(this._pendingLength-=n.size),this._pendingLength+=e.size,i.set(t,e)}addChild(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.numChildren);if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new ki(new Sr(e,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const e=this._offsets,i=this._setValue;t.forEach((t,n)=>{void 0===t?e.set(n,0):(e.set(n,t.size),i(this,n,t))})}}class Mr extends Ui{addChild(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.numChildren);const i=this.children.push(t);return this.type=new Si([...this.type.children,new Sr(e,t.type,!0)]),i}}class Er extends Ui{constructor(t){super(t),this._typeIds=new Li(new Int8Array(0),1),"function"===typeof t.valueToChildTypeId&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,e){return this.set(this.length,t,e)}set(t,e,i){return void 0===i&&(i=this._valueToChildTypeId(this,e,t)),this.setValid(t,this.isValid(e))&&this.setValue(t,e,i),this}setValue(t,e,i){this._typeIds.set(t,i),super.setValue(t,e)}addChild(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.children.length);const i=this.children.push(t),{type:{children:n,mode:r,typeIds:a}}=this,s=[...n,new Sr(e,t.type)];return this.type=new xi(r,[...a,i],s),i}_valueToChildTypeId(t,e,i){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class Pr extends Er{}class Br extends Er{constructor(t){super(t),this._offsets=new Li(new Int32Array(0))}setValue(t,e,i){const n=this.type.typeIdToChildIndex[i];return this._offsets.set(t,this.getChildAt(n).length),super.setValue(t,e,i)}}class Ar extends Le{}const Or=(t,e,i)=>{t[e]=i%4294967296|0,t[e+1]=i/4294967296|0},Dr=(t,e,i,n)=>{const{[i]:r,[i+1]:a}=e;null!=r&&null!=a&&t.set(n.subarray(0,a-r),r)},Rr=(t,e,i)=>{let{values:n}=t;((t,e,i)=>{t[e]=i/864e5|0})(n,e,i.valueOf())},Lr=(t,e,i)=>{let{values:n}=t;Or(n,2*e,i.valueOf())},zr=(t,e,i)=>{let{stride:n,values:r}=t;r[n*e]=i},Fr=(t,e,i)=>{let{stride:n,values:r}=t;r[n*e]=en(i)},Vr=(t,e,i)=>{switch(typeof i){case"bigint":t.values64[e]=i;break;case"number":t.values[e*t.stride]=i;break;default:const n=i,{stride:r,ArrayType:a}=t,s=St(a,n);t.values.set(s.subarray(0,r),r*e)}},Nr=(t,e,i)=>{let{values:n}=t;return Or(n,2*e,i/1e3)},Ur=(t,e,i)=>{let{values:n}=t;return Or(n,2*e,i)},Wr=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=1e3*i%4294967296|0,t[e+1]=1e3*i/4294967296|0})(n,2*e,i)},jr=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=1e6*i%4294967296|0,t[e+1]=1e6*i/4294967296|0})(n,2*e,i)},Hr=(t,e,i)=>{let{values:n,stride:r}=t;n[r*e]=i},Yr=(t,e,i)=>{let{values:n,stride:r}=t;n[r*e]=i},$r=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},Kr=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},qr=(t,e,i)=>{const n=t.typeIdToChildIndex[t.typeIds[e]],r=t.getChildAt(n);r&&r.set(t.valueOffsets[e],i)},Xr=(t,e,i)=>{const n=t.typeIdToChildIndex[t.typeIds[e]],r=t.getChildAt(n);r&&r.set(e,i)},Qr=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},Gr=(t,e,i)=>{let{values:n}=t;n[e]=12*i[0]+i[1]%12};Ar.prototype.visitBool=(t,e,i)=>{let{offset:n,values:r}=t;const a=n+e;i?r[a>>3]|=1<<a%8:r[a>>3]&=~(1<<a%8)},Ar.prototype.visitInt=(t,e,i)=>{t.type.bitWidth<64?zr(t,e,i):Vr(t,e,i)},Ar.prototype.visitInt8=zr,Ar.prototype.visitInt16=zr,Ar.prototype.visitInt32=zr,Ar.prototype.visitInt64=Vr,Ar.prototype.visitUint8=zr,Ar.prototype.visitUint16=zr,Ar.prototype.visitUint32=zr,Ar.prototype.visitUint64=Vr,Ar.prototype.visitFloat=(t,e,i)=>{t.type.precision!==Se.HALF?zr(t,e,i):Fr(t,e,i)},Ar.prototype.visitFloat16=Fr,Ar.prototype.visitFloat32=zr,Ar.prototype.visitFloat64=zr,Ar.prototype.visitUtf8=(t,e,i)=>{let{values:n,valueOffsets:r}=t;Dr(n,r,e,$(i))},Ar.prototype.visitBinary=(t,e,i)=>{let{values:n,valueOffsets:r}=t;return Dr(n,r,e,i)},Ar.prototype.visitFixedSizeBinary=(t,e,i)=>{let{stride:n,values:r}=t;r.set(i.subarray(0,n),n*e)},Ar.prototype.visitDate=(t,e,i)=>{t.type.unit===ye.DAY?Rr(t,e,i):Lr(t,e,i)},Ar.prototype.visitDateDay=Rr,Ar.prototype.visitDateMillisecond=Lr,Ar.prototype.visitTimestamp=(t,e,i)=>{switch(t.type.unit){case we.SECOND:return Nr(t,e,i);case we.MILLISECOND:return Ur(t,e,i);case we.MICROSECOND:return Wr(t,e,i);case we.NANOSECOND:return jr(t,e,i)}},Ar.prototype.visitTimestampSecond=Nr,Ar.prototype.visitTimestampMillisecond=Ur,Ar.prototype.visitTimestampMicrosecond=Wr,Ar.prototype.visitTimestampNanosecond=jr,Ar.prototype.visitTime=(t,e,i)=>{switch(t.type.unit){case we.SECOND:return Hr(t,e,i);case we.MILLISECOND:return Yr(t,e,i);case we.MICROSECOND:return $r(t,e,i);case we.NANOSECOND:return Kr(t,e,i)}},Ar.prototype.visitTimeSecond=Hr,Ar.prototype.visitTimeMillisecond=Yr,Ar.prototype.visitTimeMicrosecond=$r,Ar.prototype.visitTimeNanosecond=Kr,Ar.prototype.visitDecimal=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,4),4*e)},Ar.prototype.visitList=(t,e,i)=>{const n=t.getChildAt(0),r=t.valueOffsets;for(let a=-1,s=r[e],l=r[e+1];s<l;)n.set(s++,i.get(++a))},Ar.prototype.visitStruct=(t,e,i)=>{const n=i instanceof Map?(r=e,a=i,(t,e,i)=>t&&t.set(r,a.get(e.name))):i instanceof me?((t,e)=>(i,n,r)=>i&&i.set(t,e.get(r)))(e,i):Array.isArray(i)?((t,e)=>(i,n,r)=>i&&i.set(t,e[r]))(e,i):((t,e)=>(i,n,r)=>i&&i.set(t,e[n.name]))(e,i);var r,a;t.type.children.forEach((e,i)=>n(t.getChildAt(i),e,i))},Ar.prototype.visitUnion=(t,e,i)=>{t.type.mode===xe.Dense?qr(t,e,i):Xr(t,e,i)},Ar.prototype.visitDenseUnion=qr,Ar.prototype.visitSparseUnion=Xr,Ar.prototype.visitDictionary=(t,e,i)=>{const n=t.getKey(e);null!==n&&t.setValue(n,i)},Ar.prototype.visitInterval=(t,e,i)=>{t.type.unit===Te.DAY_TIME?Qr(t,e,i):Gr(t,e,i)},Ar.prototype.visitIntervalDayTime=Qr,Ar.prototype.visitIntervalYearMonth=Gr,Ar.prototype.visitFixedSizeList=(t,e,i)=>{const n=t.getChildAt(0),{stride:r}=t;for(let a=-1,s=e*r;++a<r;)n.set(s+a,i.get(a))},Ar.prototype.visitMap=(t,e,i)=>{const n=t.getChildAt(0),r=t.valueOffsets,a=i instanceof Map?[...i]:Object.entries(i);for(let s=-1,l=r[e],o=r[e+1];l<o;)n.set(l++,a[++s])};const Zr=new Ar;const Jr=new class extends Le{visitNull(){return Yi}visitBool(){return Hi}visitInt(){return mn}visitInt8(){return gn}visitInt16(){return bn}visitInt32(){return yn}visitInt64(){return wn}visitUint8(){return Sn}visitUint16(){return xn}visitUint32(){return Tn}visitUint64(){return Cn}visitFloat(){return nn}visitFloat16(){return rn}visitFloat32(){return an}visitFloat64(){return sn}visitUtf8(){return Wn}visitBinary(){return Un}visitFixedSizeBinary(){return Gi}visitDate(){return $i}visitDateDay(){return Ki}visitDateMillisecond(){return qi}visitTimestamp(){return On}visitTimestampSecond(){return Dn}visitTimestampMillisecond(){return Rn}visitTimestampMicrosecond(){return Ln}visitTimestampNanosecond(){return zn}visitTime(){return Mn}visitTimeSecond(){return En}visitTimeMillisecond(){return Pn}visitTimeMicrosecond(){return Bn}visitTimeNanosecond(){return An}visitDecimal(){return Xi}visitList(){return Cr}visitStruct(){return Mr}visitUnion(){return Er}visitDenseUnion(){return Br}visitSparseUnion(){return Pr}visitDictionary(){return Qi}visitInterval(){return Fn}visitIntervalDayTime(){return Vn}visitIntervalYearMonth(){return Nn}visitFixedSizeList(){return kr}visitMap(){return Ir}};var ta;Ui.new=function t(e){const i=e.type,n=new(Jr.getVisitFn(i)())(e);if(i.children&&i.children.length>0){const r=e.children||[],a={nullValues:e.nullValues},s=Array.isArray(r)?(t,e)=>r[e]||a:t=>{let{name:e}=t;return r[e]||a};i.children.forEach((e,i)=>{const{type:r}=e,a=s(e,i);n.children.push(t(Object(ve.a)(Object(ve.a)({},a),{},{type:r})))})}return n},Object.keys(ge).map(t=>ge[t]).filter(t=>"number"===typeof t&&t!==ge.NONE).forEach(t=>{Jr.visit(t).prototype._setValue=Zr.getVisitFn(t)}),Wn.prototype._setValue=Zr.visitBinary,function(t){!function(e){!function(e){!function(e){class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}version(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ue.apache.arrow.flatbuf.MetadataVersion.V1}schema(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new ue.apache.arrow.flatbuf.Schema).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(e,i){let n=this.bb.__offset(this.bb_pos,8);return n?(i||new t.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}dictionariesLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(e,i){let n=this.bb.__offset(this.bb_pos,10);return n?(i||new t.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}recordBatchesLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(4)}static addVersion(t,e){t.addFieldInt16(0,e,ue.apache.arrow.flatbuf.MetadataVersion.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static createFooter(t,e,n,r,a){return i.startFooter(t),i.addVersion(t,e),i.addSchema(t,n),i.addDictionaries(t,r),i.addRecordBatches(t,a),i.endFooter(t)}}e.Footer=i}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(t.apache||(t.apache={}))}(ta||(ta={})),function(t){!function(t){!function(t){!function(t){t.Block=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(t,e,i,n){return t.prep(8,24),t.writeInt64(n),t.pad(4),t.writeInt32(i),t.writeInt64(e),t.offset()}}}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(t.apache||(t.apache={}))}(ta||(ta={}));var ea=D.Long,ia=D.Builder,na=D.ByteBuffer,ra=ta.apache.arrow.flatbuf.Block,aa=ta.apache.arrow.flatbuf.Footer;class sa{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke.V4,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.schema=t,this.version=e,i&&(this._recordBatches=i),n&&(this._dictionaryBatches=n)}static decode(t){t=new na(It(t));const e=aa.getRootAsFooter(t),i=wr.decode(e.schema());return new la(i,e)}static encode(t){const e=new ia,i=wr.encode(e,t.schema);aa.startRecordBatchesVector(e,t.numRecordBatches),[...t.recordBatches()].slice().reverse().forEach(t=>oa.encode(e,t));const n=e.endVector();aa.startDictionariesVector(e,t.numDictionaries),[...t.dictionaryBatches()].slice().reverse().forEach(t=>oa.encode(e,t));const r=e.endVector();return aa.startFooter(e),aa.addSchema(e,i),aa.addVersion(e,ke.V4),aa.addRecordBatches(e,n),aa.addDictionaries(e,r),aa.finishFooterBuffer(e,aa.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class la extends sa{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return oa.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return oa.decode(e)}return null}}class oa{static decode(t){return new oa(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:i}=e,n=new ea(e.offset,0),r=new ea(e.bodyLength,0);return ra.createBlock(t,n,i,r)}constructor(t,e,i){this.metaDataLength=t,this.offset="number"===typeof i?i:i.low,this.bodyLength="number"===typeof e?e:e.low}}function _a(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(_a=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new _a(t)}class ca extends Q{write(t){if((t=It(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Y(this.toUint8Array(!0)):this.toUint8Array(!1).then(Y)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?wt(this._values)[0]:(async()=>{let t=[],e=0;var i,n=!1,r=!1;try{for(var a,s=function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new _a(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(this);n=!(a=await s.next()).done;n=!1){const i=a.value;t.push(i),e+=i.byteLength}}catch(l){r=!0,i=l}finally{try{n&&null!=s.return&&await s.return()}finally{if(r)throw i}}return wt(t,e)[0]})()}}class ua{constructor(t){t&&(this.source=new pa(re.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class ha{constructor(t){t instanceof ha?this.source=t.source:t instanceof ca?this.source=new da(re.fromAsyncIterable(t)):ft(t)?this.source=new da(re.fromNodeStream(t)):dt(t)?this.source=new da(re.fromDOMStream(t)):pt(t)?this.source=new da(re.fromDOMStream(t.body)):ot(t)?this.source=new da(re.fromIterable(t)):(lt(t)||_t(t))&&(this.source=new da(re.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class pa{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||K)}return(t){return Object.create(this.source.return&&this.source.return(t)||K)}}class da{constructor(t){this.source=t,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}async cancel(t){await this.return(t)}get closed(){return this._closedPromise}async read(t){return(await this.next(t,"read")).value}async peek(t){return(await this.next(t,"peek")).value}async next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return await this.source.next({cmd:e,size:t})}async throw(t){const e=this.source.throw&&await this.source.throw(t)||K;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}async return(t){const e=this.source.return&&await this.source.return(t)||K;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}}class fa extends ua{constructor(t,e){super(),this.position=0,this.buffer=It(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:i,position:n}=this;return e&&n<i?("number"!==typeof t&&(t=1/0),this.position=Math.min(i,n+Math.min(i-n,t)),e.subarray(n,this.position)):null}readAt(t,e){const i=this.buffer,n=Math.min(this.size,t+e);return i?i.subarray(t,n):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class va extends ha{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(async()=>{this.size=(await t.stat()).size,delete this._pending})()}async readInt32(t){const{buffer:e,byteOffset:i}=await this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}async seek(t){return this._pending&&await this._pending,this.position=Math.min(t,this.size),t<this.size}async read(t){this._pending&&await this._pending;const{_handle:e,size:i,position:n}=this;if(e&&n<i){"number"!==typeof t&&(t=1/0);let r=n,a=0,s=0,l=Math.min(i,r+Math.min(i-r,t)),o=new Uint8Array(Math.max(0,(this.position=l)-r));for(;(r+=s)<l&&(a+=s)<o.byteLength;)({bytesRead:s}=await e.read(o,a,o.byteLength-a,r));return o}return null}async readAt(t,e){this._pending&&await this._pending;const{_handle:i,size:n}=this;if(i&&t+e<n){const r=Math.min(n,t+e),a=new Uint8Array(r-t);return(await i.read(a,0,e,t)).buffer}return new Uint8Array(e)}async close(){const t=this._handle;this._handle=null,t&&await t.close()}async throw(t){return await this.close(),{done:!0,value:t}}async return(t){return await this.close(),{done:!0,value:t}}}function ma(t){return t<0&&(t=4294967295+t+1),"0x".concat(t.toString(16))}const ga=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class ba{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let n=e[3]*i[3];this.buffer[0]=65535&n;let r=n>>>16;return n=e[2]*i[3],r+=n,n=e[3]*i[2]>>>0,r+=n,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<n?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return"".concat(ma(this.buffer[1])," ").concat(ma(this.buffer[0]))}}class ya extends ba{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return ya.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return ya.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.length;let n=new ya(e);for(let r=0;r<i;){const e=8<i-r?8:i-r,a=new ya(new Uint32Array([parseInt(t.substr(r,e),10),0])),s=new ya(new Uint32Array([ga[e],0]));n.times(s),n.plus(a),r+=e}return n}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)ya.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new ya(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new ya(new Uint32Array(t.buffer)).plus(e)}}class wa extends ba{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,i=t.buffer[1]<<0;return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return wa.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return wa.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.startsWith("-"),n=t.length;let r=new wa(e);for(let a=i?1:0;a<n;){const e=8<n-a?8:n-a,i=new wa(new Uint32Array([parseInt(t.substr(a,e),10),0])),s=new wa(new Uint32Array([ga[e],0]));r.times(s),r.plus(i),a+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)wa.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new wa(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new wa(new Uint32Array(t.buffer)).plus(e)}}class Sa{constructor(t){this.buffer=t}high(){return new wa(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new wa(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new ya(new Uint32Array([this.buffer[3],0])),i=new ya(new Uint32Array([this.buffer[2],0])),n=new ya(new Uint32Array([this.buffer[1],0])),r=new ya(new Uint32Array([this.buffer[0],0])),a=new ya(new Uint32Array([t.buffer[3],0])),s=new ya(new Uint32Array([t.buffer[2],0])),l=new ya(new Uint32Array([t.buffer[1],0])),o=new ya(new Uint32Array([t.buffer[0],0]));let _=ya.multiply(r,o);this.buffer[0]=_.low();let c=new ya(new Uint32Array([_.high(),0]));return _=ya.multiply(n,o),c.plus(_),_=ya.multiply(r,l),c.plus(_),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(_)?1:0,this.buffer[2]=c.high(),new ya(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ya.multiply(i,o)).plus(ya.multiply(n,l)).plus(ya.multiply(r,s)),this.buffer[3]+=ya.multiply(e,o).plus(ya.multiply(i,l)).plus(ya.multiply(n,s)).plus(ya.multiply(r,a)).low(),this}plus(t){let e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return"".concat(ma(this.buffer[3])," ").concat(ma(this.buffer[2])," ").concat(ma(this.buffer[1])," ").concat(ma(this.buffer[0]))}static multiply(t,e){return new Sa(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Sa(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return Sa.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return Sa.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const i=t.startsWith("-"),n=t.length;let r=new Sa(e);for(let a=i?1:0;a<n;){const e=8<n-a?8:n-a,i=new Sa(new Uint32Array([parseInt(t.substr(a,e),10),0,0,0])),s=new Sa(new Uint32Array([ga[e],0,0,0]));r.times(s),r.plus(i),a+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(4*t.length);for(let i=-1,n=t.length;++i<n;)Sa.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class xa extends Le{constructor(t,e,i,n){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=n}visit(t){return super.visit(t instanceof Sr?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Null(t,0,e)}visitBool(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Bool(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitInt(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Int(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitFloat(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Float(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitUtf8(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Utf8(t,0,e,i,this.readNullBitmap(t,i),this.readOffsets(t),this.readData(t))}visitBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Binary(t,0,e,i,this.readNullBitmap(t,i),this.readOffsets(t),this.readData(t))}visitFixedSizeBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.FixedSizeBinary(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitDate(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Date(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitTimestamp(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Timestamp(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitTime(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Time(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitDecimal(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Decimal(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.List(t,0,e,i,this.readNullBitmap(t,i),this.readOffsets(t),this.visit(t.children[0]))}visitStruct(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Struct(t,0,e,i,this.readNullBitmap(t,i),this.visitMany(t.children))}visitUnion(t){return t.mode===xe.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Union(t,0,e,i,this.readNullBitmap(t,i),this.readTypeIds(t),this.readOffsets(t),this.visitMany(t.children))}visitSparseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Union(t,0,e,i,this.readNullBitmap(t,i),this.readTypeIds(t),this.visitMany(t.children))}visitDictionary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Dictionary(t,0,e,i,this.readNullBitmap(t,i),this.readData(t.indices),this.readDictionary(t))}visitInterval(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Interval(t,0,e,i,this.readNullBitmap(t,i),this.readData(t))}visitFixedSizeList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.FixedSizeList(t,0,e,i,this.readNullBitmap(t,i),this.visit(t.children[0]))}visitMap(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Bi.Map(t,0,e,i,this.readNullBitmap(t,i),this.readOffsets(t),this.visit(t.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class Ta extends xa{constructor(t,e,i,n){super(new Uint8Array(0),e,i,n),this.sources=t}readNullBitmap(t,e){let{offset:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):Be(this.sources[i])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return St(Uint8Array,St(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return St(Uint8Array,St(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:i}=this;return Xe.isTimestamp(t)||(Xe.isInt(t)||Xe.isTime(t))&&64===t.bitWidth||Xe.isDate(t)&&t.unit===ye.MILLISECOND?St(Uint8Array,wa.convertArray(i[e])):Xe.isDecimal(t)?St(Uint8Array,Sa.convertArray(i[e])):Xe.isBinary(t)||Xe.isFixedSizeBinary(t)?function(t){const e=t.join(""),i=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)i[n>>1]=parseInt(e.substr(n,2),16);return i}(i[e]):Xe.isBool(t)?Be(i[e]):Xe.isUtf8(t)?$(i[e].join("")):St(Uint8Array,St(t.ArrayType,i[e].map(t=>+t)))}}var Ca=D.Long,ka=ue.apache.arrow.flatbuf.Null,Ia=ue.apache.arrow.flatbuf.Int,Ma=ue.apache.arrow.flatbuf.FloatingPoint,Ea=ue.apache.arrow.flatbuf.Binary,Pa=ue.apache.arrow.flatbuf.Bool,Ba=ue.apache.arrow.flatbuf.Utf8,Aa=ue.apache.arrow.flatbuf.Decimal,Oa=ue.apache.arrow.flatbuf.Date,Da=ue.apache.arrow.flatbuf.Time,Ra=ue.apache.arrow.flatbuf.Timestamp,La=ue.apache.arrow.flatbuf.Interval,za=ue.apache.arrow.flatbuf.List,Fa=ue.apache.arrow.flatbuf.Struct_,Va=ue.apache.arrow.flatbuf.Union,Na=ue.apache.arrow.flatbuf.DictionaryEncoding,Ua=ue.apache.arrow.flatbuf.FixedSizeBinary,Wa=ue.apache.arrow.flatbuf.FixedSizeList,ja=ue.apache.arrow.flatbuf.Map;const Ha=new class extends Le{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return ka.startNull(e),ka.endNull(e)}visitInt(t,e){return Ia.startInt(e),Ia.addBitWidth(e,t.bitWidth),Ia.addIsSigned(e,t.isSigned),Ia.endInt(e)}visitFloat(t,e){return Ma.startFloatingPoint(e),Ma.addPrecision(e,t.precision),Ma.endFloatingPoint(e)}visitBinary(t,e){return Ea.startBinary(e),Ea.endBinary(e)}visitBool(t,e){return Pa.startBool(e),Pa.endBool(e)}visitUtf8(t,e){return Ba.startUtf8(e),Ba.endUtf8(e)}visitDecimal(t,e){return Aa.startDecimal(e),Aa.addScale(e,t.scale),Aa.addPrecision(e,t.precision),Aa.endDecimal(e)}visitDate(t,e){return Oa.startDate(e),Oa.addUnit(e,t.unit),Oa.endDate(e)}visitTime(t,e){return Da.startTime(e),Da.addUnit(e,t.unit),Da.addBitWidth(e,t.bitWidth),Da.endTime(e)}visitTimestamp(t,e){const i=t.timezone&&e.createString(t.timezone)||void 0;return Ra.startTimestamp(e),Ra.addUnit(e,t.unit),void 0!==i&&Ra.addTimezone(e,i),Ra.endTimestamp(e)}visitInterval(t,e){return La.startInterval(e),La.addUnit(e,t.unit),La.endInterval(e)}visitList(t,e){return za.startList(e),za.endList(e)}visitStruct(t,e){return Fa.startStruct_(e),Fa.endStruct_(e)}visitUnion(t,e){Va.startTypeIdsVector(e,t.typeIds.length);const i=Va.createTypeIdsVector(e,t.typeIds);return Va.startUnion(e),Va.addMode(e,t.mode),Va.addTypeIds(e,i),Va.endUnion(e)}visitDictionary(t,e){const i=this.visit(t.indices,e);return Na.startDictionaryEncoding(e),Na.addId(e,new Ca(t.id,0)),Na.addIsOrdered(e,t.isOrdered),void 0!==i&&Na.addIndexType(e,i),Na.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Ua.startFixedSizeBinary(e),Ua.addByteWidth(e,t.byteWidth),Ua.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Wa.startFixedSizeList(e),Wa.addListSize(e,t.listSize),Wa.endFixedSizeList(e)}visitMap(t,e){return ja.startMap(e),ja.addKeysSorted(e,t.keysSorted),ja.endMap(e)}};function Ya(t){return new us(t.count,function t(e){return(e||[]).reduce((e,i)=>{return[...e,new ds(i.count,(n=i.VALIDITY,(n||[]).reduce((t,e)=>t+ +(0===e),0))),...t(i.children)];var n},[])}(t.columns),function t(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let n=-1,r=(e||[]).length;++n<r;){const r=e[n];r.VALIDITY&&i.push(new ps(i.length,r.VALIDITY.length)),r.TYPE&&i.push(new ps(i.length,r.TYPE.length)),r.OFFSET&&i.push(new ps(i.length,r.OFFSET.length)),r.DATA&&i.push(new ps(i.length,r.DATA.length)),i=t(r.children,i)}return i}(t.columns))}function $a(t,e){return(t.fields||[]).filter(Boolean).map(t=>Sr.fromJSON(t,e))}function Ka(t,e){return(t.children||[]).filter(Boolean).map(t=>Sr.fromJSON(t,e))}function qa(t){return new Map(Object.entries(t||{}))}function Xa(t){return new Ze(t.isSigned,t.bitWidth)}function Qa(t,e){const i=t.type.name;switch(i){case"NONE":case"null":return new Ge;case"binary":return new ui;case"utf8":return new hi;case"bool":return new pi;case"list":return new wi((e||[])[0]);case"struct":case"struct_":return new Si(e||[])}switch(i){case"int":{const e=t.type;return new Ze(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new li(Se[e.precision])}case"decimal":{const e=t.type;return new di(e.scale,e.precision)}case"date":{const e=t.type;return new fi(ye[e.unit])}case"time":{const e=t.type;return new gi(we[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new bi(we[e.unit],e.timezone)}case"interval":{const e=t.type;return new yi(Te[e.unit])}case"union":{const i=t.type;return new xi(xe[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{const e=t.type;return new Ti(e.byteWidth)}case"fixedsizelist":{const i=t.type;return new Ci(i.listSize,(e||[])[0])}case"map":{const i=t.type;return new ki((e||[])[0],i.keysSorted)}}throw new Error('Unrecognized type: "'.concat(i,'"'))}var Ga=D.Long,Za=D.Builder,Ja=D.ByteBuffer,ts=ue.apache.arrow.flatbuf.Type,es=ue.apache.arrow.flatbuf.Field,is=ue.apache.arrow.flatbuf.Schema,ns=ue.apache.arrow.flatbuf.Buffer,rs=fe.apache.arrow.flatbuf.Message,as=ue.apache.arrow.flatbuf.KeyValue,ss=fe.apache.arrow.flatbuf.FieldNode,ls=ue.apache.arrow.flatbuf.Endianness,os=fe.apache.arrow.flatbuf.RecordBatch,_s=fe.apache.arrow.flatbuf.DictionaryBatch;class cs{constructor(t,e,i,n){this._version=e,this._headerType=i,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(t,e){const i=new cs(0,ke.V4,e);return i._createHeader=function(t,e){return()=>{switch(e){case Ce.Schema:return wr.fromJSON(t);case Ce.RecordBatch:return us.fromJSON(t);case Ce.DictionaryBatch:return hs.fromJSON(t)}throw new Error("Unrecognized Message type: { name: ".concat(Ce[e],", type: ").concat(e," }"))}}(t,e),i}static decode(t){t=new Ja(It(t));const e=rs.getRootAsMessage(t),i=e.bodyLength(),n=e.version(),r=e.headerType(),a=new cs(i,n,r);return a._createHeader=function(t,e){return()=>{switch(e){case Ce.Schema:return wr.decode(t.header(new is));case Ce.RecordBatch:return us.decode(t.header(new os),t.version());case Ce.DictionaryBatch:return hs.decode(t.header(new _s),t.version())}throw new Error("Unrecognized Message type: { name: ".concat(Ce[e],", type: ").concat(e," }"))}}(e,r),a}static encode(t){let e=new Za,i=-1;return t.isSchema()?i=wr.encode(e,t.header()):t.isRecordBatch()?i=us.encode(e,t.header()):t.isDictionaryBatch()&&(i=hs.encode(e,t.header())),rs.startMessage(e),rs.addVersion(e,ke.V4),rs.addHeader(e,i),rs.addHeaderType(e,t.headerType),rs.addBodyLength(e,new Ga(t.bodyLength,0)),rs.finishMessageBuffer(e,rs.endMessage(e)),e.asUint8Array()}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t instanceof wr)return new cs(0,ke.V4,Ce.Schema,t);if(t instanceof us)return new cs(e,ke.V4,Ce.RecordBatch,t);if(t instanceof hs)return new cs(e,ke.V4,Ce.DictionaryBatch,t);throw new Error("Unrecognized Message header: ".concat(t))}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ce.Schema}isRecordBatch(){return this.headerType===Ce.RecordBatch}isDictionaryBatch(){return this.headerType===Ce.DictionaryBatch}}class us{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,e,i){this._nodes=e,this._buffers=i,this._length="number"===typeof t?t:t.low}}class hs{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=i,this._id="number"===typeof e?e:e.low}}class ps{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class ds{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function fs(t){const e=[];for(let i,n=-1,r=-1,a=t.nodesLength();++n<a;)(i=t.nodes(n))&&(e[++r]=ds.decode(i));return e}function vs(t,e){const i=[];for(let n,r=-1,a=-1,s=t.buffersLength();++r<s;)(n=t.buffers(r))&&(e<ke.V4&&(n.bb_pos+=8*(r+1)),i[++a]=ps.decode(n));return i}function ms(t,e){const i=[];for(let n,r=-1,a=-1,s=t.fieldsLength();++r<s;)(n=t.fields(r))&&(i[++a]=Sr.decode(n,e));return i}function gs(t,e){const i=[];for(let n,r=-1,a=-1,s=t.childrenLength();++r<s;)(n=t.children(r))&&(i[++a]=Sr.decode(n,e));return i}function bs(t){const e=new Map;if(t)for(let i,n,r=-1,a=0|t.customMetadataLength();++r<a;)(i=t.customMetadata(r))&&null!=(n=i.key())&&e.set(n,i.value());return e}function ys(t){return new Ze(t.isSigned(),t.bitWidth())}function ws(t,e){const i=t.typeType();switch(i){case ts.NONE:case ts.Null:return new Ge;case ts.Binary:return new ui;case ts.Utf8:return new hi;case ts.Bool:return new pi;case ts.List:return new wi((e||[])[0]);case ts.Struct_:return new Si(e||[])}switch(i){case ts.Int:{const e=t.type(new ue.apache.arrow.flatbuf.Int);return new Ze(e.isSigned(),e.bitWidth())}case ts.FloatingPoint:{const e=t.type(new ue.apache.arrow.flatbuf.FloatingPoint);return new li(e.precision())}case ts.Decimal:{const e=t.type(new ue.apache.arrow.flatbuf.Decimal);return new di(e.scale(),e.precision())}case ts.Date:{const e=t.type(new ue.apache.arrow.flatbuf.Date);return new fi(e.unit())}case ts.Time:{const e=t.type(new ue.apache.arrow.flatbuf.Time);return new gi(e.unit(),e.bitWidth())}case ts.Timestamp:{const e=t.type(new ue.apache.arrow.flatbuf.Timestamp);return new bi(e.unit(),e.timezone())}case ts.Interval:{const e=t.type(new ue.apache.arrow.flatbuf.Interval);return new yi(e.unit())}case ts.Union:{const i=t.type(new ue.apache.arrow.flatbuf.Union);return new xi(i.mode(),i.typeIdsArray()||[],e||[])}case ts.FixedSizeBinary:{const e=t.type(new ue.apache.arrow.flatbuf.FixedSizeBinary);return new Ti(e.byteWidth())}case ts.FixedSizeList:{const i=t.type(new ue.apache.arrow.flatbuf.FixedSizeList);return new Ci(i.listSize(),(e||[])[0])}case ts.Map:{const i=t.type(new ue.apache.arrow.flatbuf.Map);return new ki((e||[])[0],i.keysSorted())}}throw new Error('Unrecognized type: "'.concat(ts[i],'" (').concat(i,")"))}Sr.encode=function(t,e){let i=-1,n=-1,r=-1,a=e.type,s=e.typeId;Xe.isDictionary(a)?(s=a.dictionary.typeId,r=Ha.visit(a,t),n=Ha.visit(a.dictionary,t)):n=Ha.visit(a,t);const l=(a.children||[]).map(e=>Sr.encode(t,e)),o=es.createChildrenVector(t,l),_=e.metadata&&e.metadata.size>0?es.createCustomMetadataVector(t,[...e.metadata].map(e=>{let[i,n]=e;const r=t.createString("".concat(i)),a=t.createString("".concat(n));return as.startKeyValue(t),as.addKey(t,r),as.addValue(t,a),as.endKeyValue(t)})):-1;e.name&&(i=t.createString(e.name));es.startField(t),es.addType(t,n),es.addTypeType(t,s),es.addChildren(t,o),es.addNullable(t,!!e.nullable),-1!==i&&es.addName(t,i);-1!==r&&es.addDictionary(t,r);-1!==_&&es.addCustomMetadata(t,_);return es.endField(t)},Sr.decode=function(t,e){let i,n,r,a,s,l;e&&(l=t.dictionary())?e.has(i=l.id().low)?(a=(a=l.indexType())?ys(a):new ei,s=new Ei(e.get(i),a,i,l.isOrdered()),n=new Sr(t.name(),s,t.nullable(),bs(t))):(a=(a=l.indexType())?ys(a):new ei,e.set(i,r=ws(t,gs(t,e))),s=new Ei(r,a,i,l.isOrdered()),n=new Sr(t.name(),s,t.nullable(),bs(t))):(r=ws(t,gs(t,e)),n=new Sr(t.name(),r,t.nullable(),bs(t)));return n||null},Sr.fromJSON=function(t,e){let i,n,r,a,s,l;return e&&(a=t.dictionary)?e.has(i=a.id)?(n=(n=a.indexType)?Xa(n):new ei,l=new Ei(e.get(i),n,i,a.isOrdered),r=new Sr(t.name,l,t.nullable,qa(t.customMetadata))):(n=(n=a.indexType)?Xa(n):new ei,e.set(i,s=Qa(t,Ka(t,e))),l=new Ei(s,n,i,a.isOrdered),r=new Sr(t.name,l,t.nullable,qa(t.customMetadata))):(s=Qa(t,Ka(t,e)),r=new Sr(t.name,s,t.nullable,qa(t.customMetadata))),r||null},wr.encode=function(t,e){const i=e.fields.map(e=>Sr.encode(t,e));is.startFieldsVector(t,i.length);const n=is.createFieldsVector(t,i),r=e.metadata&&e.metadata.size>0?is.createCustomMetadataVector(t,[...e.metadata].map(e=>{let[i,n]=e;const r=t.createString("".concat(i)),a=t.createString("".concat(n));return as.startKeyValue(t),as.addKey(t,r),as.addValue(t,a),as.endKeyValue(t)})):-1;is.startSchema(t),is.addFields(t,n),is.addEndianness(t,Ss?ls.Little:ls.Big),-1!==r&&is.addCustomMetadata(t,r);return is.endSchema(t)},wr.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const i=ms(t,e);return new wr(i,bs(t),e)},wr.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new wr($a(t,e),qa(t.customMetadata),e)},us.encode=function(t,e){const i=e.nodes||[],n=e.buffers||[];os.startNodesVector(t,i.length),i.slice().reverse().forEach(e=>ds.encode(t,e));const r=t.endVector();os.startBuffersVector(t,n.length),n.slice().reverse().forEach(e=>ps.encode(t,e));const a=t.endVector();return os.startRecordBatch(t),os.addLength(t,new Ga(e.length,0)),os.addNodes(t,r),os.addBuffers(t,a),os.endRecordBatch(t)},us.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke.V4;return new us(t.length(),fs(t),vs(t,e))},us.fromJSON=Ya,hs.encode=function(t,e){const i=us.encode(t,e.data);return _s.startDictionaryBatch(t),_s.addId(t,new Ga(e.id,0)),_s.addIsDelta(t,e.isDelta),_s.addData(t,i),_s.endDictionaryBatch(t)},hs.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke.V4;return new hs(us.decode(t.data(),e),t.id(),t.isDelta())},hs.fromJSON=function(t){return new hs(Ya(t.data),t.id,t.isDelta)},ds.encode=function(t,e){return ss.createFieldNode(t,new Ga(e.length,0),new Ga(e.nullCount,0))},ds.decode=function(t){return new ds(t.length(),t.nullCount())},ps.encode=function(t,e){return ns.createBuffer(t,new Ga(e.offset,0),new Ga(e.length,0))},ps.decode=function(t){return new ps(t.offset(),t.length())};const Ss=function(){const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}();var xs=D.ByteBuffer;const Ts=t=>"Expected ".concat(Ce[t]," Message in stream, but was null or length 0."),Cs=t=>"Header pointer of flatbuffer-encoded ".concat(Ce[t]," Message is null or length 0."),ks=(t,e)=>"Expected to read ".concat(t," metadata bytes, but only read ").concat(e,"."),Is=(t,e)=>"Expected to read ".concat(t," bytes for message body, but only read ").concat(e,".");class Ms{constructor(t){this.source=t instanceof ua?t:new ua(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?K:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Ts(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=It(this.source.read(t));if(e.byteLength<t)throw new Error(Is(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=Ce.Schema,i=this.readMessage(e),n=i&&i.header();if(t&&!n)throw new Error(Cs(e));return n}readMetadataLength(){const t=this.source.read(Bs),e=t&&new xs(t),i=e&&e.readInt32(0)||0;return{done:0===i,value:i}}readMetadata(t){const e=this.source.read(t);if(!e)return K;if(e.byteLength<t)throw new Error(ks(t,e.byteLength));return{done:!1,value:cs.decode(e)}}}class Es{constructor(t,e){this.source=t instanceof ha?t:ht(t)?new va(t,e):new ha(t)}[Symbol.asyncIterator](){return this}async next(){let t;return(t=await this.readMetadataLength()).done||-1===t.value&&(t=await this.readMetadataLength()).done||(t=await this.readMetadata(t.value)).done?K:t}async throw(t){return await this.source.throw(t)}async return(t){return await this.source.return(t)}async readMessage(t){let e;if((e=await this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Ts(t));return e.value}async readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=It(await this.source.read(t));if(e.byteLength<t)throw new Error(Is(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}async readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=Ce.Schema,i=await this.readMessage(e),n=i&&i.header();if(t&&!n)throw new Error(Cs(e));return n}async readMetadataLength(){const t=await this.source.read(Bs),e=t&&new xs(t),i=e&&e.readInt32(0)||0;return{done:0===i,value:i}}async readMetadata(t){const e=await this.source.read(t);if(!e)return K;if(e.byteLength<t)throw new Error(ks(t,e.byteLength));return{done:!1,value:cs.decode(e)}}}class Ps extends Ms{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof q?t:new q(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:cs.fromJSON(t.schema,Ce.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:cs.fromJSON(e,Ce.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:cs.fromJSON(e,Ce.RecordBatch)}}return this._body=[],K}readMessageBody(t){return function t(e){return(e||[]).reduce((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE&&[i.TYPE]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)],[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Ts(t));return e.value}readSchema(){const t=Ce.Schema,e=this.readMessage(t),i=e&&e.header();if(!e||!i)throw new Error(Cs(t));return i}}const Bs=4,As=new Uint8Array("ARROW1".length);for(let O_=0;O_<"ARROW1".length;O_+=1)As[O_]="ARROW1".charCodeAt(O_);function Os(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=-1,n=As.length;++i<n;)if(As[i]!==t[e+i])return!1;return!0}const Ds=As.length,Rs=Ds+Bs,Ls=2*Ds+Bs;class zs extends Le{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=new zs;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=mr(Uo,i),[a=t]=t.visitMany(r);return a}visit(t){if(!Xe.isDictionary(t.type)){const{data:e,length:i,nullCount:n}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Xe.isNull(t.type)||Fs.call(this,n<=0?new Uint8Array(0):Pe(e.offset,i,e.nullBitmap)),this.nodes.push(new ds(i,n))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Fs(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new ps(this._byteLength,e)),this._byteLength+=e,this}function Vs(t){return Fs.call(this,t.values.subarray(0,t.length*t.stride))}function Ns(t){const{length:e,values:i,valueOffsets:n}=t,r=n[0],a=n[e],s=Math.min(a-r,i.byteLength-r);return Fs.call(this,ie(-n[0],e,n)),Fs.call(this,i.subarray(r,r+s)),this}function Us(t){const{length:e,valueOffsets:i}=t;return i&&Fs.call(this,ie(i[0],e,i)),this.visit(t.getChildAt(0))}function Ws(t){return this.visitMany(t.type.children.map((e,i)=>t.getChildAt(i)).filter(Boolean))[0]}zs.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?Fs.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?Fs.call(this,Pe(t.offset,t.length,e)):Fs.call(this,Be(t))},zs.prototype.visitInt=Vs,zs.prototype.visitFloat=Vs,zs.prototype.visitUtf8=Ns,zs.prototype.visitBinary=Ns,zs.prototype.visitFixedSizeBinary=Vs,zs.prototype.visitDate=Vs,zs.prototype.visitTimestamp=Vs,zs.prototype.visitTime=Vs,zs.prototype.visitDecimal=Vs,zs.prototype.visitList=Us,zs.prototype.visitStruct=Ws,zs.prototype.visitUnion=function(t){const{type:e,length:i,typeIds:n,valueOffsets:r}=t;if(Fs.call(this,n),e.mode===xe.Sparse)return Ws.call(this,t);if(e.mode===xe.Dense){if(t.offset<=0)return Fs.call(this,r),Ws.call(this,t);{const a=n.reduce((t,e)=>Math.max(t,e),n[0]),s=new Int32Array(a+1),l=new Int32Array(a+1).fill(-1),o=new Int32Array(i),_=ie(-r[0],i,r);for(let t,e,r=-1;++r<i;)-1===(e=l[t=n[r]])&&(e=l[t]=_[t]),o[r]=_[r]-e,++s[t];Fs.call(this,o);for(let n,r=-1,c=e.children.length;++r<c;)if(n=t.getChildAt(r)){const t=e.typeIds[r],a=Math.min(i,s[t]);this.visit(n.slice(l[t],a))}}}return this},zs.prototype.visitInterval=Vs,zs.prototype.visitFixedSizeList=Us,zs.prototype.visitMap=Us;function js(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(js=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new js(t)}class Hs extends X{constructor(t){super(),this._position=0,this._started=!1,this._sink=new ca,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,st(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return lt(t)?t.then(t=>this.writeAll(t)):_t(t)?qs(this,t):Ks(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var i;return t===this._sink||t instanceof ca?this._sink=t:(this._sink=new ca,t&&(st(i=t)&&at(i.abort)&&at(i.getWriter)&&!(i instanceof X))?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>st(t)&&at(t.end)&&at(t.write)&&rt(t.writable)&&!(t instanceof X))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&e.compareTo(this._schema)||(null===e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null===t||void 0===t)return this.finish()&&void 0;if(t instanceof No&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof Uo&&!(e=t.schema))return this.finish()&&void 0;if(e&&!e.compareTo(this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof Uo?t instanceof Wo||this._writeRecordBatch(t):t instanceof No?this.writeAll(t.chunks):ot(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,i=cs.encode(t),n=i.byteLength,r=this._writeLegacyIpcFormat?4:8,a=n+r+e&~e,s=a-n-r;return t.headerType===Ce.RecordBatch?this._recordBatchBlocks.push(new oa(a,t.bodyLength,this._position)):t.headerType===Ce.DictionaryBatch&&this._dictionaryBlocks.push(new oa(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-r)),n>0&&this._write(i),this._writePadding(s)}_write(t){if(this._started){const e=It(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(cs.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(As)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:i,bufferRegions:n,buffers:r}=zs.assemble(t),a=new us(t.length,i,n),s=cs.from(a,e);return this._writeDictionaries(t)._writeMessage(s)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:n,nodes:r,bufferRegions:a,buffers:s}=zs.assemble(t),l=new us(t.length,r,a),o=new hs(l,e,i),_=cs.from(o,n);return this._writeMessage(_)._writeBodyBuffers(s)}_writeBodyBuffers(t){let e,i,n;for(let r=-1,a=t.length;++r<a;)(e=t[r])&&(i=e.byteLength)>0&&(this._write(e),(n=(i+7&-8)-i)>0&&this._writePadding(n));return this}_writeDictionaries(t){for(let[e,i]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(i=i.slice(t)).length>0){const n="chunks"in i?i.chunks:[i];for(const i of n)this._writeDictionaryBatch(i,e,t>0),t+=i.length}}return this}}class Ys extends Hs{static writeAll(t,e){const i=new Ys(e);return lt(t)?t.then(t=>i.writeAll(t)):_t(t)?qs(i,t):Ks(i,t)}}class $s extends Hs{constructor(){super(),this._autoDestroy=!0}static writeAll(t){const e=new $s;return lt(t)?t.then(t=>e.writeAll(t)):_t(t)?qs(e,t):Ks(e,t)}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=sa.encode(new sa(t,ke.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function Ks(t,e){let i=e;e instanceof No&&(i=e.chunks,t.reset(void 0,e.schema));for(const n of i)t.write(n);return t.finish()}async function qs(t,e){var i,n=!1,r=!1;try{for(var a,s=function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new js(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(e);n=!(a=await s.next()).done;n=!1){const e=a.value;t.write(e)}}catch(l){r=!0,i=l}finally{try{n&&null!=s.return&&await s.return()}finally{if(r)throw i}}return t.finish()}const Xs=new Uint8Array(0),Qs=t=>[Xs,Xs,new Uint8Array(t),Xs];function Gs(t,e){return function(t,e){const i=[...t.fields],n=[],r={numBatches:e.reduce((t,e)=>Math.max(t,e.length),0)};let a,s=0,l=0,o=-1,_=e.length,c=[];for(;r.numBatches-- >0;){for(l=Number.POSITIVE_INFINITY,o=-1;++o<_;)c[o]=a=e[o].shift(),l=Math.min(l,a?a.length:l);isFinite(l)&&(c=Zs(i,l,c,e,r),l>0&&(n[s++]=[l,c.slice()]))}return[t=new wr(i,t.metadata),n.map(e=>new Uo(t,...e))]}(t,e.map(t=>t instanceof or?t.chunks.map(t=>t.data):[t.data]))}function Zs(t,e,i,n,r){let a,s,l=0,o=-1,_=n.length;const c=(e+63&-64)>>3;for(;++o<_;)(a=i[o])&&(l=a.length)>=e?l===e?i[o]=a:(i[o]=a.slice(0,e),a=a.slice(e,l-e),r.numBatches=Math.max(r.numBatches,n[o].unshift(a))):((s=t[o]).nullable||(t[o]=s.clone({nullable:!0})),i[o]=a?a._changeLengthAndBackfillNullBitmap(e):Bi.new(s.type,0,e,e,Qs(c)));return i}function Js(t,e){if(null==t)return{};var i,n,r=function(t,e){if(null==t)return{};var i,n,r={},a=Object.keys(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}class tl extends me{constructor(t,e){super(),this._children=e,this.numChildren=t.childData.length,this._bindDataAccessors(this.data=t)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return"".concat(ge[this.typeId],"Vector")}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return"".concat(this.VectorName,"<").concat(this.type[Symbol.toStringTag],">")}clone(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._children;return me.new(t,e)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return or.concat(this,...e)}slice(t,e){return ir(this,t,e,this._sliceInternal)}isValid(t){if(this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}getChildAt(t){return t<0||t>=this.numChildren?null:(this._children||(this._children=[]))[t]||(this._children[t]=me.new(this.data.childData[t]))}toJSON(){return[...this]}_sliceInternal(t,e,i){return t.clone(t.data.slice(e,i-e),null)}_bindDataAccessors(t){}}tl.prototype[Symbol.isConcatSpreadable]=!0;class el extends tl{asUtf8(){return me.new(this.data.clone(new hi))}}class il extends tl{static from(t){return Fo(()=>new pi,t)}}class nl extends tl{static from(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return 2===e.length?Fo(()=>e[1]===ye.DAY?new vi:new mi,e[0]):Fo(()=>new mi,e[0])}}class rl extends nl{}class al extends nl{}class sl extends tl{}class ll extends tl{constructor(t){super(t),this.indices=me.new(t.clone(this.type.indices))}static from(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(3===e.length){const[t,i,n]=e,r=new Ei(t.type,i,null,null);return me.new(Bi.Dictionary(r,0,n.length,0,null,n,t))}return Fo(()=>e[0].type,e[0])}get dictionary(){return this.data.dictionary}reverseLookup(t){return this.dictionary.indexOf(t)}getKey(t){return this.indices.get(t)}getValue(t){return this.dictionary.get(t)}setKey(t,e){return this.indices.set(t,e)}setValue(t,e){return this.dictionary.set(t,e)}}ll.prototype.indices=null;class ol extends tl{}class _l extends tl{}class cl extends tl{static from(t){let e=vl(this);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){let i=fl(t.constructor)||e;if(null===e&&(e=i),e&&e===i){let i=new e,n=t.byteLength/i.ArrayType.BYTES_PER_ELEMENT;if(!dl(e,t.constructor))return me.new(Bi.Float(i,0,n,0,null,t))}}if(e)return Fo(()=>new e,t);if(t instanceof DataView||t instanceof ArrayBuffer)throw new TypeError("Cannot infer float type from instance of ".concat(t.constructor.name));throw new TypeError("Unrecognized FloatVector input")}}class ul extends cl{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}}class hl extends cl{}class pl extends cl{}const dl=(t,e)=>t===oi&&e!==Uint16Array,fl=t=>{switch(t){case Uint16Array:return oi;case Float32Array:return _i;case Float64Array:return ci;default:return null}},vl=t=>{switch(t){case ul:return oi;case hl:return _i;case pl:return ci;default:return null}};class ml extends tl{}class gl extends ml{}class bl extends ml{}class yl extends tl{static from(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r=!1]=e,a=Bl(this,r);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)){let t=Pl(n.constructor,r)||a;if(null===a&&(a=t),a&&a===t){let t=new a,e=n.byteLength/t.ArrayType.BYTES_PER_ELEMENT;return El(a,n.constructor)&&(e*=.5),me.new(Bi.Int(t,0,e,0,null,n))}}if(a)return Fo(()=>new a,n);if(n instanceof DataView||n instanceof ArrayBuffer)throw new TypeError("Cannot infer integer type from instance of ".concat(n.constructor.name));throw new TypeError("Unrecognized IntVector input")}}class wl extends yl{}class Sl extends yl{}class xl extends yl{}class Tl extends yl{toBigInt64Array(){return kt(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}}class Cl extends yl{}class kl extends yl{}class Il extends yl{}class Ml extends yl{toBigUint64Array(){return Pt(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}}const El=(t,e)=>(t===ii||t===si)&&(e===Int32Array||e===Uint32Array),Pl=(t,e)=>{switch(t){case Int8Array:return Je;case Int16Array:return ti;case Int32Array:return e?ii:ei;case J:return ii;case Uint8Array:return ni;case Uint16Array:return ri;case Uint32Array:return e?si:ai;case et:return si;default:return null}},Bl=(t,e)=>{switch(t){case wl:return Je;case Sl:return ti;case xl:return e?ii:ei;case Tl:return ii;case Cl:return ni;case kl:return ri;case Il:return e?si:ai;case Ml:return si;default:return null}};class Al extends tl{}class Ol extends tl{asList(){const t=this.type.children[0];return me.new(this.data.clone(new wi(t)))}bind(t){const e=this.getChildAt(0),{[t]:i,[t+1]:n}=this.valueOffsets;return new Qn(e.slice(i,n))}}class Dl extends tl{}const Rl=Symbol.for("rowIndex");class Ll extends tl{bind(t){const e=this._row||(this._row=new Gn(this)),i=Object.create(e);return i[Rl]=t,i}}class zl extends tl{}class Fl extends zl{}class Vl extends zl{}class Nl extends zl{}class Ul extends zl{}class Wl extends tl{}class jl extends Wl{}class Hl extends Wl{}class Yl extends Wl{}class $l extends Wl{}class Kl extends tl{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}}class ql extends Kl{get valueOffsets(){return this.data.valueOffsets}}class Xl extends Kl{}class Ql extends tl{static from(t){return Fo(()=>new hi,t)}asBinary(){return me.new(this.data.clone(new ui))}}function Gl(t){return function(){return t(this)}}function Zl(t){return function(e,i){return t(this,e,i)}}class Jl extends Le{}const to=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),eo=t=>new Date(t),io=(t,e,i)=>{const{[i]:n,[i+1]:r}=e;return null!=n&&null!=r?t.subarray(n,r):null},no=(t,e)=>{let{values:i}=t;return((t,e)=>eo(((t,e)=>864e5*t[e])(t,e)))(i,e)},ro=(t,e)=>{let{values:i}=t;return((t,e)=>eo(to(t,e)))(i,2*e)},ao=(t,e)=>{let{stride:i,values:n}=t;return n[i*e]},so=(t,e)=>{let{stride:i,values:n}=t;return tn(n[i*e])},lo=(t,e)=>{let{stride:i,values:n,type:r}=t;return vn.new(n.subarray(i*e,i*(e+1)),r.isSigned)},oo=(t,e)=>{let{values:i}=t;return 1e3*to(i,2*e)},_o=(t,e)=>{let{values:i}=t;return to(i,2*e)},co=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(i,2*e)},uo=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(i,2*e)},ho=(t,e)=>{let{values:i,stride:n}=t;return i[n*e]},po=(t,e)=>{let{values:i,stride:n}=t;return i[n*e]},fo=(t,e)=>{let{values:i}=t;return vn.signed(i.subarray(2*e,2*(e+1)))},vo=(t,e)=>{let{values:i}=t;return vn.signed(i.subarray(2*e,2*(e+1)))},mo=(t,e)=>{const i=t.typeIdToChildIndex[t.typeIds[e]],n=t.getChildAt(i);return n?n.get(t.valueOffsets[e]):null},go=(t,e)=>{const i=t.typeIdToChildIndex[t.typeIds[e]],n=t.getChildAt(i);return n?n.get(e):null},bo=(t,e)=>{let{values:i}=t;return i.subarray(2*e,2*(e+1))},yo=(t,e)=>{let{values:i}=t;const n=i[e],r=new Int32Array(2);return r[0]=n/12|0,r[1]=n%12|0,r};Jl.prototype.visitNull=(t,e)=>null,Jl.prototype.visitBool=(t,e)=>{let{offset:i,values:n}=t;const r=i+e;return 0!==(n[r>>3]&1<<r%8)},Jl.prototype.visitInt=(t,e)=>t.type.bitWidth<64?ao(t,e):lo(t,e),Jl.prototype.visitInt8=ao,Jl.prototype.visitInt16=ao,Jl.prototype.visitInt32=ao,Jl.prototype.visitInt64=lo,Jl.prototype.visitUint8=ao,Jl.prototype.visitUint16=ao,Jl.prototype.visitUint32=ao,Jl.prototype.visitUint64=lo,Jl.prototype.visitFloat=(t,e)=>t.type.precision!==Se.HALF?ao(t,e):so(t,e),Jl.prototype.visitFloat16=so,Jl.prototype.visitFloat32=ao,Jl.prototype.visitFloat64=ao,Jl.prototype.visitUtf8=(t,e)=>{let{values:i,valueOffsets:n}=t;const r=io(i,n,e);return null!==r?Y(r):null},Jl.prototype.visitBinary=(t,e)=>{let{values:i,valueOffsets:n}=t;return io(i,n,e)},Jl.prototype.visitFixedSizeBinary=(t,e)=>{let{stride:i,values:n}=t;return n.subarray(i*e,i*(e+1))},Jl.prototype.visitDate=(t,e)=>t.type.unit===ye.DAY?no(t,e):ro(t,e),Jl.prototype.visitDateDay=no,Jl.prototype.visitDateMillisecond=ro,Jl.prototype.visitTimestamp=(t,e)=>{switch(t.type.unit){case we.SECOND:return oo(t,e);case we.MILLISECOND:return _o(t,e);case we.MICROSECOND:return co(t,e);case we.NANOSECOND:return uo(t,e)}},Jl.prototype.visitTimestampSecond=oo,Jl.prototype.visitTimestampMillisecond=_o,Jl.prototype.visitTimestampMicrosecond=co,Jl.prototype.visitTimestampNanosecond=uo,Jl.prototype.visitTime=(t,e)=>{switch(t.type.unit){case we.SECOND:return ho(t,e);case we.MILLISECOND:return po(t,e);case we.MICROSECOND:return fo(t,e);case we.NANOSECOND:return vo(t,e)}},Jl.prototype.visitTimeSecond=ho,Jl.prototype.visitTimeMillisecond=po,Jl.prototype.visitTimeMicrosecond=fo,Jl.prototype.visitTimeNanosecond=vo,Jl.prototype.visitDecimal=(t,e)=>{let{values:i}=t;return vn.decimal(i.subarray(4*e,4*(e+1)))},Jl.prototype.visitList=(t,e)=>{const i=t.getChildAt(0),{valueOffsets:n,stride:r}=t;return i.slice(n[e*r],n[e*r+1])},Jl.prototype.visitStruct=(t,e)=>t.bind(e),Jl.prototype.visitUnion=(t,e)=>t.type.mode===xe.Dense?mo(t,e):go(t,e),Jl.prototype.visitDenseUnion=mo,Jl.prototype.visitSparseUnion=go,Jl.prototype.visitDictionary=(t,e)=>t.getValue(t.getKey(e)),Jl.prototype.visitInterval=(t,e)=>t.type.unit===Te.DAY_TIME?bo(t,e):yo(t,e),Jl.prototype.visitIntervalDayTime=bo,Jl.prototype.visitIntervalYearMonth=yo,Jl.prototype.visitFixedSizeList=(t,e)=>{const i=t.getChildAt(0),{stride:n}=t;return i.slice(e*n,(e+1)*n)},Jl.prototype.visitMap=(t,e)=>t.bind(e);const wo=new Jl;class So extends Le{}function xo(t,e,i){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let n=0;for(const r of Ae(i,t.data.offset+(e||0),t.length,i,Ie)){if(!r)return n;++n}return-1}(t,i);const n=ar(e);for(let r=(i||0)-1,a=t.length;++r<a;)if(n(t.get(r)))return r;return-1}function To(t,e,i){const n=ar(e);for(let r=(i||0)-1,a=t.length;++r<a;)if(n(t.get(r)))return r;return-1}So.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},So.prototype.visitBool=xo,So.prototype.visitInt=xo,So.prototype.visitInt8=xo,So.prototype.visitInt16=xo,So.prototype.visitInt32=xo,So.prototype.visitInt64=xo,So.prototype.visitUint8=xo,So.prototype.visitUint16=xo,So.prototype.visitUint32=xo,So.prototype.visitUint64=xo,So.prototype.visitFloat=xo,So.prototype.visitFloat16=xo,So.prototype.visitFloat32=xo,So.prototype.visitFloat64=xo,So.prototype.visitUtf8=xo,So.prototype.visitBinary=xo,So.prototype.visitFixedSizeBinary=xo,So.prototype.visitDate=xo,So.prototype.visitDateDay=xo,So.prototype.visitDateMillisecond=xo,So.prototype.visitTimestamp=xo,So.prototype.visitTimestampSecond=xo,So.prototype.visitTimestampMillisecond=xo,So.prototype.visitTimestampMicrosecond=xo,So.prototype.visitTimestampNanosecond=xo,So.prototype.visitTime=xo,So.prototype.visitTimeSecond=xo,So.prototype.visitTimeMillisecond=xo,So.prototype.visitTimeMicrosecond=xo,So.prototype.visitTimeNanosecond=xo,So.prototype.visitDecimal=xo,So.prototype.visitList=xo,So.prototype.visitStruct=xo,So.prototype.visitUnion=xo,So.prototype.visitDenseUnion=To,So.prototype.visitSparseUnion=To,So.prototype.visitDictionary=xo,So.prototype.visitInterval=xo,So.prototype.visitIntervalDayTime=xo,So.prototype.visitIntervalYearMonth=xo,So.prototype.visitFixedSizeList=xo,So.prototype.visitMap=xo;const Co=new So;class ko extends Le{}function Io(t){if(t.nullCount>0)return function(t){const e=wo.getVisitFn(t);return Ae(t.nullBitmap,t.offset,t.length,t,(t,i,n,r)=>0!==(n&1<<r)?e(t,i):null)}(t);const{type:e,typeId:i,length:n}=t;return 1===t.stride&&(i===ge.Timestamp||i===ge.Int&&64!==e.bitWidth||i===ge.Time&&64!==e.bitWidth||i===ge.Float&&e.precision>0)?t.values.subarray(0,n)[Symbol.iterator]():function*(e){for(let i=-1;++i<n;)yield e(t,i)}(wo.getVisitFn(t))}ko.prototype.visitNull=Io,ko.prototype.visitBool=Io,ko.prototype.visitInt=Io,ko.prototype.visitInt8=Io,ko.prototype.visitInt16=Io,ko.prototype.visitInt32=Io,ko.prototype.visitInt64=Io,ko.prototype.visitUint8=Io,ko.prototype.visitUint16=Io,ko.prototype.visitUint32=Io,ko.prototype.visitUint64=Io,ko.prototype.visitFloat=Io,ko.prototype.visitFloat16=Io,ko.prototype.visitFloat32=Io,ko.prototype.visitFloat64=Io,ko.prototype.visitUtf8=Io,ko.prototype.visitBinary=Io,ko.prototype.visitFixedSizeBinary=Io,ko.prototype.visitDate=Io,ko.prototype.visitDateDay=Io,ko.prototype.visitDateMillisecond=Io,ko.prototype.visitTimestamp=Io,ko.prototype.visitTimestampSecond=Io,ko.prototype.visitTimestampMillisecond=Io,ko.prototype.visitTimestampMicrosecond=Io,ko.prototype.visitTimestampNanosecond=Io,ko.prototype.visitTime=Io,ko.prototype.visitTimeSecond=Io,ko.prototype.visitTimeMillisecond=Io,ko.prototype.visitTimeMicrosecond=Io,ko.prototype.visitTimeNanosecond=Io,ko.prototype.visitDecimal=Io,ko.prototype.visitList=Io,ko.prototype.visitStruct=Io,ko.prototype.visitUnion=Io,ko.prototype.visitDenseUnion=Io,ko.prototype.visitSparseUnion=Io,ko.prototype.visitDictionary=Io,ko.prototype.visitInterval=Io,ko.prototype.visitIntervalDayTime=Io,ko.prototype.visitIntervalYearMonth=Io,ko.prototype.visitFixedSizeList=Io,ko.prototype.visitMap=Io;const Mo=new ko;class Eo extends Le{}function Po(t){const{type:e,length:i,stride:n}=t;switch(e.typeId){case ge.Int:case ge.Float:case ge.Decimal:case ge.Time:case ge.Timestamp:return t.values.subarray(0,i*n)}return[...Mo.visit(t)]}Eo.prototype.visitNull=Po,Eo.prototype.visitBool=Po,Eo.prototype.visitInt=Po,Eo.prototype.visitInt8=Po,Eo.prototype.visitInt16=Po,Eo.prototype.visitInt32=Po,Eo.prototype.visitInt64=Po,Eo.prototype.visitUint8=Po,Eo.prototype.visitUint16=Po,Eo.prototype.visitUint32=Po,Eo.prototype.visitUint64=Po,Eo.prototype.visitFloat=Po,Eo.prototype.visitFloat16=Po,Eo.prototype.visitFloat32=Po,Eo.prototype.visitFloat64=Po,Eo.prototype.visitUtf8=Po,Eo.prototype.visitBinary=Po,Eo.prototype.visitFixedSizeBinary=Po,Eo.prototype.visitDate=Po,Eo.prototype.visitDateDay=Po,Eo.prototype.visitDateMillisecond=Po,Eo.prototype.visitTimestamp=Po,Eo.prototype.visitTimestampSecond=Po,Eo.prototype.visitTimestampMillisecond=Po,Eo.prototype.visitTimestampMicrosecond=Po,Eo.prototype.visitTimestampNanosecond=Po,Eo.prototype.visitTime=Po,Eo.prototype.visitTimeSecond=Po,Eo.prototype.visitTimeMillisecond=Po,Eo.prototype.visitTimeMicrosecond=Po,Eo.prototype.visitTimeNanosecond=Po,Eo.prototype.visitDecimal=Po,Eo.prototype.visitList=Po,Eo.prototype.visitStruct=Po,Eo.prototype.visitUnion=Po,Eo.prototype.visitDenseUnion=Po,Eo.prototype.visitSparseUnion=Po,Eo.prototype.visitDictionary=Po,Eo.prototype.visitInterval=Po,Eo.prototype.visitIntervalDayTime=Po,Eo.prototype.visitIntervalYearMonth=Po,Eo.prototype.visitFixedSizeList=Po,Eo.prototype.visitMap=Po;const Bo=new Eo,Ao=(t,e)=>t+e,Oo=t=>"Cannot compute the byte width of variable-width column ".concat(t);const Do=new class extends Le{visitNull(t){return 0}visitInt(t){return t.bitWidth/8}visitFloat(t){return t.ArrayType.BYTES_PER_ELEMENT}visitBinary(t){throw new Error(Oo(t))}visitUtf8(t){throw new Error(Oo(t))}visitBool(t){return 1/8}visitDecimal(t){return 16}visitDate(t){return 4*(t.unit+1)}visitTime(t){return t.bitWidth/8}visitTimestamp(t){return t.unit===we.SECOND?4:8}visitInterval(t){return 4*(t.unit+1)}visitList(t){throw new Error(Oo(t))}visitStruct(t){return this.visitFields(t.children).reduce(Ao,0)}visitUnion(t){return this.visitFields(t.children).reduce(Ao,0)}visitFixedSizeBinary(t){return t.byteWidth}visitFixedSizeList(t){return t.listSize*this.visitFields(t.children).reduce(Ao,0)}visitMap(t){return this.visitFields(t.children).reduce(Ao,0)}visitDictionary(t){return this.visit(t.indices)}visitFields(t){return(t||[]).map(t=>this.visit(t.type))}visitSchema(t){return this.visitFields(t.fields).reduce(Ao,0)}};const Ro=new class extends Le{visitNull(){return Dl}visitBool(){return il}visitInt(){return yl}visitInt8(){return wl}visitInt16(){return Sl}visitInt32(){return xl}visitInt64(){return Tl}visitUint8(){return Cl}visitUint16(){return kl}visitUint32(){return Il}visitUint64(){return Ml}visitFloat(){return cl}visitFloat16(){return ul}visitFloat32(){return hl}visitFloat64(){return pl}visitUtf8(){return Ql}visitBinary(){return el}visitFixedSizeBinary(){return ol}visitDate(){return nl}visitDateDay(){return rl}visitDateMillisecond(){return al}visitTimestamp(){return zl}visitTimestampSecond(){return Fl}visitTimestampMillisecond(){return Vl}visitTimestampMicrosecond(){return Nl}visitTimestampNanosecond(){return Ul}visitTime(){return Wl}visitTimeSecond(){return jl}visitTimeMillisecond(){return Hl}visitTimeMicrosecond(){return Yl}visitTimeNanosecond(){return $l}visitDecimal(){return sl}visitList(){return Al}visitStruct(){return Ll}visitUnion(){return Kl}visitDenseUnion(){return ql}visitSparseUnion(){return Xl}visitDictionary(){return ll}visitInterval(){return ml}visitIntervalDayTime(){return gl}visitIntervalYearMonth(){return bl}visitFixedSizeList(){return _l}visitMap(){return Ol}},Lo=["values"];function zo(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(zo=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new zo(t)}function Fo(t,e){if(ot(e))return me.from({nullValues:[null,void 0],type:t(),values:e});if(_t(e))return me.from({nullValues:[null,void 0],type:t(),values:e});const{values:i=[],type:n=t(),nullValues:r=[null,void 0]}=Object(ve.a)({},e);return ot(i),me.from(Object(ve.a)(Object(ve.a)({nullValues:r},e),{},{type:n}))}function Vo(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(Vo=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new Vo(t)}me.new=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return new(Ro.getVisitFn(t)())(t,...i)},me.from=function(t){const e=Object(ve.a)({nullValues:[null,void 0]},t),{values:i=[]}=e,n=Js(e,Lo);if(ot(i)){const t=[...Ui.throughIterable(n)(i)];return 1===t.length?t[0]:or.concat(t)}return(async t=>{const e=Ui.throughAsyncIterable(n);var r,a=!1,s=!1;try{for(var l,o=function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new zo(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(e(i));a=!(l=await o.next()).done;a=!1){const e=l.value;t.push(e)}}catch(_){s=!0,r=_}finally{try{a&&null!=o.return&&await o.return()}finally{if(s)throw r}}return 1===t.length?t[0]:or.concat(t)})([])},tl.prototype.get=function(t){return wo.visit(this,t)},tl.prototype.set=function(t,e){return Zr.visit(this,t,e)},tl.prototype.indexOf=function(t,e){return Co.visit(this,t,e)},tl.prototype.toArray=function(){return Bo.visit(this)},tl.prototype.getByteWidth=function(){return Do.visit(this.type)},tl.prototype[Symbol.iterator]=function(){return Mo.visit(this)},tl.prototype._bindDataAccessors=function(){const t=this.nullBitmap;t&&t.byteLength>0&&(this.get=(e=this.get,function(t){return this.isValid(t)?e.call(this,t):null}),this.set=function(t){return function(e,i){Ee(this.nullBitmap,this.offset+e,!(null===i||void 0===i))&&t.call(this,e,i)}}(this.set));var e},Object.keys(ge).map(t=>ge[t]).filter(t=>"number"===typeof t).filter(t=>t!==ge.NONE).forEach(t=>{const e=Ro.visit(t);var i;e.prototype.get=(i=wo.getVisitFn(t),function(t){return i(this,t)}),e.prototype.set=Zl(Zr.getVisitFn(t)),e.prototype.indexOf=Zl(Co.getVisitFn(t)),e.prototype.toArray=Gl(Bo.getVisitFn(t)),e.prototype.getByteWidth=function(t){return function(){return t(this.type)}}(Do.getVisitFn(t)),e.prototype[Symbol.iterator]=Gl(Mo.getVisitFn(t))});class No extends or{constructor(){let t=null;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];i[0]instanceof wr&&(t=i.shift());let r=dr(Uo,i);if(!t&&!(t=r[0]&&r[0].schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");r[0]||(r[0]=new Wo(t)),super(new Si(t.fields),r),this._schema=t,this._chunks=r}static empty(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wr([]);return new No(t,[])}static from(t){if(!t)return No.empty();if("object"===typeof t){let e=ot(t.values)?function(t){const{type:e}=t;if(e instanceof Si)return No.fromStruct(Ll.from(t));return null}(t):_t(t.values)?function(t){const{type:e}=t;if(e instanceof Si)return Ll.from(t).then(t=>No.fromStruct(t));return null}(t):null;if(null!==e)return e}let e=Yo.from(t);return lt(e)?(async()=>await No.from(await e))():e.isSync()&&(e=e.open())?e.schema?new No(e.schema,[...e]):No.empty():(async t=>{const e=await t,i=e.schema,n=[];if(i){var r,a=!1,s=!1;try{for(var l,o=function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new Vo(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(e);a=!(l=await o.next()).done;a=!1){let t=l.value;n.push(t)}}catch(_){s=!0,r=_}finally{try{a&&null!=o.return&&await o.return()}finally{if(s)throw r}}return new No(i,n)}return No.empty()})(e.open())}static async fromAsync(t){return await No.from(t)}static fromStruct(t){return No.new(t.data.childData,t.type.children)}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new No(...(n=(t=>{const[e,i]=yr(t,[[],[]]);return i.map((t,i)=>t instanceof ur?ur.new(t.field.clone(e[i]),t):t instanceof me?ur.new(e[i],t):ur.new(e[i],[]))})(e),Gs(new wr(n.map(t=>{let{field:e}=t;return e})),n)));var n}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._chunks;return new No(this._schema,t)}getColumn(t){return this.getColumnAt(this.getColumnIndex(t))}getColumnAt(t){return this.getChildAt(t)}getColumnIndex(t){return this._schema.fields.findIndex(e=>e.name===t)}getChildAt(t){if(t<0||t>=this.numChildren)return null;let e,i;const n=this._schema.fields,r=this._children||(this._children=[]);if(i=r[t])return i;if(e=n[t]){const i=this._chunks.map(e=>e.getChildAt(t)).filter(t=>null!=t);if(i.length>0)return r[t]=new ur(e,i)}return null}serialize(){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?Ys:$s).writeAll(this).toUint8Array(!0)}count(){return this._length}select(){const t=this._schema.fields.reduce((t,e,i)=>t.set(e.name,i),new Map);for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.selectAt(...i.map(e=>t.get(e)).filter(t=>t>-1))}selectAt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=this._schema.selectAt(...e);return new No(n,this._chunks.map(t=>{let{length:i,data:{childData:r}}=t;return new Uo(n,i,e.map(t=>r[t]).filter(Boolean))}))}assign(t){var e=this;const i=this._schema.fields,[n,r]=t.schema.fields.reduce((t,e,n)=>{const[r,a]=t,s=i.findIndex(t=>t.name===e.name);return~s?a[s]=n:r.push(n),t},[[],[]]),a=this._schema.assign(t.schema),s=[...i.map((function(i,n,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r[n];return void 0===s?e.getColumnAt(n):t.getColumnAt(s)})),...n.map(e=>t.getColumnAt(e))].filter(Boolean);return new No(...Gs(a,s))}}class Uo extends Ll{constructor(){let t;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];let r,a=i[0];if(i[1]instanceof Bi)[,t,r]=i;else{const e=a.fields,[,n,r]=i;t=Bi.Struct(new Si(e),0,n,0,null,r)}super(t,r),this._schema=a}static from(t){return ot(t.values),No.from(t)}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const[n,r]=fr(e),a=r.filter(t=>t instanceof me);return new Uo(...function(t,e){let i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce((t,e)=>Math.max(t,e.length),0),a=-1,s=e.length;const l=[...t.fields],o=[],_=(r+63&-64)>>3;for(;++a<s;)(i=e[a])&&i.length===r?o[a]=i:((n=l[a]).nullable||(l[a]=l[a].clone({nullable:!0})),o[a]=i?i._changeLengthAndBackfillNullBitmap(r):Bi.new(n.type,0,r,r,Qs(_)));return[new wr(l),r,o]}(new wr(n),a.map(t=>t.data)))}clone(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._children;return new Uo(this._schema,t,e)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=this._schema,r=or.flatten(this,...e);return new No(n,r.map(t=>{let{data:e}=t;return new Uo(n,e)}))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=jo.collect(this))}select(){const t=this._schema.fields.reduce((t,e,i)=>t.set(e.name,i),new Map);for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.selectAt(...i.map(e=>t.get(e)).filter(t=>t>-1))}selectAt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=this._schema.selectAt(...e),r=e.map(t=>this.data.childData[t]).filter(Boolean);return new Uo(n,this.length,r)}}class Wo extends Uo{constructor(t){super(t,0,t.fields.map(t=>Bi.new(t.type,0,0,0)))}}class jo extends Le{constructor(){super(...arguments),this.dictionaries=new Map}static collect(t){return(new jo).visit(t.data,new Si(t.schema.fields)).dictionaries}visit(t,e){return Xe.isDictionary(e)?this.visitDictionary(t,e):(t.childData.forEach((t,i)=>this.visit(t,e.children[i].type)),this)}visitDictionary(t,e){const i=t.dictionary;return i&&i.length>0&&this.dictionaries.set(e.id,i),this}}function Ho(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(Ho=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new Ho(t)}class Yo extends X{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return lt(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return re.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return re.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Yo?t:ct(t)?function(t){return new $o(new e_(t))}(t):ht(t)?async function(t){const{size:e}=await t.stat(),i=new va(t,e);if(e>=Ls&&Os(await i.readAt(0,Ds+7&-8)))return new Xo(new t_(i));return new Ko(new Zo(i))}(t):lt(t)?(async()=>await Yo.from(await t))():pt(t)||dt(t)||ft(t)||_t(t)?async function(t){const e=await t.peek(Ds+7&-8);return e&&e.byteLength>=4?Os(e)?new qo(new Jo(await t.read())):new Ko(new Zo(t)):new Ko(new Zo(A((function*(){}))()))}(new ha(t)):function(t){const e=t.peek(Ds+7&-8);return e&&e.byteLength>=4?Os(e)?new qo(new Jo(t.read())):new $o(new Go(t)):new $o(new Go(function*(){}()))}(new ua(t))}static readAll(t){return t instanceof Yo?t.isSync()?n_(t):r_(t):ct(t)||ArrayBuffer.isView(t)||ot(t)||ut(t)?n_(t):r_(t)}}class $o extends Yo{constructor(t){super(t),this._impl=t}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){var t=this;return A((function*(){yield*O(function(t){var e,i,n,r=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new Ho(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(t[Symbol.iterator]()),P)}))()}}class Ko extends Yo{constructor(t){super(t),this._impl=t}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class qo extends $o{constructor(t){super(t),this._impl=t}}class Xo extends Ko{constructor(t){super(t),this._impl=t}}class Qo{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){return new Uo(this.schema,t.length,this._loadVectors(t,e,this.schema.fields))}_loadDictionaryBatch(t,e){const{id:i,isDelta:n,data:r}=t,{dictionaries:a,schema:s}=this,l=a.get(i);if(n||!l){const t=s.dictionaries.get(i);return l&&n?l.concat(me.new(this._loadVectors(r,e,[t])[0])):me.new(this._loadVectors(r,e,[t])[0])}return l}_loadVectors(t,e,i){return new xa(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}class Go extends Qo{constructor(t,e){super(e),this._reader=ct(t)?new Ps(this._handle=t):new Ms(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=i_(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):K}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):K}next(){if(this.closed)return K;let t,{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new Wo(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Zo extends Qo{constructor(t,e){super(e),this._reader=new Es(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}async cancel(){!this.closed&&(this.closed=!0)&&(await this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}async open(t){return this.closed||(this.autoDestroy=i_(this,t),this.schema||(this.schema=await this._reader.readSchema())||await this.cancel()),this}async throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.throw(t):K}async return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.return(t):K}async next(){if(this.closed)return K;let t,{_reader:e}=this;for(;t=await this._readNextMessageAndValidate();)if(t.isSchema())await this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=await e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=await e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new Wo(this.schema)}):await this.return()}async _readNextMessageAndValidate(t){return await this._reader.readMessage(t)}}class Jo extends Go{constructor(t,e){super(t instanceof fa?t:new fa(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){if(this.closed)return null;this._footer||this.open();const e=this._footer&&this._footer.getRecordBatch(t);if(e&&this._handle.seek(e.offset)){const t=this._reader.readMessage(Ce.RecordBatch);if(t&&t.isRecordBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){const e=this._footer&&this._footer.getDictionaryBatch(t);if(e&&this._handle.seek(e.offset)){const t=this._reader.readMessage(Ce.DictionaryBatch);if(t&&t.isDictionaryBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}_readFooter(){const{_handle:t}=this,e=t.size-Rs,i=t.readInt32(e),n=t.readAt(e-i,i);return sa.decode(n)}_readNextMessageAndValidate(t){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(e&&this._handle.seek(e.offset))return this._reader.readMessage(t)}return null}}class t_ extends Zo{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const r="number"!==typeof i[0]?i.shift():void 0,a=i[0]instanceof Map?i.shift():void 0;super(t instanceof va?t:new va(t,r),a)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}async open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=await this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&await this._readDictionaryBatch(this._dictionaryIndex++)}return await super.open(t)}async readRecordBatch(t){if(this.closed)return null;this._footer||await this.open();const e=this._footer&&this._footer.getRecordBatch(t);if(e&&await this._handle.seek(e.offset)){const t=await this._reader.readMessage(Ce.RecordBatch);if(t&&t.isRecordBatch()){const e=t.header(),i=await this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}async _readDictionaryBatch(t){const e=this._footer&&this._footer.getDictionaryBatch(t);if(e&&await this._handle.seek(e.offset)){const t=await this._reader.readMessage(Ce.DictionaryBatch);if(t&&t.isDictionaryBatch()){const e=t.header(),i=await this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}async _readFooter(){const{_handle:t}=this;t._pending&&await t._pending;const e=t.size-Rs,i=await t.readInt32(e),n=await t.readAt(e-i,i);return sa.decode(n)}async _readNextMessageAndValidate(t){if(this._footer||await this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&await this._handle.seek(e.offset))return await this._reader.readMessage(t)}return null}}class e_ extends Go{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new Ta(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}function i_(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*n_(t){const e=Yo.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function r_(t){return a_.apply(this,arguments)}function a_(){return(a_=A((function*(t){const e=yield P(Yo.from(t));try{if(!(yield P(e.open({autoDestroy:!1}))).closed)do{yield e}while(!(yield P(e.reset().open())).closed)}finally{yield P(e.cancel())}}))).apply(this,arguments)}const s_=["readableStrategy","writableStrategy","queueingStrategy"];class l_{constructor(t){this._numChunks=0,this._finished=!1,this._bufferedSize=0;const{readableStrategy:e,writableStrategy:i,queueingStrategy:n="count"}=t,r=Js(t,s_);this._controller=null,this._builder=Ui.new(r),this._getSize="bytes"!==n?o_:__;const{highWaterMark:a=("bytes"===n?16384:1e3)}=Object(ve.a)({},e),{highWaterMark:s=("bytes"===n?16384:1e3)}=Object(ve.a)({},i);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:t=>{this._maybeFlush(this._builder,this._controller=t)},start:t=>{this._maybeFlush(this._builder,this._controller=t)}},{highWaterMark:a,size:"bytes"!==n?o_:__}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:s,size:t=>this._writeValueAndReturnChunkSize(t)})}_writeValueAndReturnChunkSize(t){const e=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(t)),this._bufferedSize-e}_maybeFlush(t,e){null!==e&&(this._bufferedSize>=e.desiredSize&&++this._numChunks&&this._enqueue(e,t.toVector()),t.finished&&((t.length>0||0===this._numChunks)&&++this._numChunks&&this._enqueue(e,t.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(e,null)))}_enqueue(t,e){this._bufferedSize=0,this._controller=null,null===e?t.close():t.enqueue(e)}}const o_=t=>t.length,__=t=>t.byteLength;class c_{eq(t){return t instanceof c_||(t=new u_(t)),new g_(this,t)}le(t){return t instanceof c_||(t=new u_(t)),new b_(this,t)}ge(t){return t instanceof c_||(t=new u_(t)),new y_(this,t)}lt(t){return new w_(this.ge(t))}gt(t){return new w_(this.le(t))}ne(t){return new w_(this.eq(t))}}class u_ extends c_{constructor(t){super(),this.v=t}}class h_ extends c_{constructor(t){super(),this.name=t}bind(t){if(!this.colidx){this.colidx=-1;const e=t.schema.fields;for(let t=-1;++t<e.length;)if(e[t].name===this.name){this.colidx=t;break}if(this.colidx<0)throw new Error('Failed to bind Col "'.concat(this.name,'"'))}const e=this.vector=t.getChildAt(this.colidx);return t=>e.get(t)}}class p_{and(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new v_(this,...e)}or(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new m_(this,...e)}not(){return new w_(this)}}class d_ extends p_{constructor(t,e){super(),this.left=t,this.right=e}bind(t){return this.left instanceof u_?this.right instanceof u_?this._bindLitLit(t,this.left,this.right):this._bindLitCol(t,this.left,this.right):this.right instanceof u_?this._bindColLit(t,this.left,this.right):this._bindColCol(t,this.left,this.right)}}class f_ extends p_{constructor(){super();for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.children=e}}f_.prototype.children=Object.freeze([]);class v_ extends f_{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e=e.reduce((t,e)=>t.concat(e instanceof v_?e.children:e),[]),super(...e)}bind(t){const e=this.children.map(e=>e.bind(t));return(t,i)=>e.every(e=>e(t,i))}}class m_ extends f_{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e=e.reduce((t,e)=>t.concat(e instanceof m_?e.children:e),[]),super(...e)}bind(t){const e=this.children.map(e=>e.bind(t));return(t,i)=>e.some(e=>e(t,i))}}class g_ extends d_{_bindLitLit(t,e,i){const n=e.v==i.v;return()=>n}_bindColCol(t,e,i){const n=e.bind(t),r=i.bind(t);return(t,e)=>n(t,e)==r(t,e)}_bindColLit(t,e,i){const n=e.bind(t);if(e.vector instanceof ll){let t;const n=e.vector;return n.dictionary!==this.lastDictionary?(t=n.reverseLookup(i.v),this.lastDictionary=n.dictionary,this.lastKey=t):t=this.lastKey,-1===t?()=>!1:e=>n.getKey(e)===t}return(t,e)=>n(t,e)==i.v}_bindLitCol(t,e,i){return this._bindColLit(t,i,e)}}class b_ extends d_{_bindLitLit(t,e,i){const n=e.v<=i.v;return()=>n}_bindColCol(t,e,i){const n=e.bind(t),r=i.bind(t);return(t,e)=>n(t,e)<=r(t,e)}_bindColLit(t,e,i){const n=e.bind(t);return(t,e)=>n(t,e)<=i.v}_bindLitCol(t,e,i){const n=i.bind(t);return(t,i)=>e.v<=n(t,i)}}class y_ extends d_{_bindLitLit(t,e,i){const n=e.v>=i.v;return()=>n}_bindColCol(t,e,i){const n=e.bind(t),r=i.bind(t);return(t,e)=>n(t,e)>=r(t,e)}_bindColLit(t,e,i){const n=e.bind(t);return(t,e)=>n(t,e)>=i.v}_bindLitCol(t,e,i){const n=i.bind(t);return(t,i)=>e.v>=n(t,i)}}class w_ extends p_{constructor(t){super(),this.child=t}bind(t){const e=this.child.bind(t);return(t,i)=>!e(t,i)}}No.prototype.countBy=function(t){return new S_(this.chunks).countBy(t)},No.prototype.scan=function(t,e){return new S_(this.chunks).scan(t,e)},No.prototype.scanReverse=function(t,e){return new S_(this.chunks).scanReverse(t,e)},No.prototype.filter=function(t){return new S_(this.chunks).filter(t)};class S_ extends No{filter(t){return new T_(this.chunks,t)}scan(t,e){const i=this.chunks,n=i.length;for(let r=-1;++r<n;){const n=i[r];e&&e(n);for(let e=-1,i=n.length;++e<i;)t(e,n)}}scanReverse(t,e){const i=this.chunks;for(let n=i.length;--n>=0;){const r=i[n];e&&e(r);for(let e=r.length;--e>=0;)t(e,r)}}countBy(t){const e=this.chunks,i=e.length,n="string"===typeof t?new h_(t):t;n.bind(e[i-1]);const r=n.vector;if(!Xe.isDictionary(r.type))throw new Error("countBy currently only supports dictionary-encoded columns");const a=Math.ceil(Math.log(r.length)/Math.log(256)),s=new(4==a?Uint32Array:a>=2?Uint16Array:Uint8Array)(r.dictionary.length);for(let l=-1;++l<i;){const t=e[l];n.bind(t);const i=n.vector.indices;for(let e=-1,n=t.length;++e<n;){let t=i.get(e);null!==t&&s[t]++}}return new x_(r.dictionary,yl.from(s))}}class x_ extends No{constructor(t,e){const i=new wr([new Sr("values",t.type),new Sr("counts",e.type)]);super(new Uo(i,e.length,[t,e]))}toJSON(){const t=this.getColumnAt(0),e=this.getColumnAt(1),i={};for(let n=-1;++n<this.length;)i[t.get(n)]=e.get(n);return i}}class T_ extends S_{constructor(t,e){super(t),this._predicate=e}scan(t,e){const i=this._chunks,n=i.length;for(let r=-1;++r<n;){const n=i[r],a=this._predicate.bind(n);let s=!1;for(let i=-1,r=n.length;++i<r;)a(i,n)&&(e&&!s&&(e(n),s=!0),t(i,n))}}scanReverse(t,e){const i=this._chunks;for(let n=i.length;--n>=0;){const r=i[n],a=this._predicate.bind(r);let s=!1;for(let i=r.length;--i>=0;)a(i,r)&&(e&&!s&&(e(r),s=!0),t(i,r))}}count(){let t=0;const e=this._chunks,i=e.length;for(let n=-1;++n<i;){const i=e[n],r=this._predicate.bind(i);for(let e=-1,n=i.length;++e<n;)r(e,i)&&++t}return t}*[Symbol.iterator](){const t=this._chunks,e=t.length;for(let i=-1;++i<e;){const e=t[i],n=this._predicate.bind(e);for(let t=-1,i=e.length;++t<i;)n(t,e)&&(yield e.get(t))}}filter(t){return new T_(this._chunks,this._predicate.and(t))}countBy(t){const e=this._chunks,i=e.length,n="string"===typeof t?new h_(t):t;n.bind(e[i-1]);const r=n.vector;if(!Xe.isDictionary(r.type))throw new Error("countBy currently only supports dictionary-encoded columns");const a=Math.ceil(Math.log(r.length)/Math.log(256)),s=new(4==a?Uint32Array:a>=2?Uint16Array:Uint8Array)(r.dictionary.length);for(let l=-1;++l<i;){const t=e[l],i=this._predicate.bind(t);n.bind(t);const r=n.vector.indices;for(let e=-1,n=t.length;++e<n;){let n=r.get(e);null!==n&&i(e,t)&&s[n]++}}return new x_(r.dictionary,yl.from(s))}}Object(ve.a)(Object(ve.a)(Object(ve.a)(Object(ve.a)(Object(ve.a)(Object(ve.a)({},s),o),r),a),n),l);re.toDOMStream=function(t,e){if(_t(t))return function(t,e){let i=null;const n=e&&"bytes"===e.type||!1,r=e&&e.highWaterMark||2**24;return new ReadableStream(Object(ve.a)(Object(ve.a)({},e),{},{async start(e){await a(e,i||(i=t[Symbol.asyncIterator]()))},async pull(t){i?await a(t,i):t.close()},async cancel(){i&&i.return&&await i.return(),i=null}}),Object(ve.a)({highWaterMark:n?r:void 0},e));async function a(t,e){let i,r=null,a=t.desiredSize||null;for(;!(r=await e.next(n?a:null)).done;)if(ArrayBuffer.isView(r.value)&&(i=It(r.value))&&(null!=a&&n&&(a=a-i.byteLength+1),r.value=i),t.enqueue(r.value),null!=a&&--a<=0)return;t.close()}}(t,e);if(ot(t))return function(t,e){let i=null;const n=e&&"bytes"===e.type||!1,r=e&&e.highWaterMark||2**24;return new ReadableStream(Object(ve.a)(Object(ve.a)({},e),{},{start(e){a(e,i||(i=t[Symbol.iterator]()))},pull(t){i?a(t,i):t.close()},cancel(){i&&i.return&&i.return(),i=null}}),Object(ve.a)({highWaterMark:n?r:void 0},e));function a(t,e){let i,r=null,a=t.desiredSize||null;for(;!(r=e.next(n?a:null)).done;)if(ArrayBuffer.isView(r.value)&&(i=It(r.value))&&(null!=a&&n&&(a=a-i.byteLength+1),r.value=i),t.enqueue(r.value),null!=a&&--a<=0)return;t.close()}}(t,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")},Ui.throughDOM=function(t){return new l_(t)},Yo.throughDOM=function(t,e){const i=new ca;let n=null;const r=new ReadableStream({async cancel(){await i.close()},async start(t){await a(t,n||(n=await async function(){return await(await Yo.from(i)).open(e)}()))},async pull(t){n?await a(t,n):t.close()}});return{writable:new WritableStream(i,Object(ve.a)({highWaterMark:16384},t)),readable:r};async function a(t,e){let i=t.desiredSize,n=null;for(;!(n=await e.next()).done;)if(t.enqueue(n.value),null!=i&&--i<=0)return;t.close()}},Hs.throughDOM=function(t,e){const i=new this(t),n=new ha(i),r=new ReadableStream({type:"bytes",async cancel(){await n.cancel()},async pull(t){await a(t)},async start(t){await a(t)}},Object(ve.a)({highWaterMark:16384},e));return{writable:new WritableStream(i,t),readable:r};async function a(t){let e=null,i=t.desiredSize;for(;e=await n.read(i||null);)if(t.enqueue(e),null!=i&&(i-=e.byteLength)<=0)return;t.close()}};var C_,k_=function(){function t(t,e,i,n){var r=this;this.getCell=function(t,e){var i=t<r.headerRows&&e<r.headerColumns,n=t>=r.headerRows&&e<r.headerColumns,a=t<r.headerRows&&e>=r.headerColumns;if(i){var s=["blank"];return e>0&&s.push("level"+t),{type:"blank",classNames:s.join(" "),content:""}}if(a)return{type:"columns",classNames:(s=["col_heading","level"+t,"col"+(o=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,o,t)};if(n){s=["row_heading","level"+e,"row"+(l=t-r.headerRows)];return{type:"index",id:"T_"+r.uuid+"level"+e+"_row"+l,classNames:s.join(" "),content:r.getContent(r.indexTable,l,e)}}s=["data","row"+(l=t-r.headerRows),"col"+(o=e-r.headerColumns)];var l,o,_=r.styler?r.getContent(r.styler.displayValuesTable,l,o):r.getContent(r.dataTable,l,o);return{type:"data",id:"T_"+r.uuid+"row"+l+"_col"+o,classNames:s.join(" "),content:_}},this.getContent=function(t,e,i){var n=t.getColumnAt(i);if(null===n)return"";switch(r.getColumnTypeId(t,i)){case ge.Timestamp:return r.nanosToDate(n.get(e));default:return n.get(e)}},this.dataTable=No.from(t),this.indexTable=No.from(e),this.columnsTable=No.from(i),this.styler=n?{caption:n.caption,displayValuesTable:No.from(n.displayValues),styles:n.styles,uuid:n.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.length+this.columnsTable.numCols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!0,configurable:!0}),t.prototype.serialize=function(){return{data:this.dataTable.serialize(),index:this.indexTable.serialize(),columns:this.columnsTable.serialize()}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),I_=function(){return(I_=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(C_||(C_={}));var M_=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new M,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(C_.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(C_.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var i;e instanceof k_?(i="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(i){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(i="bytes",e=new Uint8Array(e)):i="json":(i="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(C_.SET_COMPONENT_VALUE,{value:e,dataType:i})},t.onMessageEvent=function(e){switch(e.data.type){case t.RENDER_EVENT:t.onRenderMessage(e.data)}},t.onRenderMessage=function(e){var i=e.args;null==i&&(console.error("Got null args in onRenderMessage. This should never happen"),i={});var n=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};i=I_(I_({},i),n);var r=Boolean(e.disabled),a=e.theme;a&&E_(a);var s={disabled:r,args:i,theme:a},l=new CustomEvent(t.RENDER_EVENT,{detail:s});t.events.dispatchEvent(l)},t.argsDataframeToObject=function(e){var i=e.map((function(e){var i=e.key,n=e.value;return[i,t.toArrowTable(n)]}));return Object.fromEntries(i)},t.toArrowTable=function(t){var e=t.data,i=e.data,n=e.index,r=e.columns,a=e.styler;return new k_(i,n,r,a)},t.sendBackMsg=function(t,e){window.parent.postMessage(I_({isStreamlitMessage:!0,type:t},e),"*")},t}(),E_=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: "+t.primaryColor+";\n      --background-color: "+t.backgroundColor+";\n      --secondary-background-color: "+t.secondaryBackgroundColor+";\n      --text-color: "+t.textColor+";\n      --font: "+t.font+";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  "};var P_=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),B_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P_(e,t),e.prototype.componentDidMount=function(){M_.setFrameHeight()},e.prototype.componentDidUpdate=function(){M_.setFrameHeight()},e}(h.a.PureComponent);function A_(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.componentDidMount=function(){M_.events.addEventListener(M_.RENDER_EVENT,n.onRenderEvent),M_.setComponentReady()},n.componentDidUpdate=function(){null!=n.state.componentError&&M_.setFrameHeight()},n.componentWillUnmount=function(){M_.events.removeEventListener(M_.RENDER_EVENT,n.onRenderEvent)},n.onRenderEvent=function(t){var e=t;n.setState({renderData:e.detail})},n.render=function(){return null!=n.state.componentError?h.a.createElement("div",null,h.a.createElement("h1",null,"Component Error"),h.a.createElement("span",null,n.state.componentError.message)):null==n.state.renderData?null:h.a.createElement(t,{width:window.innerWidth,disabled:n.state.renderData.disabled,args:n.state.renderData.args,theme:n.state.renderData.theme})},n.state={renderData:void 0,componentError:void 0},n}return P_(i,e),i.getDerivedStateFromError=function(t){return{componentError:t}},i}(h.a.PureComponent);return c()(e,t)}},function(t,e,i){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=i(12)},function(t,e,i){"use strict";var n=i(17),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function o(t){return n.isMemo(t)?s:l[t.$$typeof]||r}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=s;var _=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,i,n){if("string"!==typeof i){if(d){var r=p(i);r&&r!==d&&t(e,r,n)}var s=c(i);u&&(s=s.concat(u(i)));for(var l=o(e),f=o(i),v=0;v<s.length;++v){var m=s[v];if(!a[m]&&(!n||!n[m])&&(!f||!f[m])&&(!l||!l[m])){var g=h(i,m);try{_(e,m,g)}catch(b){}}}}return e}},function(t,e,i){"use strict";function n(t){var e=t.width,i=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:i}}function r(t,e){return t.width===e.width&&t.height===e.height}i.d(e,"a",(function(){return Wr}));var a=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter((function(t){return t!==i}))}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach((function(e){return e.next(t._window.devicePixelRatio)})),this._reinstallResolutionListener()},t}();var s=function(){function t(t,e,i){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=n({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!==e&&void 0!==e?e:function(t){return t},this._allowResizeObserver=null===(r=null===i||void 0===i?void 0:i.allowResizeObserver)||void 0===r||r,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return n({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=n(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter((function(e){return e!==t}))},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter((function(e){return e!==t}))},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;r(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=n(this._transformBitmapSize(t,this._canvasElementClientSize)),a=r(this.bitmapSize,i)?null:i;null===e&&null===a||null!==e&&null!==a&&r(e,a)||(this._suggestedBitmapSize=a,this._emitSuggestedBitmapSizeChanged(e,a))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise((function(t){var e=new ResizeObserver((function(i){t(i.every((function(t){return"devicePixelContentBoxSize"in t}))),e.disconnect()}));e.observe(document.body,{box:"device-pixel-content-box"})})).catch((function(){return!1})).then((function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=l(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new a(t)}(e),this._devicePixelRatioObservable.subscribe((function(){return t._invalidateBitmapSize()})),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var i=l(this._canvasElement);if(null!==i){var r=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:i.devicePixelRatio,a=this._canvasElement.getClientRects(),s=void 0!==a[0]?function(t,e){return n({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(a[0],r):n({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(s)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver((function(e){var i=e.find((function(e){return e.target===t._canvasElement}));if(i&&i.devicePixelContentBoxSize&&i.devicePixelContentBoxSize[0]){var r=i.devicePixelContentBoxSize[0],a=n({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(a)}})),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function l(t){return t.ownerDocument.defaultView}var o=function(){function t(t,e,i){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===i.width||0===i.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function _(t,e){var i=t.canvasElementClientSize;if(0===i.width||0===i.height)return null;var n=t.bitmapSize;if(0===n.width||0===n.height)return null;var r=t.canvasElement.getContext("2d",e);return null===r?null:new o(r,i,n)}const c={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},u={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},h={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},p={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},d={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},f={color:"#26a69a",base:0},v={color:"#2196f3"},m={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var g,b;function y(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function w(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(i,e+r),t.lineTo(n,e+r),t.stroke()}function S(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function x(t){if(void 0===t)throw new Error("Value is undefined");return t}function T(t){if(null===t)throw new Error("Value is null");return t}function C(t){return T(x(t))}!function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"}(g||(g={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(b||(b={}));const k={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function I(t){return t<0?0:t>255?255:Math.round(t)||0}function M(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const E=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,P=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,B=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,A=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function O(t){(t=t.toLowerCase())in k&&(t=k[t]);{const e=A.exec(t)||B.exec(t);if(e)return[I(parseInt(e[1],10)),I(parseInt(e[2],10)),I(parseInt(e[3],10)),M(e.length<5?1:parseFloat(e[4]))]}{const e=P.exec(t);if(e)return[I(parseInt(e[1],16)),I(parseInt(e[2],16)),I(parseInt(e[3],16)),1]}{const e=E.exec(t);if(e)return[I(17*parseInt(e[1],16)),I(17*parseInt(e[2],16)),I(17*parseInt(e[3],16)),1]}throw new Error("Cannot parse color: ".concat(t))}function D(t){return.199*t[0]+.687*t[1]+.114*t[2]}function R(t){const e=O(t);return{_internal_background:"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),_internal_foreground:D(e)>160?"black":"white"}}class L{constructor(){this._private__listeners=[]}_internal_subscribe(t,e,i){const n={_internal_callback:t,_internal_linkedObject:e,_internal_singleshot:!0===i};this._private__listeners.push(n)}_internal_unsubscribe(t){const e=this._private__listeners.findIndex(e=>t===e._internal_callback);e>-1&&this._private__listeners.splice(e,1)}_internal_unsubscribeAll(t){this._private__listeners=this._private__listeners.filter(e=>e._internal_linkedObject!==t)}_internal_fire(t,e,i){const n=[...this._private__listeners];this._private__listeners=this._private__listeners.filter(t=>!t._internal_singleshot),n.forEach(n=>n._internal_callback(t,e,i))}_internal_hasListeners(){return this._private__listeners.length>0}_internal_destroy(){this._private__listeners=[]}}function z(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const r of i)for(const e in r)void 0!==r[e]&&Object.prototype.hasOwnProperty.call(r,e)&&!["__proto__","constructor","prototype"].includes(e)&&("object"!==typeof r[e]||void 0===t[e]||Array.isArray(r[e])?t[e]=r[e]:z(t[e],r[e]));return t}function F(t){return"number"===typeof t&&isFinite(t)}function V(t){return"number"===typeof t&&t%1===0}function N(t){return"string"===typeof t}function U(t){return"boolean"===typeof t}function W(t){const e=t;if(!e||"object"!==typeof e)return e;let i,n,r;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(r=e[n],i[n]=r&&"object"===typeof r?W(r):r);return i}function j(t){return null!==t}function H(t){return null===t?void 0:t}const Y="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function $(t,e,i){return i=void 0!==i?"".concat(i," "):"",void 0===e&&(e=Y),"".concat(i).concat(t,"px ").concat(e)}class K{constructor(t){this._private__rendererOptions={_internal_borderSize:1,_internal_tickLength:5,_internal_fontSize:NaN,_internal_font:"",_internal_fontFamily:"",_internal_color:"",_internal_paneBackgroundColor:"",_internal_paddingBottom:0,_internal_paddingInner:0,_internal_paddingOuter:0,_internal_paddingTop:0,_internal_baselineOffset:0},this._private__chartModel=t}_internal_options(){const t=this._private__rendererOptions,e=this._private__fontSize(),i=this._private__fontFamily();return t._internal_fontSize===e&&t._internal_fontFamily===i||(t._internal_fontSize=e,t._internal_fontFamily=i,t._internal_font=$(e,i),t._internal_paddingTop=2.5/12*e,t._internal_paddingBottom=t._internal_paddingTop,t._internal_paddingInner=e/12*t._internal_tickLength,t._internal_paddingOuter=e/12*t._internal_tickLength,t._internal_baselineOffset=0),t._internal_color=this._private__textColor(),t._internal_paneBackgroundColor=this._private__paneBackgroundColor(),this._private__rendererOptions}_private__textColor(){return this._private__chartModel._internal_options().layout.textColor}_private__paneBackgroundColor(){return this._private__chartModel._internal_backgroundTopColor()}_private__fontSize(){return this._private__chartModel._internal_options().layout.fontSize}_private__fontFamily(){return this._private__chartModel._internal_options().layout.fontFamily}}class q{constructor(){this._private__renderers=[]}_internal_setRenderers(t){this._private__renderers=t}_internal_draw(t,e,i){this._private__renderers.forEach(n=>{n._internal_draw(t,e,i)})}}class X{_internal_draw(t,e,i){t.useBitmapCoordinateSpace(t=>this._internal__drawImpl(t,e,i))}}class Q extends X{constructor(){super(...arguments),this._internal__data=null}_internal_setData(t){this._internal__data=t}_internal__drawImpl(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this._internal__data||null===this._internal__data._internal_visibleRange)return;const r=this._internal__data._internal_visibleRange,a=this._internal__data,s=Math.max(1,Math.floor(i))%2/2,l=t=>{e.beginPath();for(let l=r.to-1;l>=r.from;--l){const r=a._internal_items[l],o=Math.round(r._internal_x*i)+s,_=r._internal_y*n,c=t*n+s;e.moveTo(o,_),e.arc(o,_,c,0,2*Math.PI)}e.fill()};a._internal_lineWidth>0&&(e.fillStyle=a._internal_backColor,l(a._internal_radius+a._internal_lineWidth)),e.fillStyle=a._internal_lineColor,l(a._internal_radius)}}function G(){return{_internal_items:[{_internal_x:0,_internal_y:0,_internal_time:0,_internal_price:0}],_internal_lineColor:"",_internal_backColor:"",_internal_radius:0,_internal_lineWidth:0,_internal_visibleRange:null}}const Z={from:0,to:1};class J{constructor(t,e){this._private__compositeRenderer=new q,this._private__markersRenderers=[],this._private__markersData=[],this._private__invalidated=!0,this._private__chartModel=t,this._private__crosshair=e,this._private__compositeRenderer._internal_setRenderers(this._private__markersRenderers)}_internal_update(t){const e=this._private__chartModel._internal_serieses();e.length!==this._private__markersRenderers.length&&(this._private__markersData=e.map(G),this._private__markersRenderers=this._private__markersData.map(t=>{const e=new Q;return e._internal_setData(t),e}),this._private__compositeRenderer._internal_setRenderers(this._private__markersRenderers)),this._private__invalidated=!0}_internal_renderer(){return this._private__invalidated&&(this._private__updateImpl(),this._private__invalidated=!1),this._private__compositeRenderer}_private__updateImpl(){const t=2===this._private__crosshair._internal_options().mode,e=this._private__chartModel._internal_serieses(),i=this._private__crosshair._internal_appliedIndex(),n=this._private__chartModel._internal_timeScale();e.forEach((e,r)=>{var a;const s=this._private__markersData[r],l=e._internal_markerDataAtIndex(i);if(t||null===l||!e._internal_visible())return void(s._internal_visibleRange=null);const o=T(e._internal_firstValue());s._internal_lineColor=l._internal_backgroundColor,s._internal_radius=l._internal_radius,s._internal_lineWidth=l._internal_borderWidth,s._internal_items[0]._internal_price=l._internal_price,s._internal_items[0]._internal_y=e._internal_priceScale()._internal_priceToCoordinate(l._internal_price,o._internal_value),s._internal_backColor=null!==(a=l._internal_borderColor)&&void 0!==a?a:this._private__chartModel._internal_backgroundColorAtYPercentFromTop(s._internal_items[0]._internal_y/e._internal_priceScale()._internal_height()),s._internal_items[0]._internal_time=i,s._internal_items[0]._internal_x=n._internal_indexToCoordinate(i),s._internal_visibleRange=Z})}}class tt extends X{constructor(t){super(),this._private__data=t}_internal__drawImpl(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this._private__data)return;const a=this._private__data._internal_vertLine._internal_visible,s=this._private__data._internal_horzLine._internal_visible;if(!a&&!s)return;const l=Math.round(this._private__data._internal_x*n),o=Math.round(this._private__data._internal_y*r);e.lineCap="butt",a&&l>=0&&(e.lineWidth=Math.floor(this._private__data._internal_vertLine._internal_lineWidth*n),e.strokeStyle=this._private__data._internal_vertLine._internal_color,e.fillStyle=this._private__data._internal_vertLine._internal_color,y(e,this._private__data._internal_vertLine._internal_lineStyle),function(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(e+r,i),t.lineTo(e+r,n),t.stroke()}(e,l,0,i.height)),s&&o>=0&&(e.lineWidth=Math.floor(this._private__data._internal_horzLine._internal_lineWidth*r),e.strokeStyle=this._private__data._internal_horzLine._internal_color,e.fillStyle=this._private__data._internal_horzLine._internal_color,y(e,this._private__data._internal_horzLine._internal_lineStyle),w(e,o,0,i.width))}}class et{constructor(t){this._private__invalidated=!0,this._private__rendererData={_internal_vertLine:{_internal_lineWidth:1,_internal_lineStyle:0,_internal_color:"",_internal_visible:!1},_internal_horzLine:{_internal_lineWidth:1,_internal_lineStyle:0,_internal_color:"",_internal_visible:!1},_internal_x:0,_internal_y:0},this._private__renderer=new tt(this._private__rendererData),this._private__source=t}_internal_update(){this._private__invalidated=!0}_internal_renderer(){return this._private__invalidated&&(this._private__updateImpl(),this._private__invalidated=!1),this._private__renderer}_private__updateImpl(){const t=this._private__source._internal_visible(),e=T(this._private__source._internal_pane()),i=e._internal_model()._internal_options().crosshair,n=this._private__rendererData;if(2===i.mode)return n._internal_horzLine._internal_visible=!1,void(n._internal_vertLine._internal_visible=!1);n._internal_horzLine._internal_visible=t&&this._private__source._internal_horzLineVisible(e),n._internal_vertLine._internal_visible=t&&this._private__source._internal_vertLineVisible(),n._internal_horzLine._internal_lineWidth=i.horzLine.width,n._internal_horzLine._internal_lineStyle=i.horzLine.style,n._internal_horzLine._internal_color=i.horzLine.color,n._internal_vertLine._internal_lineWidth=i.vertLine.width,n._internal_vertLine._internal_lineStyle=i.vertLine.style,n._internal_vertLine._internal_color=i.vertLine.color,n._internal_x=this._private__source._internal_appliedX(),n._internal_y=this._private__source._internal_appliedY()}}function it(t,e,i,n,r,a){t.fillRect(e+a,i,n-2*a,a),t.fillRect(e+a,i+r-a,n-2*a,a),t.fillRect(e,i,a,r),t.fillRect(e+n-a,i,a,r)}function nt(t,e,i,n,r,a){t.save(),t.globalCompositeOperation="copy",t.fillStyle=a,t.fillRect(e,i,n,r),t.restore()}function rt(t,e){return t.map(t=>0===t?t:t+e)}function at(t,e,i,n,r,a){t.beginPath(),t.roundRect?t.roundRect(e,i,n,r,a):(t.lineTo(e+n-a[1],i),0!==a[1]&&t.arcTo(e+n,i,e+n,i+a[1],a[1]),t.lineTo(e+n,i+r-a[2]),0!==a[2]&&t.arcTo(e+n,i+r,e+n-a[2],i+r,a[2]),t.lineTo(e+a[3],i+r),0!==a[3]&&t.arcTo(e,i+r,e,i+r-a[3],a[3]),t.lineTo(e,i+a[0]),0!==a[0]&&t.arcTo(e,i,e+a[0],i,a[0]))}function st(t,e,i,n,r,a){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0,0,0,0],o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";if(t.save(),!s||!o||o===a)return at(t,e,i,n,r,l),t.fillStyle=a,t.fill(),void t.restore();const _=s/2,c=rt(l,-_);at(t,e+_,i+_,n-s,r-s,c),"transparent"!==a&&(t.fillStyle=a,t.fill()),"transparent"!==o&&(t.lineWidth=s,t.strokeStyle=o,t.closePath(),t.stroke()),t.restore()}function lt(t,e,i,n,r,a,s){t.save(),t.globalCompositeOperation="copy";const l=t.createLinearGradient(0,0,0,r);l.addColorStop(0,a),l.addColorStop(1,s),t.fillStyle=l,t.fillRect(e,i,n,r),t.restore()}class ot{constructor(t,e){this._internal_setData(t,e)}_internal_setData(t,e){this._private__data=t,this._private__commonData=e}_internal_height(t,e){return this._private__data._internal_visible?t._internal_fontSize+t._internal_paddingTop+t._internal_paddingBottom:0}_internal_draw(t,e,i,n){if(!this._private__data._internal_visible||0===this._private__data._internal_text.length)return;const r=this._private__data._internal_color,a=this._private__commonData._internal_background,s=t.useBitmapCoordinateSpace(t=>{const s=t.context;s.font=e._internal_font;const l=this._private__calculateGeometry(t,e,i,n),o=l._internal_bitmap;return l._internal_alignRight?st(s,o._internal_xOutside,o._internal_yTop,o._internal_totalWidth,o._internal_totalHeight,a,o._internal_horzBorder,[o._internal_radius,0,0,o._internal_radius],a):st(s,o._internal_xInside,o._internal_yTop,o._internal_totalWidth,o._internal_totalHeight,a,o._internal_horzBorder,[0,o._internal_radius,o._internal_radius,0],a),this._private__data._internal_tickVisible&&(s.fillStyle=r,s.fillRect(o._internal_xInside,o._internal_yMid,o._internal_xTick-o._internal_xInside,o._internal_tickHeight)),this._private__data._internal_borderVisible&&(s.fillStyle=e._internal_paneBackgroundColor,s.fillRect(l._internal_alignRight?o._internal_right-o._internal_horzBorder:0,o._internal_yTop,o._internal_horzBorder,o._internal_yBottom-o._internal_yTop)),l});t.useMediaCoordinateSpace(t=>{let{context:i}=t;const n=s._internal_media;i.font=e._internal_font,i.textAlign=s._internal_alignRight?"right":"left",i.textBaseline="middle",i.fillStyle=r,i.fillText(this._private__data._internal_text,n._internal_xText,(n._internal_yTop+n._internal_yBottom)/2+n._internal_textMidCorrection)})}_private__calculateGeometry(t,e,i,n){var r;const{context:a,bitmapSize:s,mediaSize:l,horizontalPixelRatio:o,verticalPixelRatio:_}=t,c=this._private__data._internal_tickVisible||!this._private__data._internal_moveTextToInvisibleTick?e._internal_tickLength:0,u=this._private__data._internal_separatorVisible?e._internal_borderSize:0,h=e._internal_paddingTop+this._private__commonData._internal_additionalPaddingTop,p=e._internal_paddingBottom+this._private__commonData._internal_additionalPaddingBottom,d=e._internal_paddingInner,f=e._internal_paddingOuter,v=this._private__data._internal_text,m=e._internal_fontSize,g=i._internal_yMidCorrection(a,v),b=Math.ceil(i._internal_measureText(a,v)),y=m+h+p,w=e._internal_borderSize+d+f+b+c,S=Math.max(1,Math.floor(_));let x=Math.round(y*_);x%2!==S%2&&(x+=1);const T=u>0?Math.max(1,Math.floor(u*o)):0,C=Math.round(w*o),k=Math.round(c*o),I=null!==(r=this._private__commonData._internal_fixedCoordinate)&&void 0!==r?r:this._private__commonData._internal_coordinate,M=Math.round(I*_)-Math.floor(.5*_),E=Math.floor(M+S/2-x/2),P=E+x,B="right"===n,A=B?l.width-u:u,O=B?s.width-T:T;let D,R,L;return B?(D=O-C,R=O-k,L=A-c-d-u):(D=O+C,R=O+k,L=A+c+d),{_internal_alignRight:B,_internal_bitmap:{_internal_yTop:E,_internal_yMid:M,_internal_yBottom:P,_internal_totalWidth:C,_internal_totalHeight:x,_internal_radius:2*o,_internal_horzBorder:T,_internal_xOutside:D,_internal_xInside:O,_internal_xTick:R,_internal_tickHeight:S,_internal_right:s.width},_internal_media:{_internal_yTop:E/_,_internal_yBottom:P/_,_internal_xText:L,_internal_textMidCorrection:g}}}}class _t{constructor(t){this._private__commonRendererData={_internal_coordinate:0,_internal_background:"#000",_internal_additionalPaddingBottom:0,_internal_additionalPaddingTop:0},this._private__axisRendererData={_internal_text:"",_internal_visible:!1,_internal_tickVisible:!0,_internal_moveTextToInvisibleTick:!1,_internal_borderColor:"",_internal_color:"#FFF",_internal_borderVisible:!1,_internal_separatorVisible:!1},this._private__paneRendererData={_internal_text:"",_internal_visible:!1,_internal_tickVisible:!1,_internal_moveTextToInvisibleTick:!0,_internal_borderColor:"",_internal_color:"#FFF",_internal_borderVisible:!0,_internal_separatorVisible:!0},this._private__invalidated=!0,this._private__axisRenderer=new(t||ot)(this._private__axisRendererData,this._private__commonRendererData),this._private__paneRenderer=new(t||ot)(this._private__paneRendererData,this._private__commonRendererData)}_internal_text(){return this._private__updateRendererDataIfNeeded(),this._private__axisRendererData._internal_text}_internal_coordinate(){return this._private__updateRendererDataIfNeeded(),this._private__commonRendererData._internal_coordinate}_internal_update(){this._private__invalidated=!0}_internal_height(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.max(this._private__axisRenderer._internal_height(t,e),this._private__paneRenderer._internal_height(t,e))}_internal_getFixedCoordinate(){return this._private__commonRendererData._internal_fixedCoordinate||0}_internal_setFixedCoordinate(t){this._private__commonRendererData._internal_fixedCoordinate=t}_internal_isVisible(){return this._private__updateRendererDataIfNeeded(),this._private__axisRendererData._internal_visible||this._private__paneRendererData._internal_visible}_internal_isAxisLabelVisible(){return this._private__updateRendererDataIfNeeded(),this._private__axisRendererData._internal_visible}_internal_renderer(t){return this._private__updateRendererDataIfNeeded(),this._private__axisRendererData._internal_tickVisible=this._private__axisRendererData._internal_tickVisible&&t._internal_options().ticksVisible,this._private__paneRendererData._internal_tickVisible=this._private__paneRendererData._internal_tickVisible&&t._internal_options().ticksVisible,this._private__axisRenderer._internal_setData(this._private__axisRendererData,this._private__commonRendererData),this._private__paneRenderer._internal_setData(this._private__paneRendererData,this._private__commonRendererData),this._private__axisRenderer}_internal_paneRenderer(){return this._private__updateRendererDataIfNeeded(),this._private__axisRenderer._internal_setData(this._private__axisRendererData,this._private__commonRendererData),this._private__paneRenderer._internal_setData(this._private__paneRendererData,this._private__commonRendererData),this._private__paneRenderer}_private__updateRendererDataIfNeeded(){this._private__invalidated&&(this._private__axisRendererData._internal_tickVisible=!0,this._private__paneRendererData._internal_tickVisible=!1,this._internal__updateRendererData(this._private__axisRendererData,this._private__paneRendererData,this._private__commonRendererData))}}class ct extends _t{constructor(t,e,i){super(),this._private__source=t,this._private__priceScale=e,this._private__valueProvider=i}_internal__updateRendererData(t,e,i){if(t._internal_visible=!1,2===this._private__source._internal_options().mode)return;const n=this._private__source._internal_options().horzLine;if(!n.labelVisible)return;const r=this._private__priceScale._internal_firstValue();if(!this._private__source._internal_visible()||this._private__priceScale._internal_isEmpty()||null===r)return;const a=R(n.labelBackgroundColor);i._internal_background=a._internal_background,t._internal_color=a._internal_foreground;const s=2/12*this._private__priceScale._internal_fontSize();i._internal_additionalPaddingTop=s,i._internal_additionalPaddingBottom=s;const l=this._private__valueProvider(this._private__priceScale);i._internal_coordinate=l._internal_coordinate,t._internal_text=this._private__priceScale._internal_formatPrice(l._internal_price,r),t._internal_visible=!0}}const ut=/[1-9]/g;class ht{constructor(){this._private__data=null}_internal_setData(t){this._private__data=t}_internal_draw(t,e){if(null===this._private__data||!1===this._private__data._internal_visible||0===this._private__data._internal_text.length)return;const i=t.useMediaCoordinateSpace(t=>{let{context:i}=t;return i.font=e._internal_font,Math.round(e._internal_widthCache._internal_measureText(i,T(this._private__data)._internal_text,ut))});if(i<=0)return;const n=e._internal_paddingHorizontal,r=i+2*n,a=r/2,s=this._private__data._internal_width;let l=this._private__data._internal_coordinate,o=Math.floor(l-a)+.5;o<0?(l+=Math.abs(0-o),o=Math.floor(l-a)+.5):o+r>s&&(l-=Math.abs(s-(o+r)),o=Math.floor(l-a)+.5);const _=o+r,c=Math.ceil(0+e._internal_borderSize+e._internal_tickLength+e._internal_paddingTop+e._internal_fontSize+e._internal_paddingBottom);t.useBitmapCoordinateSpace(t=>{let{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;const a=T(this._private__data);i.fillStyle=a._internal_background;const s=Math.round(o*n),l=Math.round(0*r),u=Math.round(_*n),h=Math.round(c*r),p=Math.round(2*n);if(i.beginPath(),i.moveTo(s,l),i.lineTo(s,h-p),i.arcTo(s,h,s+p,h,p),i.lineTo(u-p,h),i.arcTo(u,h,u,h-p,p),i.lineTo(u,l),i.fill(),a._internal_tickVisible){const t=Math.round(a._internal_coordinate*n),s=l,o=Math.round((s+e._internal_tickLength)*r);i.fillStyle=a._internal_color;const _=Math.max(1,Math.floor(n)),c=Math.floor(.5*n);i.fillRect(t-c,s,_,o-s)}}),t.useMediaCoordinateSpace(t=>{let{context:i}=t;const r=T(this._private__data),a=0+e._internal_borderSize+e._internal_tickLength+e._internal_paddingTop+e._internal_fontSize/2;i.font=e._internal_font,i.textAlign="left",i.textBaseline="middle",i.fillStyle=r._internal_color;const s=e._internal_widthCache._internal_yMidCorrection(i,"Apr0");i.translate(o+n,a+s),i.fillText(r._internal_text,0,0)})}}class pt{constructor(t,e,i){this._private__invalidated=!0,this._private__renderer=new ht,this._private__rendererData={_internal_visible:!1,_internal_background:"#4c525e",_internal_color:"white",_internal_text:"",_internal_width:0,_internal_coordinate:NaN,_internal_tickVisible:!0},this._private__crosshair=t,this._private__model=e,this._private__valueProvider=i}_internal_update(){this._private__invalidated=!0}_internal_renderer(){return this._private__invalidated&&(this._private__updateImpl(),this._private__invalidated=!1),this._private__renderer._internal_setData(this._private__rendererData),this._private__renderer}_private__updateImpl(){const t=this._private__rendererData;if(t._internal_visible=!1,2===this._private__crosshair._internal_options().mode)return;const e=this._private__crosshair._internal_options().vertLine;if(!e.labelVisible)return;const i=this._private__model._internal_timeScale();if(i._internal_isEmpty())return;t._internal_width=i._internal_width();const n=this._private__valueProvider();if(null===n)return;t._internal_coordinate=n._internal_coordinate;const r=i._internal_indexToTimeScalePoint(this._private__crosshair._internal_appliedIndex());t._internal_text=i._internal_formatDateTime(T(r)),t._internal_visible=!0;const a=R(e.labelBackgroundColor);t._internal_background=a._internal_background,t._internal_color=a._internal_foreground,t._internal_tickVisible=i._internal_options().ticksVisible}}class dt{constructor(){this._internal__priceScale=null,this._private__zorder=0}_internal_zorder(){return this._private__zorder}_internal_setZorder(t){this._private__zorder=t}_internal_priceScale(){return this._internal__priceScale}_internal_setPriceScale(t){this._internal__priceScale=t}_internal_labelPaneViews(t){return[]}_internal_timeAxisViews(){return[]}_internal_visible(){return!0}}var ft;!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"}(ft||(ft={}));class vt extends dt{constructor(t,e){super(),this._private__pane=null,this._private__price=NaN,this._private__index=0,this._private__visible=!0,this._private__priceAxisViews=new Map,this._private__subscribed=!1,this._private__x=NaN,this._private__y=NaN,this._private__originX=NaN,this._private__originY=NaN,this._private__model=t,this._private__options=e,this._private__markersPaneView=new J(t,this);this._private__currentPosPriceProvider=((t,e)=>i=>{const n=e(),r=t();if(i===T(this._private__pane)._internal_defaultPriceScale())return{_internal_price:r,_internal_coordinate:n};{const t=T(i._internal_firstValue());return{_internal_price:i._internal_coordinateToPrice(n,t),_internal_coordinate:n}}})(()=>this._private__price,()=>this._private__y);const i=((t,e)=>()=>{const i=this._private__model._internal_timeScale()._internal_indexToTime(t()),n=e();return i&&Number.isFinite(n)?{_internal_time:i,_internal_coordinate:n}:null})(()=>this._private__index,()=>this._internal_appliedX());this._private__timeAxisView=new pt(this,t,i),this._private__paneView=new et(this)}_internal_options(){return this._private__options}_internal_saveOriginCoord(t,e){this._private__originX=t,this._private__originY=e}_internal_clearOriginCoord(){this._private__originX=NaN,this._private__originY=NaN}_internal_originCoordX(){return this._private__originX}_internal_originCoordY(){return this._private__originY}_internal_setPosition(t,e,i){this._private__subscribed||(this._private__subscribed=!0),this._private__visible=!0,this._private__tryToUpdateViews(t,e,i)}_internal_appliedIndex(){return this._private__index}_internal_appliedX(){return this._private__x}_internal_appliedY(){return this._private__y}_internal_visible(){return this._private__visible}_internal_clearPosition(){this._private__visible=!1,this._private__setIndexToLastSeriesBarIndex(),this._private__price=NaN,this._private__x=NaN,this._private__y=NaN,this._private__pane=null,this._internal_clearOriginCoord()}_internal_paneViews(t){return null!==this._private__pane?[this._private__paneView,this._private__markersPaneView]:[]}_internal_horzLineVisible(t){return t===this._private__pane&&this._private__options.horzLine.visible}_internal_vertLineVisible(){return this._private__options.vertLine.visible}_internal_priceAxisViews(t,e){this._private__visible&&this._private__pane===t||this._private__priceAxisViews.clear();const i=[];return this._private__pane===t&&i.push(this._private__createPriceAxisViewOnDemand(this._private__priceAxisViews,e,this._private__currentPosPriceProvider)),i}_internal_timeAxisViews(){return this._private__visible?[this._private__timeAxisView]:[]}_internal_pane(){return this._private__pane}_internal_updateAllViews(){this._private__paneView._internal_update(),this._private__priceAxisViews.forEach(t=>t._internal_update()),this._private__timeAxisView._internal_update(),this._private__markersPaneView._internal_update()}_private__priceScaleByPane(t){return t&&!t._internal_defaultPriceScale()._internal_isEmpty()?t._internal_defaultPriceScale():null}_private__tryToUpdateViews(t,e,i){this._private__tryToUpdateData(t,e,i)&&this._internal_updateAllViews()}_private__tryToUpdateData(t,e,i){const n=this._private__x,r=this._private__y,a=this._private__price,s=this._private__index,l=this._private__pane,o=this._private__priceScaleByPane(i);this._private__index=t,this._private__x=isNaN(t)?NaN:this._private__model._internal_timeScale()._internal_indexToCoordinate(t),this._private__pane=i;const _=null!==o?o._internal_firstValue():null;return null!==o&&null!==_?(this._private__price=e,this._private__y=o._internal_priceToCoordinate(e,_)):(this._private__price=NaN,this._private__y=NaN),n!==this._private__x||r!==this._private__y||s!==this._private__index||a!==this._private__price||l!==this._private__pane}_private__setIndexToLastSeriesBarIndex(){const t=this._private__model._internal_serieses().map(t=>t._internal_bars()._internal_lastIndex()).filter(j),e=0===t.length?null:Math.max(...t);this._private__index=null!==e?e:NaN}_private__createPriceAxisViewOnDemand(t,e,i){let n=t.get(e);return void 0===n&&(n=new ct(this,e,i),t.set(e,n)),n}}function mt(t){return"left"===t||"right"===t}class gt{constructor(t){this._private__invalidatedPanes=new Map,this._private__timeScaleInvalidations=[],this._private__globalLevel=t}_internal_invalidatePane(t,e){const i=function(t,e){return void 0===t?e:{_internal_level:Math.max(t._internal_level,e._internal_level),_internal_autoScale:t._internal_autoScale||e._internal_autoScale}}(this._private__invalidatedPanes.get(t),e);this._private__invalidatedPanes.set(t,i)}_internal_fullInvalidation(){return this._private__globalLevel}_internal_invalidateForPane(t){const e=this._private__invalidatedPanes.get(t);return void 0===e?{_internal_level:this._private__globalLevel}:{_internal_level:Math.max(this._private__globalLevel,e._internal_level),_internal_autoScale:e._internal_autoScale}}_internal_setFitContent(){this._internal_stopTimeScaleAnimation(),this._private__timeScaleInvalidations=[{_internal_type:0}]}_internal_applyRange(t){this._internal_stopTimeScaleAnimation(),this._private__timeScaleInvalidations=[{_internal_type:1,_internal_value:t}]}_internal_setTimeScaleAnimation(t){this._private__removeTimeScaleAnimation(),this._private__timeScaleInvalidations.push({_internal_type:5,_internal_value:t})}_internal_stopTimeScaleAnimation(){this._private__removeTimeScaleAnimation(),this._private__timeScaleInvalidations.push({_internal_type:6})}_internal_resetTimeScale(){this._internal_stopTimeScaleAnimation(),this._private__timeScaleInvalidations=[{_internal_type:4}]}_internal_setBarSpacing(t){this._internal_stopTimeScaleAnimation(),this._private__timeScaleInvalidations.push({_internal_type:2,_internal_value:t})}_internal_setRightOffset(t){this._internal_stopTimeScaleAnimation(),this._private__timeScaleInvalidations.push({_internal_type:3,_internal_value:t})}_internal_timeScaleInvalidations(){return this._private__timeScaleInvalidations}_internal_merge(t){for(const e of t._private__timeScaleInvalidations)this._private__applyTimeScaleInvalidation(e);this._private__globalLevel=Math.max(this._private__globalLevel,t._private__globalLevel),t._private__invalidatedPanes.forEach((t,e)=>{this._internal_invalidatePane(e,t)})}static _internal_light(){return new gt(2)}static _internal_full(){return new gt(3)}_private__applyTimeScaleInvalidation(t){switch(t._internal_type){case 0:this._internal_setFitContent();break;case 1:this._internal_applyRange(t._internal_value);break;case 2:this._internal_setBarSpacing(t._internal_value);break;case 3:this._internal_setRightOffset(t._internal_value);break;case 4:this._internal_resetTimeScale();break;case 5:this._internal_setTimeScaleAnimation(t._internal_value);break;case 6:this._private__removeTimeScaleAnimation()}}_private__removeTimeScaleAnimation(){const t=this._private__timeScaleInvalidations.findIndex(t=>5===t._internal_type);-1!==t&&this._private__timeScaleInvalidations.splice(t,1)}}const bt=".";function yt(t,e){if(!F(t))return"n/a";if(!V(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");if(0===e)return t.toString();return("0000000000000000"+t.toString()).slice(-e)}class wt{constructor(t,e){if(e||(e=1),F(t)&&V(t)||(t=100),t<0)throw new TypeError("invalid base");this._private__priceScale=t,this._private__minMove=e,this._private__calculateDecimal()}format(t){const e=t<0?"\u2212":"";return t=Math.abs(t),e+this._private__formatAsDecimal(t)}_private__calculateDecimal(){if(this._internal__fractionalLength=0,this._private__priceScale>0&&this._private__minMove>0){let t=this._private__priceScale;for(;t>1;)t/=10,this._internal__fractionalLength++}}_private__formatAsDecimal(t){const e=this._private__priceScale/this._private__minMove;let i=Math.floor(t),n="";const r=void 0!==this._internal__fractionalLength?this._internal__fractionalLength:NaN;if(e>1){let a=+(Math.round(t*e)-i*e).toFixed(this._internal__fractionalLength);a>=e&&(a-=e,i+=1),n=bt+yt(+a.toFixed(this._internal__fractionalLength)*this._private__minMove,r)}else i=Math.round(i*e)/e,r>0&&(n=bt+yt(0,r));return i.toFixed(0)+n}}class St extends wt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:100)}format(t){return"".concat(super.format(t),"%")}}class xt{constructor(t){this._private__precision=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this._private__formatNumber(t):t<999995?e+this._private__formatNumber(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this._private__formatNumber(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this._private__formatNumber(t/1e9)+"B")}_private__formatNumber(t){let e;const i=Math.pow(10,this._private__precision);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this._private__precision).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(t,e)=>e)}}function Tt(t,e,i,n,r,a,s){if(0===e.length||n.from>=e.length||n.to<=0)return;const{context:l,horizontalPixelRatio:o,verticalPixelRatio:_}=t,c=e[n.from];let u=a(t,c),h=c;if(n.to-n.from<2){const e=r/2;l.beginPath();const i={_internal_x:c._internal_x-e,_internal_y:c._internal_y},n={_internal_x:c._internal_x+e,_internal_y:c._internal_y};l.moveTo(i._internal_x*o,i._internal_y*_),l.lineTo(n._internal_x*o,n._internal_y*_),s(t,u,i,n)}else{const r=(e,i)=>{s(t,u,h,i),l.beginPath(),u=e,h=i};let p=h;l.beginPath(),l.moveTo(c._internal_x*o,c._internal_y*_);for(let s=n.from+1;s<n.to;++s){p=e[s];const n=a(t,p);switch(i){case 0:l.lineTo(p._internal_x*o,p._internal_y*_);break;case 1:l.lineTo(p._internal_x*o,e[s-1]._internal_y*_),n!==u&&(r(n,p),l.lineTo(p._internal_x*o,e[s-1]._internal_y*_)),l.lineTo(p._internal_x*o,p._internal_y*_);break;case 2:{const[t,i]=It(e,s-1,s);l.bezierCurveTo(t._internal_x*o,t._internal_y*_,i._internal_x*o,i._internal_y*_,p._internal_x*o,p._internal_y*_);break}}1!==i&&n!==u&&(r(n,p),l.moveTo(p._internal_x*o,p._internal_y*_))}(h!==p||h===p&&1===i)&&s(t,u,h,p)}}function Ct(t,e){return{_internal_x:t._internal_x-e._internal_x,_internal_y:t._internal_y-e._internal_y}}function kt(t,e){return{_internal_x:t._internal_x/e,_internal_y:t._internal_y/e}}function It(t,e,i){const n=Math.max(0,e-1),r=Math.min(t.length-1,i+1);var a,s;return[(a=t[e],s=kt(Ct(t[i],t[n]),6),{_internal_x:a._internal_x+s._internal_x,_internal_y:a._internal_y+s._internal_y}),Ct(t[i],kt(Ct(t[r],t[e]),6))]}function Mt(t,e,i,n,r){const{context:a,horizontalPixelRatio:s,verticalPixelRatio:l}=e;a.lineTo(r._internal_x*s,t*l),a.lineTo(n._internal_x*s,t*l),a.closePath(),a.fillStyle=i,a.fill()}class Et extends X{constructor(){super(...arguments),this._internal__data=null}_internal_setData(t){this._internal__data=t}_internal__drawImpl(t){var e;if(null===this._internal__data)return;const{_internal_items:i,_internal_visibleRange:n,_internal_barWidth:r,_internal_lineWidth:a,_internal_lineStyle:s,_internal_lineType:l}=this._internal__data,o=null!==(e=this._internal__data._internal_baseLevelCoordinate)&&void 0!==e?e:this._internal__data._internal_invertFilledArea?0:t.mediaSize.height;if(null===n)return;const _=t.context;_.lineCap="butt",_.lineJoin="round",_.lineWidth=a,y(_,s),_.lineWidth=1,Tt(t,i,l,n,r,this._internal__fillStyle.bind(this),Mt.bind(null,o))}}function Pt(t,e,i){return Math.min(Math.max(t,e),i)}function Bt(t,e,i){return e-t<=i}function At(t){const e=Math.ceil(t);return e%2===0?e-1:e}class Ot{_internal_get(t,e){const i=this._private__params,{_internal_topColor1:n,_internal_topColor2:r,_internal_bottomColor1:a,_internal_bottomColor2:s,_internal_bottom:l,_internal_baseLevelCoordinate:o}=e;if(void 0===this._private__cachedValue||void 0===i||i._internal_topColor1!==n||i._internal_topColor2!==r||i._internal_bottomColor1!==a||i._internal_bottomColor2!==s||i._internal_baseLevelCoordinate!==o||i._internal_bottom!==l){const i=t.context.createLinearGradient(0,0,0,l);if(i.addColorStop(0,n),null!=o){const e=Pt(o*t.verticalPixelRatio/l,0,1);i.addColorStop(e,r),i.addColorStop(e,a)}i.addColorStop(1,s),this._private__cachedValue=i,this._private__params=e}return this._private__cachedValue}}class Dt extends Et{constructor(){super(...arguments),this._private__fillCache=new Ot}_internal__fillStyle(t,e){return this._private__fillCache._internal_get(t,{_internal_topColor1:e._internal_topColor,_internal_topColor2:"",_internal_bottomColor1:"",_internal_bottomColor2:e._internal_bottomColor,_internal_bottom:t.bitmapSize.height})}}function Rt(t,e){const i=t.context;i.strokeStyle=e,i.stroke()}class Lt extends X{constructor(){super(...arguments),this._internal__data=null}_internal_setData(t){this._internal__data=t}_internal__drawImpl(t){if(null===this._internal__data)return;const{_internal_items:e,_internal_visibleRange:i,_internal_barWidth:n,_internal_lineType:r,_internal_lineWidth:a,_internal_lineStyle:s,_internal_pointMarkersRadius:l}=this._internal__data;if(null===i)return;const o=t.context;o.lineCap="butt",o.lineWidth=a*t.verticalPixelRatio,y(o,s),o.lineJoin="round";const _=this._internal__strokeStyle.bind(this);void 0!==r&&Tt(t,e,r,i,n,_,Rt),l&&function(t,e,i,n,r){const{horizontalPixelRatio:a,verticalPixelRatio:s,context:l}=t;let o=null;const _=Math.max(1,Math.floor(a))%2/2,c=i*s+_;for(let u=n.to-1;u>=n.from;--u){const i=e[u];if(i){const e=r(t,i);e!==o&&(l.beginPath(),null!==o&&l.fill(),l.fillStyle=e,o=e);const n=Math.round(i._internal_x*a)+_,u=i._internal_y*s;l.moveTo(n,u),l.arc(n,u,c,0,2*Math.PI)}}l.fill()}(t,e,l,i,_)}}class zt extends Lt{_internal__strokeStyle(t,e){return e._internal_lineColor}}function Ft(t,e,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length,s=a-r;for(;0<s;){const a=s>>1,l=r+a;n(e[l],i)===t?(r=l+1,s-=a+1):s=a}return r}const Vt=Ft.bind(null,!0),Nt=Ft.bind(null,!1);function Ut(t,e){return t._internal_time<e}function Wt(t,e){return e<t._internal_time}function jt(t,e,i){const n=e._internal_left(),r=e._internal_right(),a=Vt(t,n,Ut),s=Nt(t,r,Wt);if(!i)return{from:a,to:s};let l=a,o=s;return a>0&&a<t.length&&t[a]._internal_time>=n&&(l=a-1),s>0&&s<t.length&&t[s-1]._internal_time<=r&&(o=s+1),{from:l,to:o}}class Ht{constructor(t,e,i){this._internal__invalidated=!0,this._internal__dataInvalidated=!0,this._internal__optionsInvalidated=!0,this._internal__items=[],this._internal__itemsVisibleRange=null,this._internal__series=t,this._internal__model=e,this._private__extendedVisibleRange=i}_internal_update(t){this._internal__invalidated=!0,"data"===t&&(this._internal__dataInvalidated=!0),"options"===t&&(this._internal__optionsInvalidated=!0)}_internal_renderer(){return this._internal__series._internal_visible()?(this._private__makeValid(),null===this._internal__itemsVisibleRange?null:this._internal__renderer):null}_internal__updateOptions(){this._internal__items=this._internal__items.map(t=>Object.assign(Object.assign({},t),this._internal__series._internal_barColorer()._internal_barStyle(t._internal_time)))}_internal__clearVisibleRange(){this._internal__itemsVisibleRange=null}_private__makeValid(){this._internal__dataInvalidated&&(this._internal__fillRawPoints(),this._internal__dataInvalidated=!1),this._internal__optionsInvalidated&&(this._internal__updateOptions(),this._internal__optionsInvalidated=!1),this._internal__invalidated&&(this._private__makeValidImpl(),this._internal__invalidated=!1)}_private__makeValidImpl(){const t=this._internal__series._internal_priceScale(),e=this._internal__model._internal_timeScale();if(this._internal__clearVisibleRange(),e._internal_isEmpty()||t._internal_isEmpty())return;const i=e._internal_visibleStrictRange();if(null===i)return;if(0===this._internal__series._internal_bars()._internal_size())return;const n=this._internal__series._internal_firstValue();null!==n&&(this._internal__itemsVisibleRange=jt(this._internal__items,i,this._private__extendedVisibleRange),this._internal__convertToCoordinates(t,e,n._internal_value),this._internal__prepareRendererData())}}class Yt extends Ht{constructor(t,e){super(t,e,!0)}_internal__convertToCoordinates(t,e,i){e._internal_indexesToCoordinates(this._internal__items,H(this._internal__itemsVisibleRange)),t._internal_pointsArrayToCoordinates(this._internal__items,i,H(this._internal__itemsVisibleRange))}_internal__createRawItemBase(t,e){return{_internal_time:t,_internal_price:e,_internal_x:NaN,_internal_y:NaN}}_internal__fillRawPoints(){const t=this._internal__series._internal_barColorer();this._internal__items=this._internal__series._internal_bars()._internal_rows().map(e=>{const i=e._internal_value[3];return this._internal__createRawItem(e._internal_index,i,t)})}}class $t extends Yt{constructor(t,e){super(t,e),this._internal__renderer=new q,this._private__areaRenderer=new Dt,this._private__lineRenderer=new zt,this._internal__renderer._internal_setRenderers([this._private__areaRenderer,this._private__lineRenderer])}_internal__createRawItem(t,e,i){return Object.assign(Object.assign({},this._internal__createRawItemBase(t,e)),i._internal_barStyle(t))}_internal__prepareRendererData(){const t=this._internal__series._internal_options();this._private__areaRenderer._internal_setData({_internal_lineType:t.lineType,_internal_items:this._internal__items,_internal_lineStyle:t.lineStyle,_internal_lineWidth:t.lineWidth,_internal_baseLevelCoordinate:null,_internal_invertFilledArea:t.invertFilledArea,_internal_visibleRange:this._internal__itemsVisibleRange,_internal_barWidth:this._internal__model._internal_timeScale()._internal_barSpacing()}),this._private__lineRenderer._internal_setData({_internal_lineType:t.lineVisible?t.lineType:void 0,_internal_items:this._internal__items,_internal_lineStyle:t.lineStyle,_internal_lineWidth:t.lineWidth,_internal_visibleRange:this._internal__itemsVisibleRange,_internal_barWidth:this._internal__model._internal_timeScale()._internal_barSpacing(),_internal_pointMarkersRadius:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class Kt extends X{constructor(){super(...arguments),this._private__data=null,this._private__barWidth=0,this._private__barLineWidth=0}_internal_setData(t){this._private__data=t}_internal__drawImpl(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this._private__data||0===this._private__data._internal_bars.length||null===this._private__data._internal_visibleRange)return;if(this._private__barWidth=this._private__calcBarWidth(i),this._private__barWidth>=2){Math.max(1,Math.floor(i))%2!==this._private__barWidth%2&&this._private__barWidth--}this._private__barLineWidth=this._private__data._internal_thinBars?Math.min(this._private__barWidth,Math.floor(i)):this._private__barWidth;let r=null;const a=this._private__barLineWidth<=this._private__barWidth&&this._private__data._internal_barSpacing>=Math.floor(1.5*i);for(let s=this._private__data._internal_visibleRange.from;s<this._private__data._internal_visibleRange.to;++s){const t=this._private__data._internal_bars[s];r!==t._internal_barColor&&(e.fillStyle=t._internal_barColor,r=t._internal_barColor);const l=Math.floor(.5*this._private__barLineWidth),o=Math.round(t._internal_x*i),_=o-l,c=this._private__barLineWidth,u=_+c-1,h=Math.min(t._internal_highY,t._internal_lowY),p=Math.max(t._internal_highY,t._internal_lowY),d=Math.round(h*n)-l,f=Math.round(p*n)+l,v=Math.max(f-d,this._private__barLineWidth);e.fillRect(_,d,c,v);const m=Math.ceil(1.5*this._private__barWidth);if(a){if(this._private__data._internal_openVisible){const i=o-m;let r=Math.max(d,Math.round(t._internal_openY*n)-l),a=r+c-1;a>d+v-1&&(a=d+v-1,r=a-c+1),e.fillRect(i,r,_-i,a-r+1)}const i=o+m;let r=Math.max(d,Math.round(t._internal_closeY*n)-l),a=r+c-1;a>d+v-1&&(a=d+v-1,r=a-c+1),e.fillRect(u+1,r,i-u,a-r+1)}}}_private__calcBarWidth(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(T(this._private__data)._internal_barSpacing,t)))}}class qt extends Ht{constructor(t,e){super(t,e,!1)}_internal__convertToCoordinates(t,e,i){e._internal_indexesToCoordinates(this._internal__items,H(this._internal__itemsVisibleRange)),t._internal_barPricesToCoordinates(this._internal__items,i,H(this._internal__itemsVisibleRange))}_internal__createDefaultItem(t,e,i){return{_internal_time:t,_internal_open:e._internal_value[0],_internal_high:e._internal_value[1],_internal_low:e._internal_value[2],_internal_close:e._internal_value[3],_internal_x:NaN,_internal_openY:NaN,_internal_highY:NaN,_internal_lowY:NaN,_internal_closeY:NaN}}_internal__fillRawPoints(){const t=this._internal__series._internal_barColorer();this._internal__items=this._internal__series._internal_bars()._internal_rows().map(e=>this._internal__createRawItem(e._internal_index,e,t))}}class Xt extends qt{constructor(){super(...arguments),this._internal__renderer=new Kt}_internal__createRawItem(t,e,i){return Object.assign(Object.assign({},this._internal__createDefaultItem(t,e,i)),i._internal_barStyle(t))}_internal__prepareRendererData(){const t=this._internal__series._internal_options();this._internal__renderer._internal_setData({_internal_bars:this._internal__items,_internal_barSpacing:this._internal__model._internal_timeScale()._internal_barSpacing(),_internal_openVisible:t.openVisible,_internal_thinBars:t.thinBars,_internal_visibleRange:this._internal__itemsVisibleRange})}}class Qt extends Et{constructor(){super(...arguments),this._private__fillCache=new Ot}_internal__fillStyle(t,e){const i=this._internal__data;return this._private__fillCache._internal_get(t,{_internal_topColor1:e._internal_topFillColor1,_internal_topColor2:e._internal_topFillColor2,_internal_bottomColor1:e._internal_bottomFillColor1,_internal_bottomColor2:e._internal_bottomFillColor2,_internal_bottom:t.bitmapSize.height,_internal_baseLevelCoordinate:i._internal_baseLevelCoordinate})}}class Gt extends Lt{constructor(){super(...arguments),this._private__strokeCache=new Ot}_internal__strokeStyle(t,e){const i=this._internal__data;return this._private__strokeCache._internal_get(t,{_internal_topColor1:e._internal_topLineColor,_internal_topColor2:e._internal_topLineColor,_internal_bottomColor1:e._internal_bottomLineColor,_internal_bottomColor2:e._internal_bottomLineColor,_internal_bottom:t.bitmapSize.height,_internal_baseLevelCoordinate:i._internal_baseLevelCoordinate})}}class Zt extends Yt{constructor(t,e){super(t,e),this._internal__renderer=new q,this._private__baselineAreaRenderer=new Qt,this._private__baselineLineRenderer=new Gt,this._internal__renderer._internal_setRenderers([this._private__baselineAreaRenderer,this._private__baselineLineRenderer])}_internal__createRawItem(t,e,i){return Object.assign(Object.assign({},this._internal__createRawItemBase(t,e)),i._internal_barStyle(t))}_internal__prepareRendererData(){const t=this._internal__series._internal_firstValue();if(null===t)return;const e=this._internal__series._internal_options(),i=this._internal__series._internal_priceScale()._internal_priceToCoordinate(e.baseValue.price,t._internal_value),n=this._internal__model._internal_timeScale()._internal_barSpacing();this._private__baselineAreaRenderer._internal_setData({_internal_items:this._internal__items,_internal_lineWidth:e.lineWidth,_internal_lineStyle:e.lineStyle,_internal_lineType:e.lineType,_internal_baseLevelCoordinate:i,_internal_invertFilledArea:!1,_internal_visibleRange:this._internal__itemsVisibleRange,_internal_barWidth:n}),this._private__baselineLineRenderer._internal_setData({_internal_items:this._internal__items,_internal_lineWidth:e.lineWidth,_internal_lineStyle:e.lineStyle,_internal_lineType:e.lineVisible?e.lineType:void 0,_internal_pointMarkersRadius:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,_internal_baseLevelCoordinate:i,_internal_visibleRange:this._internal__itemsVisibleRange,_internal_barWidth:n})}}class Jt extends X{constructor(){super(...arguments),this._private__data=null,this._private__barWidth=0}_internal_setData(t){this._private__data=t}_internal__drawImpl(t){if(null===this._private__data||0===this._private__data._internal_bars.length||null===this._private__data._internal_visibleRange)return;const{horizontalPixelRatio:e}=t;if(this._private__barWidth=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);const i=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),n=Math.floor(t*i*e),r=Math.floor(t*e),a=Math.min(n,r);return Math.max(Math.floor(e),a)}(this._private__data._internal_barSpacing,e),this._private__barWidth>=2){Math.floor(e)%2!==this._private__barWidth%2&&this._private__barWidth--}const i=this._private__data._internal_bars;this._private__data._internal_wickVisible&&this._private__drawWicks(t,i,this._private__data._internal_visibleRange),this._private__data._internal_borderVisible&&this._private__drawBorder(t,i,this._private__data._internal_visibleRange);const n=this._private__calculateBorderWidth(e);(!this._private__data._internal_borderVisible||this._private__barWidth>2*n)&&this._private__drawCandles(t,i,this._private__data._internal_visibleRange)}_private__drawWicks(t,e,i){if(null===this._private__data)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:a}=t;let s="",l=Math.min(Math.floor(r),Math.floor(this._private__data._internal_barSpacing*r));l=Math.max(Math.floor(r),Math.min(l,this._private__barWidth));const o=Math.floor(.5*l);let _=null;for(let c=i.from;c<i.to;c++){const t=e[c];t._internal_barWickColor!==s&&(n.fillStyle=t._internal_barWickColor,s=t._internal_barWickColor);const i=Math.round(Math.min(t._internal_openY,t._internal_closeY)*a),u=Math.round(Math.max(t._internal_openY,t._internal_closeY)*a),h=Math.round(t._internal_highY*a),p=Math.round(t._internal_lowY*a);let d=Math.round(r*t._internal_x)-o;const f=d+l-1;null!==_&&(d=Math.max(_+1,d),d=Math.min(d,f));const v=f-d+1;n.fillRect(d,h,v,i-h),n.fillRect(d,u+1,v,p-u),_=f}}_private__calculateBorderWidth(t){let e=Math.floor(1*t);this._private__barWidth<=2*e&&(e=Math.floor(.5*(this._private__barWidth-1)));const i=Math.max(Math.floor(t),e);return this._private__barWidth<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}_private__drawBorder(t,e,i){if(null===this._private__data)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:a}=t;let s="";const l=this._private__calculateBorderWidth(r);let o=null;for(let _=i.from;_<i.to;_++){const t=e[_];t._internal_barBorderColor!==s&&(n.fillStyle=t._internal_barBorderColor,s=t._internal_barBorderColor);let i=Math.round(t._internal_x*r)-Math.floor(.5*this._private__barWidth);const c=i+this._private__barWidth-1,u=Math.round(Math.min(t._internal_openY,t._internal_closeY)*a),h=Math.round(Math.max(t._internal_openY,t._internal_closeY)*a);if(null!==o&&(i=Math.max(o+1,i),i=Math.min(i,c)),this._private__data._internal_barSpacing*r>2*l)it(n,i,u,c-i+1,h-u+1,l);else{const t=c-i+1;n.fillRect(i,u,t,h-u+1)}o=c}}_private__drawCandles(t,e,i){if(null===this._private__data)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:a}=t;let s="";const l=this._private__calculateBorderWidth(r);for(let o=i.from;o<i.to;o++){const t=e[o];let i=Math.round(Math.min(t._internal_openY,t._internal_closeY)*a),_=Math.round(Math.max(t._internal_openY,t._internal_closeY)*a),c=Math.round(t._internal_x*r)-Math.floor(.5*this._private__barWidth),u=c+this._private__barWidth-1;if(t._internal_barColor!==s){const e=t._internal_barColor;n.fillStyle=e,s=e}this._private__data._internal_borderVisible&&(c+=l,i+=l,u-=l,_-=l),i>_||n.fillRect(c,i,u-c+1,_-i+1)}}}class te extends qt{constructor(){super(...arguments),this._internal__renderer=new Jt}_internal__createRawItem(t,e,i){return Object.assign(Object.assign({},this._internal__createDefaultItem(t,e,i)),i._internal_barStyle(t))}_internal__prepareRendererData(){const t=this._internal__series._internal_options();this._internal__renderer._internal_setData({_internal_bars:this._internal__items,_internal_barSpacing:this._internal__model._internal_timeScale()._internal_barSpacing(),_internal_wickVisible:t.wickVisible,_internal_borderVisible:t.borderVisible,_internal_visibleRange:this._internal__itemsVisibleRange})}}class ee{constructor(t,e){this._private__sourceRenderer=t,this._private__priceScale=e}_internal_draw(t,e,i){this._private__sourceRenderer.draw(t,this._private__priceScale,e,i)}}class ie extends Ht{constructor(t,e,i){super(t,e,!1),this._private__paneView=i,this._internal__renderer=new ee(this._private__paneView.renderer(),e=>{const i=t._internal_firstValue();return null===i?null:t._internal_priceScale()._internal_priceToCoordinate(e,i._internal_value)})}_internal_priceValueBuilder(t){return this._private__paneView.priceValueBuilder(t)}_internal_isWhitespace(t){return this._private__paneView.isWhitespace(t)}_internal__fillRawPoints(){const t=this._internal__series._internal_barColorer();this._internal__items=this._internal__series._internal_bars()._internal_rows().map(e=>Object.assign(Object.assign({_internal_time:e._internal_index,_internal_x:NaN},t._internal_barStyle(e._internal_index)),{_internal_originalData:e._internal_data}))}_internal__convertToCoordinates(t,e){e._internal_indexesToCoordinates(this._internal__items,H(this._internal__itemsVisibleRange))}_internal__prepareRendererData(){this._private__paneView.update({bars:this._internal__items.map(ne),barSpacing:this._internal__model._internal_timeScale()._internal_barSpacing(),visibleRange:this._internal__itemsVisibleRange},this._internal__series._internal_options())}}function ne(t){return{x:t._internal_x,time:t._internal_time,originalData:t._internal_originalData,barColor:t._internal_barColor}}class re extends X{constructor(){super(...arguments),this._private__data=null,this._private__precalculatedCache=[]}_internal_setData(t){this._private__data=t,this._private__precalculatedCache=[]}_internal__drawImpl(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this._private__data||0===this._private__data._internal_items.length||null===this._private__data._internal_visibleRange)return;this._private__precalculatedCache.length||this._private__fillPrecalculatedCache(i);const r=Math.max(1,Math.floor(n)),a=Math.round(this._private__data._internal_histogramBase*n)-Math.floor(r/2),s=a+r;for(let l=this._private__data._internal_visibleRange.from;l<this._private__data._internal_visibleRange.to;l++){const t=this._private__data._internal_items[l],i=this._private__precalculatedCache[l-this._private__data._internal_visibleRange.from],o=Math.round(t._internal_y*n);let _,c;e.fillStyle=t._internal_barColor,o<=a?(_=o,c=s):(_=a,c=o-Math.floor(r/2)+r),e.fillRect(i._internal_left,_,i._internal_right-i._internal_left+1,c-_)}}_private__fillPrecalculatedCache(t){if(null===this._private__data||0===this._private__data._internal_items.length||null===this._private__data._internal_visibleRange)return void(this._private__precalculatedCache=[]);const e=Math.ceil(this._private__data._internal_barSpacing*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this._private__data._internal_barSpacing*t)-e;this._private__precalculatedCache=new Array(this._private__data._internal_visibleRange.to-this._private__data._internal_visibleRange.from);for(let r=this._private__data._internal_visibleRange.from;r<this._private__data._internal_visibleRange.to;r++){const e=this._private__data._internal_items[r],n=Math.round(e._internal_x*t);let a,s;if(i%2){const t=(i-1)/2;a=n-t,s=n+t}else{const t=i/2;a=n-t,s=n+t-1}this._private__precalculatedCache[r-this._private__data._internal_visibleRange.from]={_internal_left:a,_internal_right:s,_internal_roundedCenter:n,_internal_center:e._internal_x*t,_internal_time:e._internal_time}}for(let r=this._private__data._internal_visibleRange.from+1;r<this._private__data._internal_visibleRange.to;r++){const t=this._private__precalculatedCache[r-this._private__data._internal_visibleRange.from],i=this._private__precalculatedCache[r-this._private__data._internal_visibleRange.from-1];t._internal_time===i._internal_time+1&&(t._internal_left-i._internal_right!==e+1&&(i._internal_roundedCenter>i._internal_center?i._internal_right=t._internal_left-e-1:t._internal_left=i._internal_right+e+1))}let n=Math.ceil(this._private__data._internal_barSpacing*t);for(let r=this._private__data._internal_visibleRange.from;r<this._private__data._internal_visibleRange.to;r++){const t=this._private__precalculatedCache[r-this._private__data._internal_visibleRange.from];t._internal_right<t._internal_left&&(t._internal_right=t._internal_left);const e=t._internal_right-t._internal_left+1;n=Math.min(e,n)}if(e>0&&n<4)for(let r=this._private__data._internal_visibleRange.from;r<this._private__data._internal_visibleRange.to;r++){const t=this._private__precalculatedCache[r-this._private__data._internal_visibleRange.from];t._internal_right-t._internal_left+1>n&&(t._internal_roundedCenter>t._internal_center?t._internal_right-=1:t._internal_left+=1)}}}class ae extends Yt{constructor(){super(...arguments),this._internal__renderer=new re}_internal__createRawItem(t,e,i){return Object.assign(Object.assign({},this._internal__createRawItemBase(t,e)),i._internal_barStyle(t))}_internal__prepareRendererData(){const t={_internal_items:this._internal__items,_internal_barSpacing:this._internal__model._internal_timeScale()._internal_barSpacing(),_internal_visibleRange:this._internal__itemsVisibleRange,_internal_histogramBase:this._internal__series._internal_priceScale()._internal_priceToCoordinate(this._internal__series._internal_options().base,T(this._internal__series._internal_firstValue())._internal_value)};this._internal__renderer._internal_setData(t)}}class se extends Yt{constructor(){super(...arguments),this._internal__renderer=new zt}_internal__createRawItem(t,e,i){return Object.assign(Object.assign({},this._internal__createRawItemBase(t,e)),i._internal_barStyle(t))}_internal__prepareRendererData(){const t=this._internal__series._internal_options(),e={_internal_items:this._internal__items,_internal_lineStyle:t.lineStyle,_internal_lineType:t.lineVisible?t.lineType:void 0,_internal_lineWidth:t.lineWidth,_internal_pointMarkersRadius:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,_internal_visibleRange:this._internal__itemsVisibleRange,_internal_barWidth:this._internal__model._internal_timeScale()._internal_barSpacing()};this._internal__renderer._internal_setData(e)}}const le=/[2-9]/g;class oe{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;this._private__actualSize=0,this._private__usageTick=1,this._private__oldestTick=1,this._private__tick2Labels={},this._private__cache=new Map,this._private__maxSize=t}_internal_reset(){this._private__actualSize=0,this._private__cache.clear(),this._private__usageTick=1,this._private__oldestTick=1,this._private__tick2Labels={}}_internal_measureText(t,e,i){return this._private__getMetrics(t,e,i).width}_internal_yMidCorrection(t,e,i){const n=this._private__getMetrics(t,e,i);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}_private__getMetrics(t,e,i){const n=i||le,r=String(e).replace(n,"0");if(this._private__cache.has(r))return x(this._private__cache.get(r))._internal_metrics;if(this._private__actualSize===this._private__maxSize){const t=this._private__tick2Labels[this._private__oldestTick];delete this._private__tick2Labels[this._private__oldestTick],this._private__cache.delete(t),this._private__oldestTick++,this._private__actualSize--}t.save(),t.textBaseline="middle";const a=t.measureText(r);return t.restore(),0===a.width&&e.length||(this._private__cache.set(r,{_internal_metrics:a,_internal_tick:this._private__usageTick}),this._private__tick2Labels[this._private__usageTick]=r,this._private__actualSize++,this._private__usageTick++),a}}class _e{constructor(t){this._private__priceAxisViewRenderer=null,this._private__rendererOptions=null,this._private__align="right",this._private__textWidthCache=t}_internal_setParams(t,e,i){this._private__priceAxisViewRenderer=t,this._private__rendererOptions=e,this._private__align=i}_internal_draw(t){null!==this._private__rendererOptions&&null!==this._private__priceAxisViewRenderer&&this._private__priceAxisViewRenderer._internal_draw(t,this._private__rendererOptions,this._private__textWidthCache,this._private__align)}}class ce{constructor(t,e,i){this._private__priceAxisView=t,this._private__textWidthCache=new oe(50),this._private__dataSource=e,this._private__chartModel=i,this._private__fontSize=-1,this._private__renderer=new _e(this._private__textWidthCache)}_internal_renderer(){const t=this._private__chartModel._internal_paneForSource(this._private__dataSource);if(null===t)return null;const e=t._internal_isOverlay(this._private__dataSource)?t._internal_defaultVisiblePriceScale():this._private__dataSource._internal_priceScale();if(null===e)return null;const i=t._internal_priceScalePosition(e);if("overlay"===i)return null;const n=this._private__chartModel._internal_priceAxisRendererOptions();return n._internal_fontSize!==this._private__fontSize&&(this._private__fontSize=n._internal_fontSize,this._private__textWidthCache._internal_reset()),this._private__renderer._internal_setParams(this._private__priceAxisView._internal_paneRenderer(),n,i),this._private__renderer}}class ue extends X{constructor(){super(...arguments),this._private__data=null}_internal_setData(t){this._private__data=t}_internal_hitTest(t,e){var i;if(!(null===(i=this._private__data)||void 0===i?void 0:i._internal_visible))return null;const{_internal_y:n,_internal_lineWidth:r,_internal_externalId:a}=this._private__data;return e>=n-r-7&&e<=n+r+7?{_internal_hitTestData:this._private__data,_internal_externalId:a}:null}_internal__drawImpl(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this._private__data)return;if(!1===this._private__data._internal_visible)return;const a=Math.round(this._private__data._internal_y*r);a<0||a>i.height||(e.lineCap="butt",e.strokeStyle=this._private__data._internal_color,e.lineWidth=Math.floor(this._private__data._internal_lineWidth*n),y(e,this._private__data._internal_lineStyle),w(e,a,0,i.width))}}class he{constructor(t){this._internal__lineRendererData={_internal_y:0,_internal_color:"rgba(0, 0, 0, 0)",_internal_lineWidth:1,_internal_lineStyle:0,_internal_visible:!1},this._internal__lineRenderer=new ue,this._private__invalidated=!0,this._internal__series=t,this._internal__model=t._internal_model(),this._internal__lineRenderer._internal_setData(this._internal__lineRendererData)}_internal_update(){this._private__invalidated=!0}_internal_renderer(){return this._internal__series._internal_visible()?(this._private__invalidated&&(this._internal__updateImpl(),this._private__invalidated=!1),this._internal__lineRenderer):null}}class pe extends he{constructor(t){super(t)}_internal__updateImpl(){this._internal__lineRendererData._internal_visible=!1;const t=this._internal__series._internal_priceScale(),e=t._internal_mode()._internal_mode;if(2!==e&&3!==e)return;const i=this._internal__series._internal_options();if(!i.baseLineVisible||!this._internal__series._internal_visible())return;const n=this._internal__series._internal_firstValue();null!==n&&(this._internal__lineRendererData._internal_visible=!0,this._internal__lineRendererData._internal_y=t._internal_priceToCoordinate(n._internal_value,n._internal_value),this._internal__lineRendererData._internal_color=i.baseLineColor,this._internal__lineRendererData._internal_lineWidth=i.baseLineWidth,this._internal__lineRendererData._internal_lineStyle=i.baseLineStyle)}}class de extends X{constructor(){super(...arguments),this._private__data=null}_internal_setData(t){this._private__data=t}_internal_data(){return this._private__data}_internal__drawImpl(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;const r=this._private__data;if(null===r)return;const a=Math.max(1,Math.floor(i)),s=a%2/2,l=Math.round(r._internal_center.x*i)+s,o=r._internal_center.y*n;e.fillStyle=r._internal_seriesLineColor,e.beginPath();const _=Math.max(2,1.5*r._internal_seriesLineWidth)*i;e.arc(l,o,_,0,2*Math.PI,!1),e.fill(),e.fillStyle=r._internal_fillColor,e.beginPath(),e.arc(l,o,r._internal_radius*i,0,2*Math.PI,!1),e.fill(),e.lineWidth=a,e.strokeStyle=r._internal_strokeColor,e.beginPath(),e.arc(l,o,r._internal_radius*i+a/2,0,2*Math.PI,!1),e.stroke()}}const fe=[{_internal_start:0,_internal_end:.25,_internal_startRadius:4,_internal_endRadius:10,_internal_startFillAlpha:.25,_internal_endFillAlpha:0,_internal_startStrokeAlpha:.4,_internal_endStrokeAlpha:.8},{_internal_start:.25,_internal_end:.525,_internal_startRadius:10,_internal_endRadius:14,_internal_startFillAlpha:0,_internal_endFillAlpha:0,_internal_startStrokeAlpha:.8,_internal_endStrokeAlpha:0},{_internal_start:.525,_internal_end:1,_internal_startRadius:14,_internal_endRadius:14,_internal_startFillAlpha:0,_internal_endFillAlpha:0,_internal_startStrokeAlpha:0,_internal_endStrokeAlpha:0}];function ve(t,e,i,n){return function(t,e){if("transparent"===t)return t;const i=O(t),n=i[3];return"rgba(".concat(i[0],", ").concat(i[1],", ").concat(i[2],", ").concat(e*n,")")}(t,i+(n-i)*e)}function me(t,e){const i=t%2600/2600;let n;for(const o of fe)if(i>=o._internal_start&&i<=o._internal_end){n=o;break}S(void 0!==n,"Last price animation internal logic error");const r=(i-n._internal_start)/(n._internal_end-n._internal_start);return{_internal_fillColor:ve(e,r,n._internal_startFillAlpha,n._internal_endFillAlpha),_internal_strokeColor:ve(e,r,n._internal_startStrokeAlpha,n._internal_endStrokeAlpha),_internal_radius:(a=r,s=n._internal_startRadius,l=n._internal_endRadius,s+(l-s)*a)};var a,s,l}class ge{constructor(t){this._private__renderer=new de,this._private__invalidated=!0,this._private__stageInvalidated=!0,this._private__startTime=performance.now(),this._private__endTime=this._private__startTime-1,this._private__series=t}_internal_onDataCleared(){this._private__endTime=this._private__startTime-1,this._internal_update()}_internal_onNewRealtimeDataReceived(){if(this._internal_update(),2===this._private__series._internal_options().lastPriceAnimation){const t=performance.now(),e=this._private__endTime-t;if(e>0)return void(e<650&&(this._private__endTime+=2600));this._private__startTime=t,this._private__endTime=t+2600}}_internal_update(){this._private__invalidated=!0}_internal_invalidateStage(){this._private__stageInvalidated=!0}_internal_visible(){return 0!==this._private__series._internal_options().lastPriceAnimation}_internal_animationActive(){switch(this._private__series._internal_options().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this._private__endTime}}_internal_renderer(){return this._private__invalidated?(this._private__updateImpl(),this._private__invalidated=!1,this._private__stageInvalidated=!1):this._private__stageInvalidated&&(this._private__updateRendererDataStage(),this._private__stageInvalidated=!1),this._private__renderer}_private__updateImpl(){this._private__renderer._internal_setData(null);const t=this._private__series._internal_model()._internal_timeScale(),e=t._internal_visibleStrictRange(),i=this._private__series._internal_firstValue();if(null===e||null===i)return;const n=this._private__series._internal_lastValueData(!0);if(n._internal_noData||!e._internal_contains(n._internal_index))return;const r={x:t._internal_indexToCoordinate(n._internal_index),y:this._private__series._internal_priceScale()._internal_priceToCoordinate(n._internal_price,i._internal_value)},a=n._internal_color,s=this._private__series._internal_options().lineWidth,l=me(this._private__duration(),a);this._private__renderer._internal_setData({_internal_seriesLineColor:a,_internal_seriesLineWidth:s,_internal_fillColor:l._internal_fillColor,_internal_strokeColor:l._internal_strokeColor,_internal_radius:l._internal_radius,_internal_center:r})}_private__updateRendererDataStage(){const t=this._private__renderer._internal_data();if(null!==t){const e=me(this._private__duration(),t._internal_seriesLineColor);t._internal_fillColor=e._internal_fillColor,t._internal_strokeColor=e._internal_strokeColor,t._internal_radius=e._internal_radius}}_private__duration(){return this._internal_animationActive()?performance.now()-this._private__startTime:2599}}function be(t,e){return At(Math.min(Math.max(t,12),30)*e)}function ye(t,e){switch(t){case"arrowDown":case"arrowUp":case"arrowLeft":case"arrowRight":return be(e,1);case"circle":return be(e,.8);case"square":case"cross":case"xcross":return be(e,.7)}}function we(t){return function(t){const e=Math.ceil(t);return e%2!==0?e-1:e}(be(t,1))}function Se(t){return Math.max(be(t,.1),3)}function xe(t,e,i){return e?t:i?Math.ceil(t/2):0}function Te(t,e,i,n,r){const a=ye("square",i),s=(a-1)/2,l=t-s,o=e-s;return n>=l&&n<=l+a&&r>=o&&r<=o+a}function Ce(t,e,i,n){const r=(ye("arrowUp",n)-1)/2*i._internal_pixelRatio,a=(At(n/2)-1)/2*i._internal_pixelRatio;e.beginPath(),t?(e.moveTo(i._internal_x-r,i._internal_y),e.lineTo(i._internal_x,i._internal_y-r),e.lineTo(i._internal_x+r,i._internal_y),e.lineTo(i._internal_x+a,i._internal_y),e.lineTo(i._internal_x+a,i._internal_y+r),e.lineTo(i._internal_x-a,i._internal_y+r),e.lineTo(i._internal_x-a,i._internal_y)):(e.moveTo(i._internal_x-r,i._internal_y),e.lineTo(i._internal_x,i._internal_y+r),e.lineTo(i._internal_x+r,i._internal_y),e.lineTo(i._internal_x+a,i._internal_y),e.lineTo(i._internal_x+a,i._internal_y-r),e.lineTo(i._internal_x-a,i._internal_y-r),e.lineTo(i._internal_x-a,i._internal_y)),e.fill()}function ke(t,e,i,n,r,a){return Te(e,i,n,r,a)}function Ie(t,e,i,n){const r=(ye("arrowUp",n)-1)/2*i._internal_pixelRatio,a=(At(n/2)-1)/2*i._internal_pixelRatio;e.beginPath(),t?(e.moveTo(i._internal_x,i._internal_y-r),e.lineTo(i._internal_x-r,i._internal_y),e.lineTo(i._internal_x,i._internal_y+r),e.lineTo(i._internal_x,i._internal_y+a),e.lineTo(i._internal_x+r,i._internal_y+a),e.lineTo(i._internal_x+r,i._internal_y-a),e.lineTo(i._internal_x,i._internal_y-a)):(e.moveTo(i._internal_x,i._internal_y-r),e.lineTo(i._internal_x+r,i._internal_y),e.lineTo(i._internal_x,i._internal_y+r),e.lineTo(i._internal_x,i._internal_y+a),e.lineTo(i._internal_x-r,i._internal_y+a),e.lineTo(i._internal_x-r,i._internal_y-a),e.lineTo(i._internal_x,i._internal_y-a)),e.fill()}class Me extends X{constructor(){super(...arguments),this._private__data=null,this._private__textWidthCache=new oe,this._private__fontSize=-1,this._private__fontFamily="",this._private__font=""}_internal_setData(t){this._private__data=t}_internal_setParams(t,e){this._private__fontSize===t&&this._private__fontFamily===e||(this._private__fontSize=t,this._private__fontFamily=e,this._private__font=$(t,e),this._private__textWidthCache._internal_reset())}_internal_hitTest(t,e){if(null===this._private__data||null===this._private__data._internal_visibleRange)return null;for(let i=this._private__data._internal_visibleRange.from;i<this._private__data._internal_visibleRange.to;i++){const n=this._private__data._internal_items[i];if(Pe(n,t,e))return{_internal_hitTestData:n._internal_internalId,_internal_externalId:n._internal_externalId}}return null}_internal__drawImpl(t,e,i){let{context:n,horizontalPixelRatio:r,verticalPixelRatio:a}=t;if(null!==this._private__data&&null!==this._private__data._internal_visibleRange){n.textBaseline="middle",n.font=this._private__font;for(let t=this._private__data._internal_visibleRange.from;t<this._private__data._internal_visibleRange.to;t++){const e=this._private__data._internal_items[t];void 0!==e._internal_text&&(e._internal_text._internal_width=this._private__textWidthCache._internal_measureText(n,e._internal_text._internal_content),e._internal_text._internal_height=this._private__fontSize,e._internal_text._internal_x=e._internal_x-e._internal_text._internal_width/2),Ee(e,n,r,a)}}}}function Ee(t,e,i,n){e.fillStyle=t._internal_color,void 0!==t._internal_text&&function(t,e,i,n,r,a){t.save(),t.scale(r,a),t.fillText(e,i,n),t.restore()}(e,t._internal_text._internal_content,t._internal_text._internal_x,t._internal_text._internal_y,i,n),function(t,e,i){if(0===t._internal_size)return;switch(t._internal_shape){case"arrowDown":return void Ce(!1,e,i,t._internal_size);case"arrowUp":return void Ce(!0,e,i,t._internal_size);case"arrowLeft":return void Ie(!0,e,i,t._internal_size);case"arrowRight":return void Ie(!1,e,i,t._internal_size);case"circle":return void function(t,e,i){const n=(ye("circle",i)-1)/2;t.beginPath(),t.arc(e._internal_x,e._internal_y,n*e._internal_pixelRatio,0,2*Math.PI,!1),t.fill()}(e,i,t._internal_size);case"square":return void function(t,e,i){const n=ye("square",i),r=(n-1)*e._internal_pixelRatio/2,a=e._internal_x-r,s=e._internal_y-r;t.fillRect(a,s,n*e._internal_pixelRatio,n*e._internal_pixelRatio)}(e,i,t._internal_size);case"cross":return void function(t,e,i){var n=(ye("square",i)-1)*e._internal_pixelRatio/2,r=Math.max(1,Math.round(.4*n)),a=r/2;t.fillRect(e._internal_x-n,e._internal_y-a,2*n,r),t.fillRect(e._internal_x-a,e._internal_y-n,r,2*n)}(e,i,t._internal_size);case"xcross":return void function(t,e,i){var n=(ye("square",i)-1)*e._internal_pixelRatio/2,r=Math.max(1,Math.round(.35*n)),a=r/2;t.save(),t.translate(e._internal_x,e._internal_y),t.rotate(Math.PI/4),t.fillRect(-n,-a,2*n,r),t.rotate(Math.PI/2),t.fillRect(-n,-a,2*n,r),t.restore()}(e,i,t._internal_size)}t._internal_shape}(t,e,function(t,e,i){const n=Math.max(1,Math.floor(e))%2/2;return{_internal_x:Math.round(t._internal_x*e)+n,_internal_y:t._internal_y*i,_internal_pixelRatio:e}}(t,i,n))}function Pe(t,e,i){return!(void 0===t._internal_text||!function(t,e,i,n,r,a){const s=n/2;return r>=t&&r<=t+i&&a>=e-s&&a<=e+s}(t._internal_text._internal_x,t._internal_text._internal_y,t._internal_text._internal_width,t._internal_text._internal_height,e,i))||function(t,e,i){if(0===t._internal_size)return!1;switch(t._internal_shape){case"arrowDown":case"arrowUp":return ke(0,t._internal_x,t._internal_y,t._internal_size,e,i);case"arrowLeft":case"arrowRight":return Te(t._internal_x,t._internal_y,t._internal_size,e,i);case"circle":return function(t,e,i,n,r){const a=2+ye("circle",i)/2,s=t-n,l=e-r;return Math.sqrt(s*s+l*l)<=a}(t._internal_x,t._internal_y,t._internal_size,e,i);case"square":case"cross":case"xcross":return Te(t._internal_x,t._internal_y,t._internal_size,e,i)}}(t,e,i)}function Be(t,e,i,n,r,a,s,l,o){const _=F(i)?i:i._internal_close,c=F(i)?i:i._internal_high,u=F(i)?i:i._internal_low,h=F(e.size)?Math.max(e.size,0):1,p=we(l._internal_barSpacing())*h,d=p/2;switch(t._internal_size=p,e.position){case"inBar":return t._internal_y=s._internal_priceToCoordinate(_,o),void(void 0!==t._internal_text&&(t._internal_text._internal_y=t._internal_y+d+a+.6*r));case"aboveBar":return t._internal_y=s._internal_priceToCoordinate(c,o)-d-n._internal_aboveBar,void 0!==t._internal_text&&(t._internal_text._internal_y=t._internal_y-d-.6*r,n._internal_aboveBar+=1.2*r),void(n._internal_aboveBar+=p+a);case"belowBar":return t._internal_y=s._internal_priceToCoordinate(u,o)+d+n._internal_belowBar,void 0!==t._internal_text&&(t._internal_text._internal_y=t._internal_y+d+a+.6*r,n._internal_belowBar+=1.2*r),void(n._internal_belowBar+=p+a)}e.position}class Ae{constructor(t,e){this._private__invalidated=!0,this._private__dataInvalidated=!0,this._private__autoScaleMarginsInvalidated=!0,this._private__autoScaleMargins=null,this._private__markersPositions=null,this._private__renderer=new Me,this._private__series=t,this._private__model=e,this._private__data={_internal_items:[],_internal_visibleRange:null}}_internal_update(t){this._private__invalidated=!0,this._private__autoScaleMarginsInvalidated=!0,"data"===t&&(this._private__dataInvalidated=!0,this._private__markersPositions=null)}_internal_renderer(t){if(!this._private__series._internal_visible())return null;this._private__invalidated&&this._internal__makeValid();const e=this._private__model._internal_options().layout;return this._private__renderer._internal_setParams(e.fontSize,e.fontFamily),this._private__renderer._internal_setData(this._private__data),this._private__renderer}_internal_autoScaleMargins(){if(this._private__autoScaleMarginsInvalidated){if(this._private__series._internal_indexedMarkers().length>0){const t=this._private__model._internal_timeScale()._internal_barSpacing(),e=Se(t),i=1.5*we(t)+2*e,n=this._internal__getMarkerPositions();this._private__autoScaleMargins={above:xe(i,n.aboveBar,n.inBar),below:xe(i,n.belowBar,n.inBar)}}else this._private__autoScaleMargins=null;this._private__autoScaleMarginsInvalidated=!1}return this._private__autoScaleMargins}_internal__getMarkerPositions(){return null===this._private__markersPositions&&(this._private__markersPositions=this._private__series._internal_indexedMarkers().reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1})),this._private__markersPositions}_internal__makeValid(){const t=this._private__series._internal_priceScale(),e=this._private__model._internal_timeScale(),i=this._private__series._internal_indexedMarkers();this._private__dataInvalidated&&(this._private__data._internal_items=i.map(t=>({_internal_time:t.time,_internal_x:0,_internal_y:0,_internal_size:0,_internal_shape:t.shape,_internal_color:t.color,_internal_internalId:t._internal_internalId,_internal_externalId:t.id,_internal_text:void 0})),this._private__dataInvalidated=!1);const n=this._private__model._internal_options().layout;this._private__data._internal_visibleRange=null;const r=e._internal_visibleStrictRange();if(null===r)return;const a=this._private__series._internal_firstValue();if(null===a)return;if(0===this._private__data._internal_items.length)return;let s=NaN;const l=Se(e._internal_barSpacing()),o={_internal_aboveBar:l,_internal_belowBar:l};this._private__data._internal_visibleRange=jt(this._private__data._internal_items,r,!0);for(let _=this._private__data._internal_visibleRange.from;_<this._private__data._internal_visibleRange.to;_++){const r=i[_];r.time!==s&&(o._internal_aboveBar=l,o._internal_belowBar=l,s=r.time);const c=this._private__data._internal_items[_];c._internal_x=e._internal_indexToCoordinate(r.time),void 0!==r.text&&r.text.length>0&&(c._internal_text={_internal_content:r.text,_internal_x:0,_internal_y:0,_internal_width:0,_internal_height:0});const u=this._private__series._internal_dataAt(r.time);null!==u&&Be(c,r,u,o,n.fontSize,l,t,e,a._internal_value)}this._private__invalidated=!1}}class Oe extends he{constructor(t){super(t)}_internal__updateImpl(){const t=this._internal__lineRendererData;t._internal_visible=!1;const e=this._internal__series._internal_options();if(!e.priceLineVisible||!this._internal__series._internal_visible())return;const i=this._internal__series._internal_lastValueData(0===e.priceLineSource);i._internal_noData||(t._internal_visible=!0,t._internal_y=i._internal_coordinate,t._internal_color=this._internal__series._internal_priceLineColor(i._internal_color),t._internal_lineWidth=e.priceLineWidth,t._internal_lineStyle=e.priceLineStyle)}}class De extends _t{constructor(t){super(),this._private__source=t}_internal__updateRendererData(t,e,i){t._internal_visible=!1,e._internal_visible=!1;const n=this._private__source;if(!n._internal_visible())return;const r=n._internal_options(),a=r.lastValueVisible,s=""!==n._internal_title(),l=0===r.seriesLastValueMode,o=n._internal_lastValueData(!1);if(o._internal_noData)return;a&&(t._internal_text=this._internal__axisText(o,a,l),t._internal_visible=0!==t._internal_text.length),(s||l)&&(e._internal_text=this._internal__paneText(o,a,s,l),e._internal_visible=e._internal_text.length>0);const _=n._internal_priceLineColor(o._internal_color),c=R(_);i._internal_background=c._internal_background,i._internal_coordinate=o._internal_coordinate,e._internal_borderColor=n._internal_model()._internal_backgroundColorAtYPercentFromTop(o._internal_coordinate/n._internal_priceScale()._internal_height()),t._internal_borderColor=_,t._internal_color=c._internal_foreground,e._internal_color=c._internal_foreground}_internal__paneText(t,e,i,n){let r="";const a=this._private__source._internal_title();return i&&0!==a.length&&(r+="".concat(a," ")),e&&n&&(r+=this._private__source._internal_priceScale()._internal_isPercentage()?t._internal_formattedPriceAbsolute:t._internal_formattedPricePercentage),r.trim()}_internal__axisText(t,e,i){return e?i?this._private__source._internal_priceScale()._internal_isPercentage()?t._internal_formattedPricePercentage:t._internal_formattedPriceAbsolute:t._internal_text:""}}function Re(t,e,i,n){const r=Number.isFinite(e),a=Number.isFinite(i);return r&&a?t(e,i):r||a?r?e:i:n}class Le{constructor(t,e){this._private__minValue=t,this._private__maxValue=e}_internal_equals(t){return null!==t&&(this._private__minValue===t._private__minValue&&this._private__maxValue===t._private__maxValue)}_internal_clone(){return new Le(this._private__minValue,this._private__maxValue)}_internal_minValue(){return this._private__minValue}_internal_maxValue(){return this._private__maxValue}_internal_length(){return this._private__maxValue-this._private__minValue}_internal_isEmpty(){return this._private__maxValue===this._private__minValue||Number.isNaN(this._private__maxValue)||Number.isNaN(this._private__minValue)}_internal_merge(t){return null===t?this:new Le(Re(Math.min,this._internal_minValue(),t._internal_minValue(),-1/0),Re(Math.max,this._internal_maxValue(),t._internal_maxValue(),1/0))}_internal_scaleAroundCenter(t){if(!F(t))return;if(0===this._private__maxValue-this._private__minValue)return;const e=.5*(this._private__maxValue+this._private__minValue);let i=this._private__maxValue-e,n=this._private__minValue-e;i*=t,n*=t,this._private__maxValue=e+i,this._private__minValue=e+n}_internal_shift(t){F(t)&&(this._private__maxValue+=t,this._private__minValue+=t)}_internal_toRaw(){return{minValue:this._private__minValue,maxValue:this._private__maxValue}}static _internal_fromRaw(t){return null===t?null:new Le(t.minValue,t.maxValue)}}class ze{constructor(t,e){this._private__priceRange=t,this._private__margins=e||null}_internal_priceRange(){return this._private__priceRange}_internal_margins(){return this._private__margins}_internal_toRaw(){return null===this._private__priceRange?null:{priceRange:this._private__priceRange._internal_toRaw(),margins:this._private__margins||void 0}}static _internal_fromRaw(t){return null===t?null:new ze(Le._internal_fromRaw(t.priceRange),t.margins)}}class Fe extends he{constructor(t,e){super(t),this._private__priceLine=e}_internal__updateImpl(){const t=this._internal__lineRendererData;t._internal_visible=!1;const e=this._private__priceLine._internal_options();if(!this._internal__series._internal_visible()||!e.lineVisible)return;const i=this._private__priceLine._internal_yCoord();null!==i&&(t._internal_visible=!0,t._internal_y=i,t._internal_color=e.color,t._internal_lineWidth=e.lineWidth,t._internal_lineStyle=e.lineStyle,t._internal_externalId=this._private__priceLine._internal_options().id)}}class Ve extends _t{constructor(t,e){super(),this._private__series=t,this._private__priceLine=e}_internal__updateRendererData(t,e,i){t._internal_visible=!1,e._internal_visible=!1;const n=this._private__priceLine._internal_options(),r=n.axisLabelVisible,a=""!==n.title,s=this._private__series;if(!r||!s._internal_visible())return;const l=this._private__priceLine._internal_yCoord();if(null===l)return;a&&(e._internal_text=n.title,e._internal_visible=!0),e._internal_borderColor=s._internal_model()._internal_backgroundColorAtYPercentFromTop(l/s._internal_priceScale()._internal_height()),t._internal_text=this._private__formatPrice(n.price),t._internal_visible=!0;const o=R(n.axisLabelColor||n.color);i._internal_background=o._internal_background;const _=n.axisLabelTextColor||o._internal_foreground;t._internal_color=_,e._internal_color=_,i._internal_coordinate=l}_private__formatPrice(t){const e=this._private__series._internal_firstValue();return null===e?"":this._private__series._internal_priceScale()._internal_formatPrice(t,e._internal_value)}}class Ne{constructor(t,e){this._private__series=t,this._private__options=e,this._private__priceLineView=new Fe(t,this),this._private__priceAxisView=new Ve(t,this),this._private__panePriceAxisView=new ce(this._private__priceAxisView,t,t._internal_model())}_internal_applyOptions(t){z(this._private__options,t),this._internal_update(),this._private__series._internal_model()._internal_lightUpdate()}_internal_options(){return this._private__options}_internal_paneView(){return this._private__priceLineView}_internal_labelPaneView(){return this._private__panePriceAxisView}_internal_priceAxisView(){return this._private__priceAxisView}_internal_update(){this._private__priceLineView._internal_update(),this._private__priceAxisView._internal_update()}_internal_yCoord(){const t=this._private__series,e=t._internal_priceScale();if(t._internal_model()._internal_timeScale()._internal_isEmpty()||e._internal_isEmpty())return null;const i=t._internal_firstValue();return null===i?null:e._internal_priceToCoordinate(this._private__options.price,i._internal_value)}}class Ue extends dt{constructor(t){super(),this._private__model=t}_internal_model(){return this._private__model}}const We={Bar:(t,e,i,n)=>{var r;const a=e.upColor,s=e.downColor,l=T(t(i,n)),o=C(l._internal_value[0])<=C(l._internal_value[3]);return{_internal_barColor:null!==(r=l._internal_color)&&void 0!==r?r:o?a:s}},Candlestick:(t,e,i,n)=>{var r,a,s;const l=e.upColor,o=e.downColor,_=e.borderUpColor,c=e.borderDownColor,u=e.wickUpColor,h=e.wickDownColor,p=T(t(i,n)),d=C(p._internal_value[0])<=C(p._internal_value[3]);return{_internal_barColor:null!==(r=p._internal_color)&&void 0!==r?r:d?l:o,_internal_barBorderColor:null!==(a=p._internal_borderColor)&&void 0!==a?a:d?_:c,_internal_barWickColor:null!==(s=p._internal_wickColor)&&void 0!==s?s:d?u:h}},Custom:(t,e,i,n)=>{var r;return{_internal_barColor:null!==(r=T(t(i,n))._internal_color)&&void 0!==r?r:e.color}},Area:(t,e,i,n)=>{var r,a,s,l;const o=T(t(i,n));return{_internal_barColor:null!==(r=o._internal_lineColor)&&void 0!==r?r:e.lineColor,_internal_lineColor:null!==(a=o._internal_lineColor)&&void 0!==a?a:e.lineColor,_internal_topColor:null!==(s=o._internal_topColor)&&void 0!==s?s:e.topColor,_internal_bottomColor:null!==(l=o._internal_bottomColor)&&void 0!==l?l:e.bottomColor}},Baseline:(t,e,i,n)=>{var r,a,s,l,o,_;const c=T(t(i,n));return{_internal_barColor:c._internal_value[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,_internal_topLineColor:null!==(r=c._internal_topLineColor)&&void 0!==r?r:e.topLineColor,_internal_bottomLineColor:null!==(a=c._internal_bottomLineColor)&&void 0!==a?a:e.bottomLineColor,_internal_topFillColor1:null!==(s=c._internal_topFillColor1)&&void 0!==s?s:e.topFillColor1,_internal_topFillColor2:null!==(l=c._internal_topFillColor2)&&void 0!==l?l:e.topFillColor2,_internal_bottomFillColor1:null!==(o=c._internal_bottomFillColor1)&&void 0!==o?o:e.bottomFillColor1,_internal_bottomFillColor2:null!==(_=c._internal_bottomFillColor2)&&void 0!==_?_:e.bottomFillColor2}},Line:(t,e,i,n)=>{var r,a;const s=T(t(i,n));return{_internal_barColor:null!==(r=s._internal_color)&&void 0!==r?r:e.color,_internal_lineColor:null!==(a=s._internal_color)&&void 0!==a?a:e.color}},Histogram:(t,e,i,n)=>{var r;return{_internal_barColor:null!==(r=T(t(i,n))._internal_color)&&void 0!==r?r:e.color}}};class je{constructor(t){this._private__findBar=(t,e)=>void 0!==e?e._internal_value:this._private__series._internal_bars()._internal_valueAt(t),this._private__series=t,this._private__styleGetter=We[t._internal_seriesType()]}_internal_barStyle(t,e){return this._private__styleGetter(this._private__findBar,this._private__series._internal_options(),t,e)}}var He;!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(He||(He={}));class Ye{constructor(){this._private__items=[],this._private__minMaxCache=new Map,this._private__rowSearchCache=new Map}_internal_last(){return this._internal_size()>0?this._private__items[this._private__items.length-1]:null}_internal_firstIndex(){return this._internal_size()>0?this._private__indexAt(0):null}_internal_lastIndex(){return this._internal_size()>0?this._private__indexAt(this._private__items.length-1):null}_internal_size(){return this._private__items.length}_internal_isEmpty(){return 0===this._internal_size()}_internal_contains(t){return null!==this._private__search(t,0)}_internal_valueAt(t){return this._internal_search(t)}_internal_search(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this._private__search(t,e);return null===i?null:Object.assign(Object.assign({},this._private__valueAt(i)),{_internal_index:this._private__indexAt(i)})}_internal_rows(){return this._private__items}_internal_minMaxOnRangeCached(t,e,i){if(this._internal_isEmpty())return null;let n=null;for(const r of i){n=$e(n,this._private__minMaxOnRangeCachedImpl(t,e,r))}return n}_internal_setData(t){this._private__rowSearchCache.clear(),this._private__minMaxCache.clear(),this._private__items=t}_private__indexAt(t){return this._private__items[t]._internal_index}_private__valueAt(t){return this._private__items[t]}_private__search(t,e){const i=this._private__bsearch(t);if(null===i&&0!==e)switch(e){case-1:return this._private__searchNearestLeft(t);case 1:return this._private__searchNearestRight(t);default:throw new TypeError("Unknown search mode")}return i}_private__searchNearestLeft(t){let e=this._private__lowerbound(t);return e>0&&(e-=1),e!==this._private__items.length&&this._private__indexAt(e)<t?e:null}_private__searchNearestRight(t){const e=this._private__upperbound(t);return e!==this._private__items.length&&t<this._private__indexAt(e)?e:null}_private__bsearch(t){const e=this._private__lowerbound(t);return e===this._private__items.length||t<this._private__items[e]._internal_index?null:e}_private__lowerbound(t){return Vt(this._private__items,t,(t,e)=>t._internal_index<e)}_private__upperbound(t){return Nt(this._private__items,t,(t,e)=>t._internal_index>e)}_private__plotMinMax(t,e,i){let n=null;for(let r=t;r<e;r++){const t=this._private__items[r]._internal_value[i];Number.isNaN(t)||(null===n?n={_internal_min:t,_internal_max:t}:(t<n._internal_min&&(n._internal_min=t),t>n._internal_max&&(n._internal_max=t)))}return n}_private__minMaxOnRangeCachedImpl(t,e,i){if(this._internal_isEmpty())return null;let n=null;const r=T(this._internal_firstIndex()),a=T(this._internal_lastIndex()),s=Math.max(t,r),l=Math.min(e,a),o=30*Math.ceil(s/30),_=Math.max(o,30*Math.floor(l/30));{const t=this._private__lowerbound(s),r=this._private__upperbound(Math.min(l,o,e));n=$e(n,this._private__plotMinMax(t,r,i))}let c=this._private__minMaxCache.get(i);void 0===c&&(c=new Map,this._private__minMaxCache.set(i,c));for(let u=Math.max(o+1,s);u<_;u+=30){const t=Math.floor(u/30);let e=c.get(t);if(void 0===e){const n=this._private__lowerbound(30*t),r=this._private__upperbound(30*(t+1)-1);e=this._private__plotMinMax(n,r,i),c.set(t,e)}n=$e(n,e)}{const t=this._private__lowerbound(_),e=this._private__upperbound(l);n=$e(n,this._private__plotMinMax(t,e,i))}return n}}function $e(t,e){if(null===t)return e;if(null===e)return t;return{_internal_min:Math.min(t._internal_min,e._internal_min),_internal_max:Math.max(t._internal_max,e._internal_max)}}class Ke{constructor(t){this._private__baseRenderer=t}_internal_draw(t,e,i){this._private__baseRenderer.draw(t)}_internal_drawBackground(t,e,i){var n,r;null===(r=(n=this._private__baseRenderer).drawBackground)||void 0===r||r.call(n,t)}}class qe{constructor(t){this._private__cache=null,this._private__paneView=t}_internal_renderer(){var t;const e=this._private__paneView.renderer();if(null===e)return null;if((null===(t=this._private__cache)||void 0===t?void 0:t._internal_base)===e)return this._private__cache._internal_wrapper;const i=new Ke(e);return this._private__cache={_internal_base:e,_internal_wrapper:i},i}_internal_zOrder(){var t,e,i;return null!==(i=null===(e=(t=this._private__paneView).zOrder)||void 0===e?void 0:e.call(t))&&void 0!==i?i:"normal"}}function Xe(t){var e,i,n,r,a;return{_internal_text:t.text(),_internal_coordinate:t.coordinate(),_internal_fixedCoordinate:null===(e=t.fixedCoordinate)||void 0===e?void 0:e.call(t),_internal_color:t.textColor(),_internal_background:t.backColor(),_internal_visible:null===(n=null===(i=t.visible)||void 0===i?void 0:i.call(t))||void 0===n||n,_internal_tickVisible:null===(a=null===(r=t.tickVisible)||void 0===r?void 0:r.call(t))||void 0===a||a}}class Qe{constructor(t,e){this._private__renderer=new ht,this._private__baseView=t,this._private__timeScale=e}_internal_renderer(){return this._private__renderer._internal_setData(Object.assign({_internal_width:this._private__timeScale._internal_width()},Xe(this._private__baseView))),this._private__renderer}}class Ge extends _t{constructor(t,e){super(),this._private__baseView=t,this._private__priceScale=e}_internal__updateRendererData(t,e,i){const n=Xe(this._private__baseView);i._internal_background=n._internal_background,t._internal_color=n._internal_color;const r=2/12*this._private__priceScale._internal_fontSize();i._internal_additionalPaddingTop=r,i._internal_additionalPaddingBottom=r,i._internal_coordinate=n._internal_coordinate,i._internal_fixedCoordinate=n._internal_fixedCoordinate,t._internal_text=n._internal_text,t._internal_visible=n._internal_visible,t._internal_tickVisible=n._internal_tickVisible}}class Ze{constructor(t,e){this._private__paneViewsCache=null,this._private__timeAxisViewsCache=null,this._private__priceAxisViewsCache=null,this._private__priceAxisPaneViewsCache=null,this._private__timeAxisPaneViewsCache=null,this._private__primitive=t,this._private__series=e}_internal_primitive(){return this._private__primitive}_internal_updateAllViews(){var t,e;null===(e=(t=this._private__primitive).updateAllViews)||void 0===e||e.call(t)}_internal_paneViews(){var t,e,i,n;const r=null!==(i=null===(e=(t=this._private__primitive).paneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this._private__paneViewsCache)||void 0===n?void 0:n._internal_base)===r)return this._private__paneViewsCache._internal_wrapper;const a=r.map(t=>new qe(t));return this._private__paneViewsCache={_internal_base:r,_internal_wrapper:a},a}_internal_timeAxisViews(){var t,e,i,n;const r=null!==(i=null===(e=(t=this._private__primitive).timeAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this._private__timeAxisViewsCache)||void 0===n?void 0:n._internal_base)===r)return this._private__timeAxisViewsCache._internal_wrapper;const a=this._private__series._internal_model()._internal_timeScale(),s=r.map(t=>new Qe(t,a));return this._private__timeAxisViewsCache={_internal_base:r,_internal_wrapper:s},s}_internal_priceAxisViews(){var t,e,i,n;const r=null!==(i=null===(e=(t=this._private__primitive).priceAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this._private__priceAxisViewsCache)||void 0===n?void 0:n._internal_base)===r)return this._private__priceAxisViewsCache._internal_wrapper;const a=this._private__series._internal_priceScale(),s=r.map(t=>new Ge(t,a));return this._private__priceAxisViewsCache={_internal_base:r,_internal_wrapper:s},s}_internal_priceAxisPaneViews(){var t,e,i,n;const r=null!==(i=null===(e=(t=this._private__primitive).priceAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this._private__priceAxisPaneViewsCache)||void 0===n?void 0:n._internal_base)===r)return this._private__priceAxisPaneViewsCache._internal_wrapper;const a=r.map(t=>new qe(t));return this._private__priceAxisPaneViewsCache={_internal_base:r,_internal_wrapper:a},a}_internal_timeAxisPaneViews(){var t,e,i,n;const r=null!==(i=null===(e=(t=this._private__primitive).timeAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(n=this._private__timeAxisPaneViewsCache)||void 0===n?void 0:n._internal_base)===r)return this._private__timeAxisPaneViewsCache._internal_wrapper;const a=r.map(t=>new qe(t));return this._private__timeAxisPaneViewsCache={_internal_base:r,_internal_wrapper:a},a}_internal_autoscaleInfo(t,e){var i,n,r;return null!==(r=null===(n=(i=this._private__primitive).autoscaleInfo)||void 0===n?void 0:n.call(i,t,e))&&void 0!==r?r:null}_internal_hitTest(t,e){var i,n,r;return null!==(r=null===(n=(i=this._private__primitive).hitTest)||void 0===n?void 0:n.call(i,t,e))&&void 0!==r?r:null}}function Je(t,e,i,n){t.forEach(t=>{e(t).forEach(t=>{t._internal_zOrder()===i&&n.push(t)})})}function ti(t){return t._internal_paneViews()}function ei(t){return t._internal_priceAxisPaneViews()}function ii(t){return t._internal_timeAxisPaneViews()}class ni extends Ue{constructor(t,e,i,n,r){super(t),this._private__data=new Ye,this._private__priceLineView=new Oe(this),this._private__customPriceLines=[],this._private__baseHorizontalLineView=new pe(this),this._private__lastPriceAnimationPaneView=null,this._private__barColorerCache=null,this._private__markers=[],this._private__indexedMarkers=[],this._private__animationTimeoutId=null,this._private__primitives=[],this._private__options=e,this._private__seriesType=i;const a=new De(this);this._private__priceAxisViews=[a],this._private__panePriceAxisView=new ce(a,this,t),"Area"!==i&&"Line"!==i&&"Baseline"!==i||(this._private__lastPriceAnimationPaneView=new ge(this)),this._private__recreateFormatter(),this._private__recreatePaneViews(r)}_internal_destroy(){null!==this._private__animationTimeoutId&&clearTimeout(this._private__animationTimeoutId)}_internal_priceLineColor(t){return this._private__options.priceLineColor||t}_internal_lastValueData(t){const e={_internal_noData:!0},i=this._internal_priceScale();if(this._internal_model()._internal_timeScale()._internal_isEmpty()||i._internal_isEmpty()||this._private__data._internal_isEmpty())return e;const n=this._internal_model()._internal_timeScale()._internal_visibleStrictRange(),r=this._internal_firstValue();if(null===n||null===r)return e;let a,s;if(t){const t=this._private__data._internal_last();if(null===t)return e;a=t,s=t._internal_index}else{const t=this._private__data._internal_search(n._internal_right(),-1);if(null===t)return e;if(a=this._private__data._internal_valueAt(t._internal_index),null===a)return e;s=t._internal_index}const l=a._internal_value[3],o=this._internal_barColorer()._internal_barStyle(s,{_internal_value:a}),_=i._internal_priceToCoordinate(l,r._internal_value);return{_internal_noData:!1,_internal_price:l,_internal_text:i._internal_formatPrice(l,r._internal_value),_internal_formattedPriceAbsolute:i._internal_formatPriceAbsolute(l),_internal_formattedPricePercentage:i._internal_formatPricePercentage(l,r._internal_value),_internal_color:o._internal_barColor,_internal_coordinate:_,_internal_index:s}}_internal_barColorer(){return null!==this._private__barColorerCache||(this._private__barColorerCache=new je(this)),this._private__barColorerCache}_internal_options(){return this._private__options}_internal_applyOptions(t){const e=t.priceScaleId;void 0!==e&&e!==this._private__options.priceScaleId&&this._internal_model()._internal_moveSeriesToScale(this,e),z(this._private__options,t),void 0!==t.priceFormat&&(this._private__recreateFormatter(),this._internal_model()._internal_fullUpdate()),this._internal_model()._internal_updateSource(this),this._internal_model()._internal_updateCrosshair(),this._private__paneView._internal_update("options")}_internal_setData(t,e){this._private__data._internal_setData(t),this._private__recalculateMarkers(),this._private__paneView._internal_update("data"),this._private__markersPaneView._internal_update("data"),null!==this._private__lastPriceAnimationPaneView&&(e&&e._internal_lastBarUpdatedOrNewBarsAddedToTheRight?this._private__lastPriceAnimationPaneView._internal_onNewRealtimeDataReceived():0===t.length&&this._private__lastPriceAnimationPaneView._internal_onDataCleared());const i=this._internal_model()._internal_paneForSource(this);this._internal_model()._internal_recalculatePane(i),this._internal_model()._internal_updateSource(this),this._internal_model()._internal_updateCrosshair(),this._internal_model()._internal_lightUpdate()}_internal_setMarkers(t){this._private__markers=t,this._private__recalculateMarkers();const e=this._internal_model()._internal_paneForSource(this);this._private__markersPaneView._internal_update("data"),this._internal_model()._internal_recalculatePane(e),this._internal_model()._internal_updateSource(this),this._internal_model()._internal_updateCrosshair(),this._internal_model()._internal_lightUpdate()}_internal_markers(){return this._private__markers}_internal_indexedMarkers(){return this._private__indexedMarkers}_internal_createPriceLine(t){const e=new Ne(this,t);return this._private__customPriceLines.push(e),this._internal_model()._internal_updateSource(this),e}_internal_removePriceLine(t){const e=this._private__customPriceLines.indexOf(t);-1!==e&&this._private__customPriceLines.splice(e,1),this._internal_model()._internal_updateSource(this)}_internal_seriesType(){return this._private__seriesType}_internal_firstValue(){const t=this._internal_firstBar();return null===t?null:{_internal_value:t._internal_value[3],_internal_timePoint:t._internal_time}}_internal_firstBar(){const t=this._internal_model()._internal_timeScale()._internal_visibleStrictRange();if(null===t)return null;const e=t._internal_left();return this._private__data._internal_search(e,1)}_internal_bars(){return this._private__data}_internal_dataAt(t){const e=this._private__data._internal_valueAt(t);return null===e?null:"Bar"===this._private__seriesType||"Candlestick"===this._private__seriesType||"Custom"===this._private__seriesType?{_internal_open:e._internal_value[0],_internal_high:e._internal_value[1],_internal_low:e._internal_value[2],_internal_close:e._internal_value[3]}:e._internal_value[3]}_internal_topPaneViews(t){const e=[];Je(this._private__primitives,ti,"top",e);const i=this._private__lastPriceAnimationPaneView;return null!==i&&i._internal_visible()?(null===this._private__animationTimeoutId&&i._internal_animationActive()&&(this._private__animationTimeoutId=setTimeout(()=>{this._private__animationTimeoutId=null,this._internal_model()._internal_cursorUpdate()},0)),i._internal_invalidateStage(),e.unshift(i),e):e}_internal_paneViews(){const t=[];this._private__isOverlay()||t.push(this._private__baseHorizontalLineView),t.push(this._private__paneView,this._private__priceLineView,this._private__markersPaneView);const e=this._private__customPriceLines.map(t=>t._internal_paneView());return t.push(...e),Je(this._private__primitives,ti,"normal",t),t}_internal_bottomPaneViews(){return this._private__extractPaneViews(ti,"bottom")}_internal_pricePaneViews(t){return this._private__extractPaneViews(ei,t)}_internal_timePaneViews(t){return this._private__extractPaneViews(ii,t)}_internal_primitiveHitTest(t,e){return this._private__primitives.map(i=>i._internal_hitTest(t,e)).filter(t=>null!==t)}_internal_labelPaneViews(t){return[this._private__panePriceAxisView,...this._private__customPriceLines.map(t=>t._internal_labelPaneView())]}_internal_priceAxisViews(t,e){if(e!==this._internal__priceScale&&!this._private__isOverlay())return[];const i=[...this._private__priceAxisViews];for(const n of this._private__customPriceLines)i.push(n._internal_priceAxisView());return this._private__primitives.forEach(t=>{i.push(...t._internal_priceAxisViews())}),i}_internal_timeAxisViews(){const t=[];return this._private__primitives.forEach(e=>{t.push(...e._internal_timeAxisViews())}),t}_internal_autoscaleInfo(t,e){if(void 0!==this._private__options.autoscaleInfoProvider){const i=this._private__options.autoscaleInfoProvider(()=>{const i=this._private__autoscaleInfoImpl(t,e);return null===i?null:i._internal_toRaw()});return ze._internal_fromRaw(i)}return this._private__autoscaleInfoImpl(t,e)}_internal_minMove(){return this._private__options.priceFormat.minMove}_internal_formatter(){return this._private__formatter}_internal_updateAllViews(){var t;this._private__paneView._internal_update(),this._private__markersPaneView._internal_update();for(const e of this._private__priceAxisViews)e._internal_update();for(const e of this._private__customPriceLines)e._internal_update();this._private__priceLineView._internal_update(),this._private__baseHorizontalLineView._internal_update(),null===(t=this._private__lastPriceAnimationPaneView)||void 0===t||t._internal_update(),this._private__primitives.forEach(t=>t._internal_updateAllViews())}_internal_priceScale(){return T(super._internal_priceScale())}_internal_markerDataAtIndex(t){if(!(("Line"===this._private__seriesType||"Area"===this._private__seriesType||"Baseline"===this._private__seriesType)&&this._private__options.crosshairMarkerVisible))return null;const e=this._private__data._internal_valueAt(t);if(null===e)return null;return{_internal_price:e._internal_value[3],_internal_radius:this._private__markerRadius(),_internal_borderColor:this._private__markerBorderColor(),_internal_borderWidth:this._private__markerBorderWidth(),_internal_backgroundColor:this._private__markerBackgroundColor(t)}}_internal_title(){return this._private__options.title}_internal_visible(){return this._private__options.visible}_internal_attachPrimitive(t){this._private__primitives.push(new Ze(t,this))}_internal_detachPrimitive(t){this._private__primitives=this._private__primitives.filter(e=>e._internal_primitive()!==t)}_internal_customSeriesPlotValuesBuilder(){if(this._private__paneView instanceof ie!==!1)return t=>this._private__paneView._internal_priceValueBuilder(t)}_internal_customSeriesWhitespaceCheck(){if(this._private__paneView instanceof ie!==!1)return t=>this._private__paneView._internal_isWhitespace(t)}_private__isOverlay(){return!mt(this._internal_priceScale()._internal_id())}_private__autoscaleInfoImpl(t,e){if(!V(t)||!V(e)||this._private__data._internal_isEmpty())return null;const i="Line"===this._private__seriesType||"Area"===this._private__seriesType||"Baseline"===this._private__seriesType||"Histogram"===this._private__seriesType?[3]:[2,1],n=this._private__data._internal_minMaxOnRangeCached(t,e,i);let r=null!==n?new Le(n._internal_min,n._internal_max):null;if("Histogram"===this._internal_seriesType()){const t=this._private__options.base,e=new Le(t,t);r=null!==r?r._internal_merge(e):e}let a=this._private__markersPaneView._internal_autoScaleMargins();return this._private__primitives.forEach(i=>{const n=i._internal_autoscaleInfo(t,e);if(null===n||void 0===n?void 0:n.priceRange){const t=new Le(n.priceRange.minValue,n.priceRange.maxValue);r=null!==r?r._internal_merge(t):t}(null===n||void 0===n?void 0:n.margins)&&(a=function(t,e){var i,n;return{above:Math.max(null!==(i=null===t||void 0===t?void 0:t.above)&&void 0!==i?i:0,e.above),below:Math.max(null!==(n=null===t||void 0===t?void 0:t.below)&&void 0!==n?n:0,e.below)}}(a,n.margins))}),new ze(r,a)}_private__markerRadius(){switch(this._private__seriesType){case"Line":case"Area":case"Baseline":return this._private__options.crosshairMarkerRadius}return 0}_private__markerBorderColor(){switch(this._private__seriesType){case"Line":case"Area":case"Baseline":{const t=this._private__options.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}_private__markerBorderWidth(){switch(this._private__seriesType){case"Line":case"Area":case"Baseline":return this._private__options.crosshairMarkerBorderWidth}return 0}_private__markerBackgroundColor(t){switch(this._private__seriesType){case"Line":case"Area":case"Baseline":{const t=this._private__options.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this._internal_barColorer()._internal_barStyle(t)._internal_barColor}_private__recreateFormatter(){switch(this._private__options.priceFormat.type){case"custom":this._private__formatter={format:this._private__options.priceFormat.formatter};break;case"volume":this._private__formatter=new xt(this._private__options.priceFormat.precision);break;case"percent":this._private__formatter=new St(this._private__options.priceFormat.precision);break;default:{const t=Math.pow(10,this._private__options.priceFormat.precision);this._private__formatter=new wt(t,this._private__options.priceFormat.minMove*t)}}null!==this._internal__priceScale&&this._internal__priceScale._internal_updateFormatter()}_private__recalculateMarkers(){const t=this._internal_model()._internal_timeScale();if(!t._internal_hasPoints()||this._private__data._internal_isEmpty())return void(this._private__indexedMarkers=[]);const e=T(this._private__data._internal_firstIndex());this._private__indexedMarkers=this._private__markers.map((i,n)=>{const r=T(t._internal_timeToIndex(i.time,!0)),a=r<e?1:-1;return{time:T(this._private__data._internal_search(r,a))._internal_index,position:i.position,shape:i.shape,color:i.color,id:i.id,_internal_internalId:n,text:i.text,size:i.size,originalTime:i.originalTime}})}_private__recreatePaneViews(t){switch(this._private__markersPaneView=new Ae(this,this._internal_model()),this._private__seriesType){case"Bar":this._private__paneView=new Xt(this,this._internal_model());break;case"Candlestick":this._private__paneView=new te(this,this._internal_model());break;case"Line":this._private__paneView=new se(this,this._internal_model());break;case"Custom":this._private__paneView=new ie(this,this._internal_model(),x(t));break;case"Area":this._private__paneView=new $t(this,this._internal_model());break;case"Baseline":this._private__paneView=new Zt(this,this._internal_model());break;case"Histogram":this._private__paneView=new ae(this,this._internal_model());break;default:throw Error("Unknown chart style assigned: "+this._private__seriesType)}}_private__extractPaneViews(t,e){const i=[];return Je(this._private__primitives,t,e,i),i}}class ri{constructor(t){this._private__options=t}_internal_align(t,e,i){let n=t;if(0===this._private__options.mode)return n;const r=i._internal_defaultPriceScale(),a=r._internal_firstValue();if(null===a)return n;const s=r._internal_priceToCoordinate(t,a),l=i._internal_dataSources().filter(t=>t instanceof ni).reduce((t,n)=>{if(i._internal_isOverlay(n)||!n._internal_visible())return t;const r=n._internal_priceScale(),a=n._internal_bars();if(r._internal_isEmpty()||!a._internal_contains(e))return t;const s=a._internal_valueAt(e);if(null===s)return t;const l=C(n._internal_firstValue());return t.concat([r._internal_priceToCoordinate(s._internal_value[3],l._internal_value)])},[]);if(0===l.length)return n;l.sort((t,e)=>Math.abs(t-s)-Math.abs(e-s));const o=l[0];return n=r._internal_coordinateToPrice(o,a),n}}class ai extends X{constructor(){super(...arguments),this._private__data=null}_internal_setData(t){this._private__data=t}_internal__drawImpl(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this._private__data)return;const a=Math.max(1,Math.floor(n));e.lineWidth=a,function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(e,()=>{const t=T(this._private__data);if(t._internal_vertLinesVisible){e.strokeStyle=t._internal_vertLinesColor,y(e,t._internal_vertLineStyle),e.beginPath();for(const r of t._internal_timeMarks){const t=Math.round(r._internal_coord*n);e.moveTo(t,-a),e.lineTo(t,i.height+a)}e.stroke()}if(t._internal_horzLinesVisible){e.strokeStyle=t._internal_horzLinesColor,y(e,t._internal_horzLineStyle),e.beginPath();for(const n of t._internal_priceMarks){const t=Math.round(n._internal_coord*r);e.moveTo(-a,t),e.lineTo(i.width+a,t)}e.stroke()}})}}class si{constructor(t){this._private__renderer=new ai,this._private__invalidated=!0,this._private__pane=t}_internal_update(){this._private__invalidated=!0}_internal_renderer(){if(this._private__invalidated){const t=this._private__pane._internal_model()._internal_options().grid,e={_internal_horzLinesVisible:t.horzLines.visible,_internal_vertLinesVisible:t.vertLines.visible,_internal_horzLinesColor:t.horzLines.color,_internal_vertLinesColor:t.vertLines.color,_internal_horzLineStyle:t.horzLines.style,_internal_vertLineStyle:t.vertLines.style,_internal_priceMarks:this._private__pane._internal_defaultPriceScale()._internal_marks(),_internal_timeMarks:(this._private__pane._internal_model()._internal_timeScale()._internal_marks()||[]).map(t=>({_internal_coord:t.coord}))};this._private__renderer._internal_setData(e),this._private__invalidated=!1}return this._private__renderer}}class li{constructor(t){this._private__paneView=new si(t)}_internal_paneView(){return this._private__paneView}}const oi={_internal_logicalOffset:4,_internal_coordOffset:1e-4};function _i(t,e){const i=100*(t-e)/e;return e<0?-i:i}function ci(t,e){const i=_i(t._internal_minValue(),e),n=_i(t._internal_maxValue(),e);return new Le(i,n)}function ui(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function hi(t,e){const i=ui(t._internal_minValue(),e),n=ui(t._internal_maxValue(),e);return new Le(i,n)}function pi(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.log10(i+e._internal_coordOffset)+e._internal_logicalOffset;return t<0?-n:n}function di(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e._internal_logicalOffset)-e._internal_coordOffset;return t<0?-n:n}function fi(t,e){if(null===t)return null;const i=pi(t._internal_minValue(),e),n=pi(t._internal_maxValue(),e);return new Le(i,n)}function vi(t,e){if(null===t)return null;const i=di(t._internal_minValue(),e),n=di(t._internal_maxValue(),e);return new Le(i,n)}function mi(t){if(null===t)return oi;const e=Math.abs(t._internal_maxValue()-t._internal_minValue());if(e>=1||e<1e-15)return oi;const i=Math.ceil(Math.abs(Math.log10(e))),n=oi._internal_logicalOffset+i;return{_internal_logicalOffset:n,_internal_coordOffset:1/Math.pow(10,n)}}class gi{constructor(t,e){if(this._private__base=t,this._private__integralDividers=e,function(t){if(t<0)return!1;for(let e=t;e>1;e/=10)if(e%10!==0)return!1;return!0}(this._private__base))this._private__fractionalDividers=[2,2.5,2];else{this._private__fractionalDividers=[];for(let t=this._private__base;1!==t;){if(t%2===0)this._private__fractionalDividers.push(2),t/=2;else{if(t%5!==0)throw new Error("unexpected base");this._private__fractionalDividers.push(2,2.5),t/=5}if(this._private__fractionalDividers.length>100)throw new Error("something wrong with base")}}}_internal_tickSpan(t,e,i){const n=0===this._private__base?0:1/this._private__base;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),a=0,s=this._private__integralDividers[0];for(;;){const t=Bt(r,n,1e-14)&&r>n+1e-14,e=Bt(r,i*s,1e-14),l=Bt(r,1,1e-14);if(!(t&&e&&l))break;r/=s,s=this._private__integralDividers[++a%this._private__integralDividers.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this._private__fractionalDividers.length>0&&(l=r,o=1,_=1e-14,Math.abs(l-o)<_))for(a=0,s=this._private__fractionalDividers[0];Bt(r,i*s,1e-14)&&r>n+1e-14;)r/=s,s=this._private__fractionalDividers[++a%this._private__fractionalDividers.length];var l,o,_;return r}}class bi{constructor(t,e,i,n){this._private__marks=[],this._private__priceScale=t,this._private__base=e,this._private__coordinateToLogicalFunc=i,this._private__logicalToCoordinateFunc=n}_internal_tickSpan(t,e){if(t<e)throw new Error("high < low");const i=this._private__priceScale._internal_height(),n=(t-e)*this._private__tickMarkHeight()/i,r=new gi(this._private__base,[2,2.5,2]),a=new gi(this._private__base,[2,2,2.5]),s=new gi(this._private__base,[2.5,2,2]),l=[];return l.push(r._internal_tickSpan(t,e,n),a._internal_tickSpan(t,e,n),s._internal_tickSpan(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(l)}_internal_rebuildTickMarks(){const t=this._private__priceScale,e=t._internal_firstValue();if(null===e)return void(this._private__marks=[]);const i=t._internal_height(),n=this._private__coordinateToLogicalFunc(i-1,e),r=this._private__coordinateToLogicalFunc(0,e),a=this._private__priceScale._internal_options().entireTextOnly?this._private__fontHeight()/2:0,s=a,l=i-1-a,o=Math.max(n,r),_=Math.min(n,r);if(o===_)return void(this._private__marks=[]);let c=this._internal_tickSpan(o,_),u=o%c;u+=u<0?c:0;const h=o>=_?1:-1;let p=null,d=0;for(let f=o-u;f>_;f-=c){const i=this._private__logicalToCoordinateFunc(f,e,!0);null!==p&&Math.abs(i-p)<this._private__tickMarkHeight()||(i<s||i>l||(d<this._private__marks.length?(this._private__marks[d]._internal_coord=i,this._private__marks[d]._internal_label=t._internal_formatLogical(f)):this._private__marks.push({_internal_coord:i,_internal_label:t._internal_formatLogical(f)}),d++,p=i,t._internal_isLog()&&(c=this._internal_tickSpan(f*h,_))))}this._private__marks.length=d}_internal_marks(){return this._private__marks}_private__fontHeight(){return this._private__priceScale._internal_fontSize()}_private__tickMarkHeight(){return Math.ceil(2.5*this._private__fontHeight())}}function yi(t){return t.slice().sort((t,e)=>T(t._internal_zorder())-T(e._internal_zorder()))}var wi;!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(wi||(wi={}));const Si=new St,xi=new wt(100,1);class Ti{constructor(t,e,i,n){this._private__height=0,this._private__internalHeightCache=null,this._private__priceRange=null,this._private__priceRangeSnapshot=null,this._private__invalidatedForRange={_internal_isValid:!1,_internal_visibleBars:null},this._private__marginAbove=0,this._private__marginBelow=0,this._private__onMarksChanged=new L,this._private__modeChanged=new L,this._private__dataSources=[],this._private__cachedOrderedSources=null,this._private__marksCache=null,this._private__scaleStartPoint=null,this._private__scrollStartPoint=null,this._private__formatter=xi,this._private__logFormula=mi(null),this._private__id=t,this._private__options=e,this._private__layoutOptions=i,this._private__localizationOptions=n,this._private__markBuilder=new bi(this,100,this._private__coordinateToLogical.bind(this),this._private__logicalToCoordinate.bind(this))}_internal_id(){return this._private__id}_internal_options(){return this._private__options}_internal_applyOptions(t){if(z(this._private__options,t),this._internal_updateFormatter(),void 0!==t.mode&&this._internal_setMode({_internal_mode:t.mode}),void 0!==t.scaleMargins){const e=x(t.scaleMargins.top),i=x(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(e));if(i<0||i>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(i));if(e+i>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(e+i));this._private__invalidateInternalHeightCache(),this._private__marksCache=null}}_internal_isAutoScale(){return this._private__options.autoScale}_internal_isLog(){return 1===this._private__options.mode}_internal_isPercentage(){return 2===this._private__options.mode}_internal_isIndexedTo100(){return 3===this._private__options.mode}_internal_mode(){return{_internal_autoScale:this._private__options.autoScale,_internal_isInverted:this._private__options.invertScale,_internal_mode:this._private__options.mode}}_internal_setMode(t){const e=this._internal_mode();let i=null;void 0!==t._internal_autoScale&&(this._private__options.autoScale=t._internal_autoScale),void 0!==t._internal_mode&&(this._private__options.mode=t._internal_mode,2!==t._internal_mode&&3!==t._internal_mode||(this._private__options.autoScale=!0),this._private__invalidatedForRange._internal_isValid=!1),1===e._internal_mode&&t._internal_mode!==e._internal_mode&&(!function(t,e){if(null===t)return!1;const i=di(t._internal_minValue(),e),n=di(t._internal_maxValue(),e);return isFinite(i)&&isFinite(n)}(this._private__priceRange,this._private__logFormula)?this._private__options.autoScale=!0:(i=vi(this._private__priceRange,this._private__logFormula),null!==i&&this._internal_setPriceRange(i))),1===t._internal_mode&&t._internal_mode!==e._internal_mode&&(i=fi(this._private__priceRange,this._private__logFormula),null!==i&&this._internal_setPriceRange(i));const n=e._internal_mode!==this._private__options.mode;n&&(2===e._internal_mode||this._internal_isPercentage())&&this._internal_updateFormatter(),n&&(3===e._internal_mode||this._internal_isIndexedTo100())&&this._internal_updateFormatter(),void 0!==t._internal_isInverted&&e._internal_isInverted!==t._internal_isInverted&&(this._private__options.invertScale=t._internal_isInverted,this._private__onIsInvertedChanged()),this._private__modeChanged._internal_fire(e,this._internal_mode())}_internal_modeChanged(){return this._private__modeChanged}_internal_fontSize(){return this._private__layoutOptions.fontSize}_internal_height(){return this._private__height}_internal_setHeight(t){this._private__height!==t&&(this._private__height=t,this._private__invalidateInternalHeightCache(),this._private__marksCache=null)}_internal_internalHeight(){if(this._private__internalHeightCache)return this._private__internalHeightCache;const t=this._internal_height()-this._private__topMarginPx()-this._private__bottomMarginPx();return this._private__internalHeightCache=t,t}_internal_priceRange(){return this._private__makeSureItIsValid(),this._private__priceRange}_internal_setPriceRange(t,e){const i=this._private__priceRange;(e||null===i&&null!==t||null!==i&&!i._internal_equals(t))&&(this._private__marksCache=null,this._private__priceRange=t)}_internal_isEmpty(){return this._private__makeSureItIsValid(),0===this._private__height||!this._private__priceRange||this._private__priceRange._internal_isEmpty()}_internal_invertedCoordinate(t){return this._internal_isInverted()?t:this._internal_height()-1-t}_internal_priceToCoordinate(t,e){return this._internal_isPercentage()?t=_i(t,e):this._internal_isIndexedTo100()&&(t=ui(t,e)),this._private__logicalToCoordinate(t,e)}_internal_pointsArrayToCoordinates(t,e,i){this._private__makeSureItIsValid();const n=this._private__bottomMarginPx(),r=T(this._internal_priceRange()),a=r._internal_minValue(),s=r._internal_maxValue(),l=this._internal_internalHeight()-1,o=this._internal_isInverted(),_=l/(s-a),c=void 0===i?0:i.from,u=void 0===i?t.length:i.to,h=this._private__getCoordinateTransformer();for(let p=c;p<u;p++){const i=t[p],r=i._internal_price;if(isNaN(r))continue;let s=r;null!==h&&(s=h(i._internal_price,e));const l=n+_*(s-a),c=o?l:this._private__height-1-l;i._internal_y=c}}_internal_barPricesToCoordinates(t,e,i){this._private__makeSureItIsValid();const n=this._private__bottomMarginPx(),r=T(this._internal_priceRange()),a=r._internal_minValue(),s=r._internal_maxValue(),l=this._internal_internalHeight()-1,o=this._internal_isInverted(),_=l/(s-a),c=void 0===i?0:i.from,u=void 0===i?t.length:i.to,h=this._private__getCoordinateTransformer();for(let p=c;p<u;p++){const i=t[p];let r=i._internal_open,s=i._internal_high,l=i._internal_low,c=i._internal_close;null!==h&&(r=h(i._internal_open,e),s=h(i._internal_high,e),l=h(i._internal_low,e),c=h(i._internal_close,e));let u=n+_*(r-a),d=o?u:this._private__height-1-u;i._internal_openY=d,u=n+_*(s-a),d=o?u:this._private__height-1-u,i._internal_highY=d,u=n+_*(l-a),d=o?u:this._private__height-1-u,i._internal_lowY=d,u=n+_*(c-a),d=o?u:this._private__height-1-u,i._internal_closeY=d}}_internal_coordinateToPrice(t,e){const i=this._private__coordinateToLogical(t,e);return this._internal_logicalToPrice(i,e)}_internal_logicalToPrice(t,e){let i=t;return this._internal_isPercentage()?i=function(t,e){return e<0&&(t=-t),t/100*e+e}(i,e):this._internal_isIndexedTo100()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i}_internal_dataSources(){return this._private__dataSources}_internal_orderedSources(){if(this._private__cachedOrderedSources)return this._private__cachedOrderedSources;let t=[];for(let e=0;e<this._private__dataSources.length;e++){const i=this._private__dataSources[e];null===i._internal_zorder()&&i._internal_setZorder(e+1),t.push(i)}return t=yi(t),this._private__cachedOrderedSources=t,this._private__cachedOrderedSources}_internal_addDataSource(t){-1===this._private__dataSources.indexOf(t)&&(this._private__dataSources.push(t),this._internal_updateFormatter(),this._internal_invalidateSourcesCache())}_internal_removeDataSource(t){const e=this._private__dataSources.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this._private__dataSources.splice(e,1),0===this._private__dataSources.length&&(this._internal_setMode({_internal_autoScale:!0}),this._internal_setPriceRange(null)),this._internal_updateFormatter(),this._internal_invalidateSourcesCache()}_internal_firstValue(){let t=null;for(const e of this._private__dataSources){const i=e._internal_firstValue();null!==i&&((null===t||i._internal_timePoint<t._internal_timePoint)&&(t=i))}return null===t?null:t._internal_value}_internal_isInverted(){return this._private__options.invertScale}_internal_marks(){const t=null===this._internal_firstValue();if(null!==this._private__marksCache&&(t||this._private__marksCache._internal_firstValueIsNull===t))return this._private__marksCache._internal_marks;this._private__markBuilder._internal_rebuildTickMarks();const e=this._private__markBuilder._internal_marks();return this._private__marksCache={_internal_marks:e,_internal_firstValueIsNull:t},this._private__onMarksChanged._internal_fire(),e}_internal_onMarksChanged(){return this._private__onMarksChanged}_internal_startScale(t){this._internal_isPercentage()||this._internal_isIndexedTo100()||null===this._private__scaleStartPoint&&null===this._private__priceRangeSnapshot&&(this._internal_isEmpty()||(this._private__scaleStartPoint=this._private__height-t,this._private__priceRangeSnapshot=T(this._internal_priceRange())._internal_clone()))}_internal_scaleTo(t){if(this._internal_isPercentage()||this._internal_isIndexedTo100())return;if(null===this._private__scaleStartPoint)return;this._internal_setMode({_internal_autoScale:!1}),(t=this._private__height-t)<0&&(t=0);let e=(this._private__scaleStartPoint+.2*(this._private__height-1))/(t+.2*(this._private__height-1));const i=T(this._private__priceRangeSnapshot)._internal_clone();e=Math.max(e,.1),i._internal_scaleAroundCenter(e),this._internal_setPriceRange(i)}_internal_endScale(){this._internal_isPercentage()||this._internal_isIndexedTo100()||(this._private__scaleStartPoint=null,this._private__priceRangeSnapshot=null)}_internal_startScroll(t){this._internal_isAutoScale()||null===this._private__scrollStartPoint&&null===this._private__priceRangeSnapshot&&(this._internal_isEmpty()||(this._private__scrollStartPoint=t,this._private__priceRangeSnapshot=T(this._internal_priceRange())._internal_clone()))}_internal_scrollTo(t){if(this._internal_isAutoScale())return;if(null===this._private__scrollStartPoint)return;const e=T(this._internal_priceRange())._internal_length()/(this._internal_internalHeight()-1);let i=t-this._private__scrollStartPoint;this._internal_isInverted()&&(i*=-1);const n=i*e,r=T(this._private__priceRangeSnapshot)._internal_clone();r._internal_shift(n),this._internal_setPriceRange(r,!0),this._private__marksCache=null}_internal_endScroll(){this._internal_isAutoScale()||null!==this._private__scrollStartPoint&&(this._private__scrollStartPoint=null,this._private__priceRangeSnapshot=null)}_internal_formatter(){return this._private__formatter||this._internal_updateFormatter(),this._private__formatter}_internal_formatPrice(t,e){switch(this._private__options.mode){case 2:return this._private__formatPercentage(_i(t,e));case 3:return this._internal_formatter().format(ui(t,e));default:return this._private__formatPrice(t)}}_internal_formatLogical(t){switch(this._private__options.mode){case 2:return this._private__formatPercentage(t);case 3:return this._internal_formatter().format(t);default:return this._private__formatPrice(t)}}_internal_formatPriceAbsolute(t){return this._private__formatPrice(t,T(this._private__formatterSource())._internal_formatter())}_internal_formatPricePercentage(t,e){return t=_i(t,e),this._private__formatPercentage(t,Si)}_internal_sourcesForAutoScale(){return this._private__dataSources}_internal_recalculatePriceRange(t){this._private__invalidatedForRange={_internal_visibleBars:t,_internal_isValid:!1}}_internal_updateAllViews(){this._private__dataSources.forEach(t=>t._internal_updateAllViews())}_internal_updateFormatter(){this._private__marksCache=null;const t=this._private__formatterSource();let e=100;null!==t&&(e=Math.round(1/t._internal_minMove())),this._private__formatter=xi,this._internal_isPercentage()?(this._private__formatter=Si,e=100):this._internal_isIndexedTo100()?(this._private__formatter=new wt(100,1),e=100):null!==t&&(this._private__formatter=t._internal_formatter()),this._private__markBuilder=new bi(this,e,this._private__coordinateToLogical.bind(this),this._private__logicalToCoordinate.bind(this)),this._private__markBuilder._internal_rebuildTickMarks()}_internal_invalidateSourcesCache(){this._private__cachedOrderedSources=null}_private__formatterSource(){return this._private__dataSources[0]||null}_private__topMarginPx(){return this._internal_isInverted()?this._private__options.scaleMargins.bottom*this._internal_height()+this._private__marginBelow:this._private__options.scaleMargins.top*this._internal_height()+this._private__marginAbove}_private__bottomMarginPx(){return this._internal_isInverted()?this._private__options.scaleMargins.top*this._internal_height()+this._private__marginAbove:this._private__options.scaleMargins.bottom*this._internal_height()+this._private__marginBelow}_private__makeSureItIsValid(){this._private__invalidatedForRange._internal_isValid||(this._private__invalidatedForRange._internal_isValid=!0,this._private__recalculatePriceRangeImpl())}_private__invalidateInternalHeightCache(){this._private__internalHeightCache=null}_private__logicalToCoordinate(t,e){if(this._private__makeSureItIsValid(),this._internal_isEmpty())return 0;t=this._internal_isLog()&&t?pi(t,this._private__logFormula):t;const i=T(this._internal_priceRange()),n=this._private__bottomMarginPx()+(this._internal_internalHeight()-1)*(t-i._internal_minValue())/i._internal_length();return this._internal_invertedCoordinate(n)}_private__coordinateToLogical(t,e){if(this._private__makeSureItIsValid(),this._internal_isEmpty())return 0;const i=this._internal_invertedCoordinate(t),n=T(this._internal_priceRange()),r=n._internal_minValue()+n._internal_length()*((i-this._private__bottomMarginPx())/(this._internal_internalHeight()-1));return this._internal_isLog()?di(r,this._private__logFormula):r}_private__onIsInvertedChanged(){this._private__marksCache=null,this._private__markBuilder._internal_rebuildTickMarks()}_private__recalculatePriceRangeImpl(){const t=this._private__invalidatedForRange._internal_visibleBars;if(null===t)return;let e=null;const i=this._internal_sourcesForAutoScale();let n=0,r=0;for(const l of i){if(!l._internal_visible())continue;const i=l._internal_firstValue();if(null===i)continue;const a=l._internal_autoscaleInfo(t._internal_left(),t._internal_right());let s=a&&a._internal_priceRange();if(null!==s){switch(this._private__options.mode){case 1:s=fi(s,this._private__logFormula);break;case 2:s=ci(s,i._internal_value);break;case 3:s=hi(s,i._internal_value)}if(e=null===e?s:e._internal_merge(T(s)),null!==a){const t=a._internal_margins();null!==t&&(n=Math.max(n,t.above),r=Math.max(r,t.below))}}}if(n===this._private__marginAbove&&r===this._private__marginBelow||(this._private__marginAbove=n,this._private__marginBelow=r,this._private__marksCache=null,this._private__invalidateInternalHeightCache()),null!==e){if(e._internal_minValue()===e._internal_maxValue()){const t=this._private__formatterSource(),i=5*(null===t||this._internal_isPercentage()||this._internal_isIndexedTo100()?1:t._internal_minMove());this._internal_isLog()&&(e=vi(e,this._private__logFormula)),e=new Le(e._internal_minValue()-i,e._internal_maxValue()+i),this._internal_isLog()&&(e=fi(e,this._private__logFormula))}if(this._internal_isLog()){const t=vi(e,this._private__logFormula),i=mi(t);if(a=i,s=this._private__logFormula,a._internal_logicalOffset!==s._internal_logicalOffset||a._internal_coordOffset!==s._internal_coordOffset){const n=null!==this._private__priceRangeSnapshot?vi(this._private__priceRangeSnapshot,this._private__logFormula):null;this._private__logFormula=i,e=fi(t,i),null!==n&&(this._private__priceRangeSnapshot=fi(n,i))}}this._internal_setPriceRange(e)}else null===this._private__priceRange&&(this._internal_setPriceRange(new Le(-.5,.5)),this._private__logFormula=mi(null));var a,s;this._private__invalidatedForRange._internal_isValid=!0}_private__getCoordinateTransformer(){return this._internal_isPercentage()?_i:this._internal_isIndexedTo100()?ui:this._internal_isLog()?t=>pi(t,this._private__logFormula):null}_private__formatValue(t,e,i){return void 0===e?(void 0===i&&(i=this._internal_formatter()),i.format(t)):e(t)}_private__formatPrice(t,e){return this._private__formatValue(t,this._private__localizationOptions.priceFormatter,e)}_private__formatPercentage(t,e){return this._private__formatValue(t,this._private__localizationOptions.percentageFormatter,e)}}class Ci{constructor(t,e){this._private__dataSources=[],this._private__overlaySourcesByScaleId=new Map,this._private__height=0,this._private__width=0,this._private__stretchFactor=1e3,this._private__cachedOrderedSources=null,this._private__destroyed=new L,this._private__timeScale=t,this._private__model=e,this._private__grid=new li(this);const i=e._internal_options();this._private__leftPriceScale=this._private__createPriceScale("left",i.leftPriceScale),this._private__rightPriceScale=this._private__createPriceScale("right",i.rightPriceScale),this._private__leftPriceScale._internal_modeChanged()._internal_subscribe(this._private__onPriceScaleModeChanged.bind(this,this._private__leftPriceScale),this),this._private__rightPriceScale._internal_modeChanged()._internal_subscribe(this._private__onPriceScaleModeChanged.bind(this,this._private__rightPriceScale),this),this._internal_applyScaleOptions(i)}_internal_applyScaleOptions(t){if(t.leftPriceScale&&this._private__leftPriceScale._internal_applyOptions(t.leftPriceScale),t.rightPriceScale&&this._private__rightPriceScale._internal_applyOptions(t.rightPriceScale),t.localization&&(this._private__leftPriceScale._internal_updateFormatter(),this._private__rightPriceScale._internal_updateFormatter()),t.overlayPriceScales){const e=Array.from(this._private__overlaySourcesByScaleId.values());for(const i of e){const e=T(i[0]._internal_priceScale());e._internal_applyOptions(t.overlayPriceScales),t.localization&&e._internal_updateFormatter()}}}_internal_priceScaleById(t){switch(t){case"left":return this._private__leftPriceScale;case"right":return this._private__rightPriceScale}return this._private__overlaySourcesByScaleId.has(t)?x(this._private__overlaySourcesByScaleId.get(t))[0]._internal_priceScale():null}_internal_destroy(){this._internal_model()._internal_priceScalesOptionsChanged()._internal_unsubscribeAll(this),this._private__leftPriceScale._internal_modeChanged()._internal_unsubscribeAll(this),this._private__rightPriceScale._internal_modeChanged()._internal_unsubscribeAll(this),this._private__dataSources.forEach(t=>{t._internal_destroy&&t._internal_destroy()}),this._private__destroyed._internal_fire()}_internal_stretchFactor(){return this._private__stretchFactor}_internal_setStretchFactor(t){this._private__stretchFactor=t}_internal_model(){return this._private__model}_internal_width(){return this._private__width}_internal_height(){return this._private__height}_internal_setWidth(t){this._private__width=t,this._internal_updateAllSources()}_internal_setHeight(t){this._private__height=t,this._private__leftPriceScale._internal_setHeight(t),this._private__rightPriceScale._internal_setHeight(t),this._private__dataSources.forEach(e=>{if(this._internal_isOverlay(e)){const i=e._internal_priceScale();null!==i&&i._internal_setHeight(t)}}),this._internal_updateAllSources()}_internal_dataSources(){return this._private__dataSources}_internal_isOverlay(t){const e=t._internal_priceScale();return null===e||this._private__leftPriceScale!==e&&this._private__rightPriceScale!==e}_internal_addDataSource(t,e,i){const n=void 0!==i?i:this._private__getZOrderMinMax()._internal_maxZOrder+1;this._private__insertDataSource(t,e,n)}_internal_removeDataSource(t){const e=this._private__dataSources.indexOf(t);S(-1!==e,"removeDataSource: invalid data source"),this._private__dataSources.splice(e,1);const i=T(t._internal_priceScale())._internal_id();if(this._private__overlaySourcesByScaleId.has(i)){const e=x(this._private__overlaySourcesByScaleId.get(i)),n=e.indexOf(t);-1!==n&&(e.splice(n,1),0===e.length&&this._private__overlaySourcesByScaleId.delete(i))}const n=t._internal_priceScale();n&&n._internal_dataSources().indexOf(t)>=0&&n._internal_removeDataSource(t),null!==n&&(n._internal_invalidateSourcesCache(),this._internal_recalculatePriceScale(n)),this._private__cachedOrderedSources=null}_internal_priceScalePosition(t){return t===this._private__leftPriceScale?"left":t===this._private__rightPriceScale?"right":"overlay"}_internal_leftPriceScale(){return this._private__leftPriceScale}_internal_rightPriceScale(){return this._private__rightPriceScale}_internal_startScalePrice(t,e){t._internal_startScale(e)}_internal_scalePriceTo(t,e){t._internal_scaleTo(e),this._internal_updateAllSources()}_internal_endScalePrice(t){t._internal_endScale()}_internal_startScrollPrice(t,e){t._internal_startScroll(e)}_internal_scrollPriceTo(t,e){t._internal_scrollTo(e),this._internal_updateAllSources()}_internal_endScrollPrice(t){t._internal_endScroll()}_internal_updateAllSources(){this._private__dataSources.forEach(t=>{t._internal_updateAllViews()})}_internal_defaultPriceScale(){let t=null;return this._private__model._internal_options().rightPriceScale.visible&&0!==this._private__rightPriceScale._internal_dataSources().length?t=this._private__rightPriceScale:this._private__model._internal_options().leftPriceScale.visible&&0!==this._private__leftPriceScale._internal_dataSources().length?t=this._private__leftPriceScale:0!==this._private__dataSources.length&&(t=this._private__dataSources[0]._internal_priceScale()),null===t&&(t=this._private__rightPriceScale),t}_internal_defaultVisiblePriceScale(){let t=null;return this._private__model._internal_options().rightPriceScale.visible?t=this._private__rightPriceScale:this._private__model._internal_options().leftPriceScale.visible&&(t=this._private__leftPriceScale),t}_internal_recalculatePriceScale(t){null!==t&&t._internal_isAutoScale()&&this._private__recalculatePriceScaleImpl(t)}_internal_resetPriceScale(t){const e=this._private__timeScale._internal_visibleStrictRange();t._internal_setMode({_internal_autoScale:!0}),null!==e&&t._internal_recalculatePriceRange(e),this._internal_updateAllSources()}_internal_momentaryAutoScale(){this._private__recalculatePriceScaleImpl(this._private__leftPriceScale),this._private__recalculatePriceScaleImpl(this._private__rightPriceScale)}_internal_recalculate(){this._internal_recalculatePriceScale(this._private__leftPriceScale),this._internal_recalculatePriceScale(this._private__rightPriceScale),this._private__dataSources.forEach(t=>{this._internal_isOverlay(t)&&this._internal_recalculatePriceScale(t._internal_priceScale())}),this._internal_updateAllSources(),this._private__model._internal_lightUpdate()}_internal_orderedSources(){return null===this._private__cachedOrderedSources&&(this._private__cachedOrderedSources=yi(this._private__dataSources)),this._private__cachedOrderedSources}_internal_onDestroyed(){return this._private__destroyed}_internal_grid(){return this._private__grid}_private__recalculatePriceScaleImpl(t){const e=t._internal_sourcesForAutoScale();if(e&&e.length>0&&!this._private__timeScale._internal_isEmpty()){const e=this._private__timeScale._internal_visibleStrictRange();null!==e&&t._internal_recalculatePriceRange(e)}t._internal_updateAllViews()}_private__getZOrderMinMax(){const t=this._internal_orderedSources();if(0===t.length)return{_internal_minZOrder:0,_internal_maxZOrder:0};let e=0,i=0;for(let n=0;n<t.length;n++){const r=t[n]._internal_zorder();null!==r&&(r<e&&(e=r),r>i&&(i=r))}return{_internal_minZOrder:e,_internal_maxZOrder:i}}_private__insertDataSource(t,e,i){let n=this._internal_priceScaleById(e);if(null===n&&(n=this._private__createPriceScale(e,this._private__model._internal_options().overlayPriceScales)),this._private__dataSources.push(t),!mt(e)){const i=this._private__overlaySourcesByScaleId.get(e)||[];i.push(t),this._private__overlaySourcesByScaleId.set(e,i)}n._internal_addDataSource(t),t._internal_setPriceScale(n),t._internal_setZorder(i),this._internal_recalculatePriceScale(n),this._private__cachedOrderedSources=null}_private__onPriceScaleModeChanged(t,e,i){e._internal_mode!==i._internal_mode&&this._private__recalculatePriceScaleImpl(t)}_private__createPriceScale(t,e){const i=Object.assign({visible:!0,autoScale:!0},W(e)),n=new Ti(t,i,this._private__model._internal_options().layout,this._private__model._internal_options().localization);return n._internal_setHeight(this._internal_height()),n}}class ki{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;this._private__actualSize=0,this._private__usageTick=1,this._private__oldestTick=1,this._private__cache=new Map,this._private__tick2Labels=new Map,this._private__format=t,this._private__horzScaleBehavior=e,this._private__maxSize=i}_internal_format(t){const e=t.time,i=this._private__horzScaleBehavior.cacheKey(e),n=this._private__cache.get(i);if(void 0!==n)return n._internal_string;if(this._private__actualSize===this._private__maxSize){const t=this._private__tick2Labels.get(this._private__oldestTick);this._private__tick2Labels.delete(this._private__oldestTick),this._private__cache.delete(x(t)),this._private__oldestTick++,this._private__actualSize--}const r=this._private__format(t);return this._private__cache.set(i,{_internal_string:r,_internal_tick:this._private__usageTick}),this._private__tick2Labels.set(this._private__usageTick,i),this._private__actualSize++,this._private__usageTick++,r}}class Ii{constructor(t,e){S(t<=e,"right should be >= left"),this._private__left=t,this._private__right=e}_internal_left(){return this._private__left}_internal_right(){return this._private__right}_internal_count(){return this._private__right-this._private__left+1}_internal_contains(t){return this._private__left<=t&&t<=this._private__right}_internal_equals(t){return this._private__left===t._internal_left()&&this._private__right===t._internal_right()}}function Mi(t,e){return null===t||null===e?t===e:t._internal_equals(e)}class Ei{constructor(){this._private__marksByWeight=new Map,this._private__cache=null,this._private__uniformDistribution=!1}_internal_setUniformDistribution(t){this._private__uniformDistribution=t,this._private__cache=null}_internal_setTimeScalePoints(t,e){this._private__removeMarksSinceIndex(e),this._private__cache=null;for(let i=e;i<t.length;++i){const e=t[i];let n=this._private__marksByWeight.get(e.timeWeight);void 0===n&&(n=[],this._private__marksByWeight.set(e.timeWeight,n)),n.push({index:i,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}_internal_build(t,e){const i=Math.ceil(e/t);return null!==this._private__cache&&this._private__cache._internal_maxIndexesPerMark===i||(this._private__cache={_internal_marks:this._private__buildMarksImpl(i),_internal_maxIndexesPerMark:i}),this._private__cache._internal_marks}_private__removeMarksSinceIndex(t){if(0===t)return void this._private__marksByWeight.clear();const e=[];this._private__marksByWeight.forEach((i,n)=>{t<=i[0].index?e.push(n):i.splice(Vt(i,t,e=>e.index<t),1/0)});for(const i of e)this._private__marksByWeight.delete(i)}_private__buildMarksImpl(t){let e=[];for(const i of Array.from(this._private__marksByWeight.keys()).sort((t,e)=>e-t)){if(!this._private__marksByWeight.get(i))continue;const n=e;e=[];const r=n.length;let a=0;const s=x(this._private__marksByWeight.get(i)),l=s.length;let o=1/0,_=-1/0;for(let i=0;i<l;i++){const l=s[i],c=l.index;for(;a<r;){const t=n[a],i=t.index;if(!(i<c)){o=i;break}a++,e.push(t),_=i,o=1/0}if(o-c>=t&&c-_>=t)e.push(l),_=c;else if(this._private__uniformDistribution)return n}for(;a<r;a++)e.push(n[a])}return e}}class Pi{constructor(t){this._private__logicalRange=t}_internal_strictRange(){return null===this._private__logicalRange?null:new Ii(Math.floor(this._private__logicalRange._internal_left()),Math.ceil(this._private__logicalRange._internal_right()))}_internal_logicalRange(){return this._private__logicalRange}static _internal_invalid(){return new Pi(null)}}function Bi(t,e){return t.weight>e.weight?t:e}class Ai{constructor(t,e,i,n){this._private__width=0,this._private__baseIndexOrNull=null,this._private__points=[],this._private__scrollStartPoint=null,this._private__scaleStartPoint=null,this._private__tickMarks=new Ei,this._private__formattedByWeight=new Map,this._private__visibleRange=Pi._internal_invalid(),this._private__visibleRangeInvalidated=!0,this._private__visibleBarsChanged=new L,this._private__logicalRangeChanged=new L,this._private__optionsApplied=new L,this._private__commonTransitionStartState=null,this._private__timeMarksCache=null,this._private__labels=[],this._private__options=e,this._private__localizationOptions=i,this._private__rightOffset=e.rightOffset,this._private__barSpacing=e.barSpacing,this._private__model=t,this._private__horzScaleBehavior=n,this._private__updateDateTimeFormatter(),this._private__tickMarks._internal_setUniformDistribution(e.uniformDistribution)}_internal_options(){return this._private__options}_internal_applyLocalizationOptions(t){z(this._private__localizationOptions,t),this._private__invalidateTickMarks(),this._private__updateDateTimeFormatter()}_internal_applyOptions(t,e){var i;z(this._private__options,t),this._private__options.fixLeftEdge&&this._private__doFixLeftEdge(),this._private__options.fixRightEdge&&this._private__doFixRightEdge(),void 0!==t.barSpacing&&this._private__model._internal_setBarSpacing(t.barSpacing),void 0!==t.rightOffset&&this._private__model._internal_setRightOffset(t.rightOffset),void 0!==t.minBarSpacing&&this._private__model._internal_setBarSpacing(null!==(i=t.barSpacing)&&void 0!==i?i:this._private__barSpacing),this._private__invalidateTickMarks(),this._private__updateDateTimeFormatter(),this._private__optionsApplied._internal_fire()}_internal_indexToTime(t){var e,i;return null!==(i=null===(e=this._private__points[t])||void 0===e?void 0:e.time)&&void 0!==i?i:null}_internal_indexToTimeScalePoint(t){var e;return null!==(e=this._private__points[t])&&void 0!==e?e:null}_internal_timeToIndex(t,e){if(this._private__points.length<1)return null;if(this._private__horzScaleBehavior.key(t)>this._private__horzScaleBehavior.key(this._private__points[this._private__points.length-1].time))return e?this._private__points.length-1:null;const i=Vt(this._private__points,this._private__horzScaleBehavior.key(t),(t,e)=>this._private__horzScaleBehavior.key(t.time)<e);return this._private__horzScaleBehavior.key(t)<this._private__horzScaleBehavior.key(this._private__points[i].time)?e?i:null:i}_internal_isEmpty(){return 0===this._private__width||0===this._private__points.length||null===this._private__baseIndexOrNull}_internal_hasPoints(){return this._private__points.length>0}_internal_visibleStrictRange(){return this._private__updateVisibleRange(),this._private__visibleRange._internal_strictRange()}_internal_visibleLogicalRange(){return this._private__updateVisibleRange(),this._private__visibleRange._internal_logicalRange()}_internal_visibleTimeRange(){const t=this._internal_visibleStrictRange();if(null===t)return null;const e={from:t._internal_left(),to:t._internal_right()};return this._internal_timeRangeForLogicalRange(e)}_internal_timeRangeForLogicalRange(t){const e=Math.round(t.from),i=Math.round(t.to),n=T(this._private__firstIndex()),r=T(this._private__lastIndex());return{from:T(this._internal_indexToTimeScalePoint(Math.max(n,e))),to:T(this._internal_indexToTimeScalePoint(Math.min(r,i)))}}_internal_logicalRangeForTimeRange(t){return{from:T(this._internal_timeToIndex(t.from,!0)),to:T(this._internal_timeToIndex(t.to,!0))}}_internal_width(){return this._private__width}_internal_setWidth(t){if(!isFinite(t)||t<=0)return;if(this._private__width===t)return;const e=this._internal_visibleLogicalRange(),i=this._private__width;if(this._private__width=t,this._private__visibleRangeInvalidated=!0,this._private__options.lockVisibleTimeRangeOnResize&&0!==i){const e=this._private__barSpacing*t/i;this._private__barSpacing=e}if(this._private__options.fixLeftEdge&&null!==e&&e._internal_left()<=0){const e=i-t;this._private__rightOffset-=Math.round(e/this._private__barSpacing)+1,this._private__visibleRangeInvalidated=!0}this._private__correctBarSpacing(),this._private__correctOffset()}_internal_indexToCoordinate(t){if(this._internal_isEmpty()||!V(t))return 0;const e=this._internal_baseIndex()+this._private__rightOffset-t;return this._private__width-(e+.5)*this._private__barSpacing-1}_internal_indexesToCoordinates(t,e){const i=this._internal_baseIndex(),n=void 0===e?0:e.from,r=void 0===e?t.length:e.to;for(let a=n;a<r;a++){const e=t[a]._internal_time,n=i+this._private__rightOffset-e,r=this._private__width-(n+.5)*this._private__barSpacing-1;t[a]._internal_x=r}}_internal_coordinateToIndex(t){return Math.ceil(this._private__coordinateToFloatIndex(t))}_internal_setRightOffset(t){this._private__visibleRangeInvalidated=!0,this._private__rightOffset=t,this._private__correctOffset(),this._private__model._internal_recalculateAllPanes(),this._private__model._internal_lightUpdate()}_internal_barSpacing(){return this._private__barSpacing}_internal_setBarSpacing(t){this._private__setBarSpacing(t),this._private__correctOffset(),this._private__model._internal_recalculateAllPanes(),this._private__model._internal_lightUpdate()}_internal_rightOffset(){return this._private__rightOffset}_internal_marks(){if(this._internal_isEmpty())return null;if(null!==this._private__timeMarksCache)return this._private__timeMarksCache;const t=this._private__barSpacing,e=5*(this._private__model._internal_options().layout.fontSize+4)/8*(this._private__options.tickMarkMaxCharacterLength||8),i=Math.round(e/t),n=T(this._internal_visibleStrictRange()),r=Math.max(n._internal_left(),n._internal_left()-i),a=Math.max(n._internal_right(),n._internal_right()-i),s=this._private__tickMarks._internal_build(t,e),l=this._private__firstIndex()+i,o=this._private__lastIndex()-i,_=this._private__isAllScalingAndScrollingDisabled(),c=this._private__options.fixLeftEdge||_,u=this._private__options.fixRightEdge||_;let h=0;for(const p of s){if(!(r<=p.index&&p.index<=a))continue;let t;h<this._private__labels.length?(t=this._private__labels[h],t.coord=this._internal_indexToCoordinate(p.index),t.label=this._private__formatLabel(p),t.weight=p.weight):(t={needAlignCoordinate:!1,coord:this._internal_indexToCoordinate(p.index),label:this._private__formatLabel(p),weight:p.weight},this._private__labels.push(t)),this._private__barSpacing>e/2&&!_?t.needAlignCoordinate=!1:t.needAlignCoordinate=c&&p.index<=l||u&&p.index>=o,h++}return this._private__labels.length=h,this._private__timeMarksCache=this._private__labels,this._private__labels}_internal_restoreDefault(){this._private__visibleRangeInvalidated=!0,this._internal_setBarSpacing(this._private__options.barSpacing),this._internal_setRightOffset(this._private__options.rightOffset)}_internal_setBaseIndex(t){this._private__visibleRangeInvalidated=!0,this._private__baseIndexOrNull=t,this._private__correctOffset(),this._private__doFixLeftEdge()}_internal_zoom(t,e){const i=this._private__coordinateToFloatIndex(t),n=this._internal_barSpacing(),r=n+e*(n/10);this._internal_setBarSpacing(r),this._private__options.rightBarStaysOnScroll||this._internal_setRightOffset(this._internal_rightOffset()+(i-this._private__coordinateToFloatIndex(t)))}_internal_startScale(t){this._private__scrollStartPoint&&this._internal_endScroll(),null===this._private__scaleStartPoint&&null===this._private__commonTransitionStartState&&(this._internal_isEmpty()||(this._private__scaleStartPoint=t,this._private__saveCommonTransitionsStartState()))}_internal_scaleTo(t){if(null===this._private__commonTransitionStartState)return;const e=Pt(this._private__width-t,0,this._private__width),i=Pt(this._private__width-T(this._private__scaleStartPoint),0,this._private__width);0!==e&&0!==i&&this._internal_setBarSpacing(this._private__commonTransitionStartState._internal_barSpacing*e/i)}_internal_endScale(){null!==this._private__scaleStartPoint&&(this._private__scaleStartPoint=null,this._private__clearCommonTransitionsStartState())}_internal_startScroll(t){null===this._private__scrollStartPoint&&null===this._private__commonTransitionStartState&&(this._internal_isEmpty()||(this._private__scrollStartPoint=t,this._private__saveCommonTransitionsStartState()))}_internal_scrollTo(t){if(null===this._private__scrollStartPoint)return;const e=(this._private__scrollStartPoint-t)/this._internal_barSpacing();this._private__rightOffset=T(this._private__commonTransitionStartState)._internal_rightOffset+e,this._private__visibleRangeInvalidated=!0,this._private__correctOffset()}_internal_endScroll(){null!==this._private__scrollStartPoint&&(this._private__scrollStartPoint=null,this._private__clearCommonTransitionsStartState())}_internal_scrollToRealTime(){this._internal_scrollToOffsetAnimated(this._private__options.rightOffset)}_internal_scrollToOffsetAnimated(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this._private__rightOffset,n=performance.now();this._private__model._internal_setTimeScaleAnimation({_internal_finished:t=>(t-n)/e>=1,_internal_getPosition:r=>{const a=(r-n)/e;return a>=1?t:i+(t-i)*a}})}_internal_update(t,e){this._private__visibleRangeInvalidated=!0,this._private__points=t,this._private__tickMarks._internal_setTimeScalePoints(t,e),this._private__correctOffset()}_internal_visibleBarsChanged(){return this._private__visibleBarsChanged}_internal_logicalRangeChanged(){return this._private__logicalRangeChanged}_internal_optionsApplied(){return this._private__optionsApplied}_internal_baseIndex(){return this._private__baseIndexOrNull||0}_internal_setVisibleRange(t){const e=t._internal_count();this._private__setBarSpacing(this._private__width/e),this._private__rightOffset=t._internal_right()-this._internal_baseIndex(),this._private__correctOffset(),this._private__visibleRangeInvalidated=!0,this._private__model._internal_recalculateAllPanes(),this._private__model._internal_lightUpdate()}_internal_fitContent(){const t=this._private__firstIndex(),e=this._private__lastIndex();null!==t&&null!==e&&this._internal_setVisibleRange(new Ii(t,e+this._private__options.rightOffset))}_internal_setLogicalRange(t){const e=new Ii(t.from,t.to);this._internal_setVisibleRange(e)}_internal_formatDateTime(t){return void 0!==this._private__localizationOptions.timeFormatter?this._private__localizationOptions.timeFormatter(t.originalTime):this._private__horzScaleBehavior.formatHorzItem(t.time)}_private__isAllScalingAndScrollingDisabled(){const{handleScroll:t,handleScale:e}=this._private__model._internal_options();return!t.horzTouchDrag&&!t.mouseWheel&&!t.pressedMouseMove&&!t.vertTouchDrag&&!e.axisDoubleClickReset.time&&!e.axisPressedMouseMove.time&&!e.mouseWheel&&!e.pinch}_private__firstIndex(){return 0===this._private__points.length?null:0}_private__lastIndex(){return 0===this._private__points.length?null:this._private__points.length-1}_private__rightOffsetForCoordinate(t){return(this._private__width-1-t)/this._private__barSpacing}_private__coordinateToFloatIndex(t){const e=this._private__rightOffsetForCoordinate(t),i=this._internal_baseIndex()+this._private__rightOffset-e;return Math.round(1e6*i)/1e6}_private__setBarSpacing(t){const e=this._private__barSpacing;this._private__barSpacing=t,this._private__correctBarSpacing(),e!==this._private__barSpacing&&(this._private__visibleRangeInvalidated=!0,this._private__resetTimeMarksCache())}_private__updateVisibleRange(){if(!this._private__visibleRangeInvalidated)return;if(this._private__visibleRangeInvalidated=!1,this._internal_isEmpty())return void this._private__setVisibleRange(Pi._internal_invalid());const t=this._internal_baseIndex(),e=this._private__width/this._private__barSpacing,i=this._private__rightOffset+t,n=new Ii(i-e+1,i);this._private__setVisibleRange(new Pi(n))}_private__correctBarSpacing(){const t=this._private__minBarSpacing();if(this._private__barSpacing<t&&(this._private__barSpacing=t,this._private__visibleRangeInvalidated=!0),0!==this._private__width){const t=.5*this._private__width;this._private__barSpacing>t&&(this._private__barSpacing=t,this._private__visibleRangeInvalidated=!0)}}_private__minBarSpacing(){return this._private__options.fixLeftEdge&&this._private__options.fixRightEdge&&0!==this._private__points.length?this._private__width/this._private__points.length:this._private__options.minBarSpacing}_private__correctOffset(){const t=this._private__minRightOffset();null!==t&&this._private__rightOffset<t&&(this._private__rightOffset=t,this._private__visibleRangeInvalidated=!0);const e=this._private__maxRightOffset();this._private__rightOffset>e&&(this._private__rightOffset=e,this._private__visibleRangeInvalidated=!0)}_private__minRightOffset(){const t=this._private__firstIndex(),e=this._private__baseIndexOrNull;if(null===t||null===e)return null;return t-e-1+(this._private__options.fixLeftEdge?this._private__width/this._private__barSpacing:Math.min(2,this._private__points.length))}_private__maxRightOffset(){return this._private__options.fixRightEdge?0:this._private__width/this._private__barSpacing-Math.min(2,this._private__points.length)}_private__saveCommonTransitionsStartState(){this._private__commonTransitionStartState={_internal_barSpacing:this._internal_barSpacing(),_internal_rightOffset:this._internal_rightOffset()}}_private__clearCommonTransitionsStartState(){this._private__commonTransitionStartState=null}_private__formatLabel(t){let e=this._private__formattedByWeight.get(t.weight);return void 0===e&&(e=new ki(t=>this._private__formatLabelImpl(t),this._private__horzScaleBehavior),this._private__formattedByWeight.set(t.weight,e)),e._internal_format(t)}_private__formatLabelImpl(t){return this._private__horzScaleBehavior.formatTickmark(t,this._private__localizationOptions)}_private__setVisibleRange(t){const e=this._private__visibleRange;this._private__visibleRange=t,Mi(e._internal_strictRange(),this._private__visibleRange._internal_strictRange())||this._private__visibleBarsChanged._internal_fire(),Mi(e._internal_logicalRange(),this._private__visibleRange._internal_logicalRange())||this._private__logicalRangeChanged._internal_fire(),this._private__resetTimeMarksCache()}_private__resetTimeMarksCache(){this._private__timeMarksCache=null}_private__invalidateTickMarks(){this._private__resetTimeMarksCache(),this._private__formattedByWeight.clear()}_private__updateDateTimeFormatter(){this._private__horzScaleBehavior.updateFormatter(this._private__localizationOptions)}_private__doFixLeftEdge(){if(!this._private__options.fixLeftEdge)return;const t=this._private__firstIndex();if(null===t)return;const e=this._internal_visibleStrictRange();if(null===e)return;const i=e._internal_left()-t;if(i<0){const t=this._private__rightOffset-i-1;this._internal_setRightOffset(t)}this._private__correctBarSpacing()}_private__doFixRightEdge(){this._private__correctOffset(),this._private__correctBarSpacing()}}class Oi extends class{_internal_draw(t,e,i){t.useMediaCoordinateSpace(t=>this._internal__drawImpl(t,e,i))}_internal_drawBackground(t,e,i){t.useMediaCoordinateSpace(t=>this._internal__drawBackgroundImpl(t,e,i))}_internal__drawBackgroundImpl(t,e,i){}}{constructor(t){super(),this._private__metricsCache=new Map,this._private__data=t}_internal__drawImpl(t){}_internal__drawBackgroundImpl(t){if(!this._private__data._internal_visible)return;const{context:e,mediaSize:i}=t;let n=0;for(const a of this._private__data._internal_lines){if(0===a._internal_text.length)continue;e.font=a._internal_font;const t=this._private__metrics(e,a._internal_text);t>i.width?a._internal_zoom=i.width/t:a._internal_zoom=1,n+=a._internal_lineHeight*a._internal_zoom}let r=0;switch(this._private__data._internal_vertAlign){case"top":r=0;break;case"center":r=Math.max((i.height-n)/2,0);break;case"bottom":r=Math.max(i.height-n,0)}e.fillStyle=this._private__data._internal_color;for(const a of this._private__data._internal_lines){e.save();let t=0;switch(this._private__data._internal_horzAlign){case"left":e.textAlign="left",t=a._internal_lineHeight/2;break;case"center":e.textAlign="center",t=i.width/2;break;case"right":e.textAlign="right",t=i.width-1-a._internal_lineHeight/2}e.translate(t,r),e.textBaseline="top",e.font=a._internal_font,e.scale(a._internal_zoom,a._internal_zoom),e.fillText(a._internal_text,0,a._internal_vertOffset),e.restore(),r+=a._internal_lineHeight*a._internal_zoom}}_private__metrics(t,e){const i=this._private__fontCache(t.font);let n=i.get(e);return void 0===n&&(n=t.measureText(e).width,i.set(e,n)),n}_private__fontCache(t){let e=this._private__metricsCache.get(t);return void 0===e&&(e=new Map,this._private__metricsCache.set(t,e)),e}}class Di{constructor(t){this._private__invalidated=!0,this._private__rendererData={_internal_visible:!1,_internal_color:"",_internal_lines:[],_internal_vertAlign:"center",_internal_horzAlign:"center"},this._private__renderer=new Oi(this._private__rendererData),this._private__source=t}_internal_update(){this._private__invalidated=!0}_internal_renderer(){return this._private__invalidated&&(this._private__updateImpl(),this._private__invalidated=!1),this._private__renderer}_private__updateImpl(){const t=this._private__source._internal_options(),e=this._private__rendererData;e._internal_visible=t.visible,e._internal_visible&&(e._internal_color=t.color,e._internal_horzAlign=t.horzAlign,e._internal_vertAlign=t.vertAlign,e._internal_lines=[{_internal_text:t.text,_internal_font:$(t.fontSize,t.fontFamily,t.fontStyle),_internal_lineHeight:1.2*t.fontSize,_internal_vertOffset:0,_internal_zoom:0}])}}class Ri extends dt{constructor(t,e){super(),this._private__options=e,this._private__paneView=new Di(this)}_internal_priceAxisViews(){return[]}_internal_paneViews(){return[this._private__paneView]}_internal_options(){return this._private__options}_internal_updateAllViews(){this._private__paneView._internal_update()}}var Li,zi,Fi,Vi,Ni;!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(Li||(Li={}));class Ui{constructor(t,e,i){this._private__panes=[],this._private__serieses=[],this._private__width=0,this._private__hoveredSource=null,this._private__priceScalesOptionsChanged=new L,this._private__crosshairMoved=new L,this._private__gradientColorsCache=null,this._private__invalidateHandler=t,this._private__options=e,this._private__horzScaleBehavior=i,this._private__rendererOptionsProvider=new K(this),this._private__timeScale=new Ai(this,e.timeScale,this._private__options.localization,i),this._private__crosshair=new vt(this,e.crosshair),this._private__magnet=new ri(e.crosshair),this._private__watermark=new Ri(this,e.watermark),this._internal_createPane(),this._private__panes[0]._internal_setStretchFactor(2e3),this._private__backgroundTopColor=this._private__getBackgroundColor(0),this._private__backgroundBottomColor=this._private__getBackgroundColor(1)}_internal_fullUpdate(){this._private__invalidate(gt._internal_full())}_internal_lightUpdate(){this._private__invalidate(gt._internal_light())}_internal_cursorUpdate(){this._private__invalidate(new gt(1))}_internal_updateSource(t){const e=this._private__invalidationMaskForSource(t);this._private__invalidate(e)}_internal_hoveredSource(){return this._private__hoveredSource}_internal_setHoveredSource(t){const e=this._private__hoveredSource;this._private__hoveredSource=t,null!==e&&this._internal_updateSource(e._internal_source),null!==t&&this._internal_updateSource(t._internal_source)}_internal_options(){return this._private__options}_internal_applyOptions(t){z(this._private__options,t),this._private__panes.forEach(e=>e._internal_applyScaleOptions(t)),void 0!==t.timeScale&&this._private__timeScale._internal_applyOptions(t.timeScale),void 0!==t.localization&&this._private__timeScale._internal_applyLocalizationOptions(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this._private__priceScalesOptionsChanged._internal_fire(),this._private__backgroundTopColor=this._private__getBackgroundColor(0),this._private__backgroundBottomColor=this._private__getBackgroundColor(1),this._internal_fullUpdate()}_internal_applyPriceScaleOptions(t,e){if("left"===t)return void this._internal_applyOptions({leftPriceScale:e});if("right"===t)return void this._internal_applyOptions({rightPriceScale:e});const i=this._internal_findPriceScale(t);if(null===i)throw new Error("Trying to apply price scale options with incorrect ID: ".concat(t));i._internal_priceScale._internal_applyOptions(e),this._private__priceScalesOptionsChanged._internal_fire()}_internal_findPriceScale(t){for(const e of this._private__panes){const i=e._internal_priceScaleById(t);if(null!==i)return{_internal_pane:e,_internal_priceScale:i}}return null}_internal_timeScale(){return this._private__timeScale}_internal_panes(){return this._private__panes}_internal_watermarkSource(){return this._private__watermark}_internal_crosshairSource(){return this._private__crosshair}_internal_crosshairMoved(){return this._private__crosshairMoved}_internal_setPaneHeight(t,e){t._internal_setHeight(e),this._internal_recalculateAllPanes()}_internal_setWidth(t){this._private__width=t,this._private__timeScale._internal_setWidth(this._private__width),this._private__panes.forEach(e=>e._internal_setWidth(t)),this._internal_recalculateAllPanes()}_internal_createPane(t){const e=new Ci(this._private__timeScale,this);void 0!==t?this._private__panes.splice(t,0,e):this._private__panes.push(e);const i=void 0===t?this._private__panes.length-1:t,n=gt._internal_full();return n._internal_invalidatePane(i,{_internal_level:0,_internal_autoScale:!0}),this._private__invalidate(n),e}_internal_startScalePrice(t,e,i){t._internal_startScalePrice(e,i)}_internal_scalePriceTo(t,e,i){t._internal_scalePriceTo(e,i),this._internal_updateCrosshair(),this._private__invalidate(this._private__paneInvalidationMask(t,2))}_internal_endScalePrice(t,e){t._internal_endScalePrice(e),this._private__invalidate(this._private__paneInvalidationMask(t,2))}_internal_startScrollPrice(t,e,i){e._internal_isAutoScale()||t._internal_startScrollPrice(e,i)}_internal_scrollPriceTo(t,e,i){e._internal_isAutoScale()||(t._internal_scrollPriceTo(e,i),this._internal_updateCrosshair(),this._private__invalidate(this._private__paneInvalidationMask(t,2)))}_internal_endScrollPrice(t,e){e._internal_isAutoScale()||(t._internal_endScrollPrice(e),this._private__invalidate(this._private__paneInvalidationMask(t,2)))}_internal_resetPriceScale(t,e){t._internal_resetPriceScale(e),this._private__invalidate(this._private__paneInvalidationMask(t,2))}_internal_startScaleTime(t){this._private__timeScale._internal_startScale(t)}_internal_zoomTime(t,e){const i=this._internal_timeScale();if(i._internal_isEmpty()||0===e)return;const n=i._internal_width();t=Math.max(1,Math.min(t,n)),i._internal_zoom(t,e),this._internal_recalculateAllPanes()}_internal_scrollChart(t){this._internal_startScrollTime(0),this._internal_scrollTimeTo(t),this._internal_endScrollTime()}_internal_scaleTimeTo(t){this._private__timeScale._internal_scaleTo(t),this._internal_recalculateAllPanes()}_internal_endScaleTime(){this._private__timeScale._internal_endScale(),this._internal_lightUpdate()}_internal_startScrollTime(t){this._private__timeScale._internal_startScroll(t)}_internal_scrollTimeTo(t){this._private__timeScale._internal_scrollTo(t),this._internal_recalculateAllPanes()}_internal_endScrollTime(){this._private__timeScale._internal_endScroll(),this._internal_lightUpdate()}_internal_serieses(){return this._private__serieses}_internal_setAndSaveCurrentPosition(t,e,i,n,r){this._private__crosshair._internal_saveOriginCoord(t,e);let a=NaN,s=this._private__timeScale._internal_coordinateToIndex(t);const l=this._private__timeScale._internal_visibleStrictRange();null!==l&&(s=Math.min(Math.max(l._internal_left(),s),l._internal_right()));const o=n._internal_defaultPriceScale(),_=o._internal_firstValue();null!==_&&(a=o._internal_coordinateToPrice(e,_)),a=this._private__magnet._internal_align(a,s,n),this._private__crosshair._internal_setPosition(s,a,n),this._internal_cursorUpdate(),r||this._private__crosshairMoved._internal_fire(this._private__crosshair._internal_appliedIndex(),{x:t,y:e},i)}_internal_setAndSaveSyntheticPosition(t,e,i){const n=i._internal_defaultPriceScale(),r=n._internal_firstValue(),a=n._internal_priceToCoordinate(t,T(r)),s=this._private__timeScale._internal_timeToIndex(e,!0),l=this._private__timeScale._internal_indexToCoordinate(T(s));this._internal_setAndSaveCurrentPosition(l,a,null,i,!0)}_internal_clearCurrentPosition(t){this._internal_crosshairSource()._internal_clearPosition(),this._internal_cursorUpdate(),t||this._private__crosshairMoved._internal_fire(null,null,null)}_internal_updateCrosshair(){const t=this._private__crosshair._internal_pane();if(null!==t){const e=this._private__crosshair._internal_originCoordX(),i=this._private__crosshair._internal_originCoordY();this._internal_setAndSaveCurrentPosition(e,i,null,t)}this._private__crosshair._internal_updateAllViews()}_internal_updateTimeScale(t,e,i){const n=this._private__timeScale._internal_indexToTime(0);void 0!==e&&void 0!==i&&this._private__timeScale._internal_update(e,i);const r=this._private__timeScale._internal_indexToTime(0),a=this._private__timeScale._internal_baseIndex(),s=this._private__timeScale._internal_visibleStrictRange();if(null!==s&&null!==n&&null!==r){const e=s._internal_contains(a),l=this._private__horzScaleBehavior.key(n)>this._private__horzScaleBehavior.key(r),o=null!==t&&t>a&&!l,_=this._private__timeScale._internal_options().allowShiftVisibleRangeOnWhitespaceReplacement,c=void 0===i,u=e&&(!c||_)&&this._private__timeScale._internal_options().shiftVisibleRangeOnNewBar;if(o&&!u){const e=t-a;this._private__timeScale._internal_setRightOffset(this._private__timeScale._internal_rightOffset()-e)}}this._private__timeScale._internal_setBaseIndex(t)}_internal_recalculatePane(t){null!==t&&t._internal_recalculate()}_internal_paneForSource(t){const e=this._private__panes.find(e=>e._internal_orderedSources().includes(t));return void 0===e?null:e}_internal_recalculateAllPanes(){this._private__watermark._internal_updateAllViews(),this._private__panes.forEach(t=>t._internal_recalculate()),this._internal_updateCrosshair()}_internal_destroy(){this._private__panes.forEach(t=>t._internal_destroy()),this._private__panes.length=0,this._private__options.localization.priceFormatter=void 0,this._private__options.localization.percentageFormatter=void 0,this._private__options.localization.timeFormatter=void 0}_internal_rendererOptionsProvider(){return this._private__rendererOptionsProvider}_internal_priceAxisRendererOptions(){return this._private__rendererOptionsProvider._internal_options()}_internal_priceScalesOptionsChanged(){return this._private__priceScalesOptionsChanged}_internal_createSeries(t,e,i){const n=this._private__panes[0],r=this._private__createSeries(e,t,n,i);return this._private__serieses.push(r),1===this._private__serieses.length?this._internal_fullUpdate():this._internal_lightUpdate(),r}_internal_removeSeries(t){const e=this._internal_paneForSource(t),i=this._private__serieses.indexOf(t);S(-1!==i,"Series not found"),this._private__serieses.splice(i,1),T(e)._internal_removeDataSource(t),t._internal_destroy&&t._internal_destroy()}_internal_moveSeriesToScale(t,e){const i=T(this._internal_paneForSource(t));i._internal_removeDataSource(t);const n=this._internal_findPriceScale(e);if(null===n){const n=t._internal_zorder();i._internal_addDataSource(t,e,n)}else{const r=n._internal_pane===i?t._internal_zorder():void 0;n._internal_pane._internal_addDataSource(t,e,r)}}_internal_fitContent(){const t=gt._internal_light();t._internal_setFitContent(),this._private__invalidate(t)}_internal_setTargetLogicalRange(t){const e=gt._internal_light();e._internal_applyRange(t),this._private__invalidate(e)}_internal_resetTimeScale(){const t=gt._internal_light();t._internal_resetTimeScale(),this._private__invalidate(t)}_internal_setBarSpacing(t){const e=gt._internal_light();e._internal_setBarSpacing(t),this._private__invalidate(e)}_internal_setRightOffset(t){const e=gt._internal_light();e._internal_setRightOffset(t),this._private__invalidate(e)}_internal_setTimeScaleAnimation(t){const e=gt._internal_light();e._internal_setTimeScaleAnimation(t),this._private__invalidate(e)}_internal_stopTimeScaleAnimation(){const t=gt._internal_light();t._internal_stopTimeScaleAnimation(),this._private__invalidate(t)}_internal_defaultVisiblePriceScaleId(){return this._private__options.rightPriceScale.visible?"right":"left"}_internal_backgroundBottomColor(){return this._private__backgroundBottomColor}_internal_backgroundTopColor(){return this._private__backgroundTopColor}_internal_backgroundColorAtYPercentFromTop(t){const e=this._private__backgroundBottomColor,i=this._private__backgroundTopColor;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this._private__gradientColorsCache||this._private__gradientColorsCache._internal_topColor!==i||this._private__gradientColorsCache._internal_bottomColor!==e)this._private__gradientColorsCache={_internal_topColor:i,_internal_bottomColor:e,_internal_colors:new Map};else{const e=this._private__gradientColorsCache._internal_colors.get(t);if(void 0!==e)return e}const n=function(t,e,i){const[n,r,a,s]=O(t),[l,o,_,c]=O(e),u=[I(n+i*(l-n)),I(r+i*(o-r)),I(a+i*(_-a)),M(s+i*(c-s))];return"rgba(".concat(u[0],", ").concat(u[1],", ").concat(u[2],", ").concat(u[3],")")}(i,e,t/100);return this._private__gradientColorsCache._internal_colors.set(t,n),n}_private__paneInvalidationMask(t,e){const i=new gt(e);if(null!==t){const n=this._private__panes.indexOf(t);i._internal_invalidatePane(n,{_internal_level:e})}return i}_private__invalidationMaskForSource(t,e){return void 0===e&&(e=2),this._private__paneInvalidationMask(this._internal_paneForSource(t),e)}_private__invalidate(t){this._private__invalidateHandler&&this._private__invalidateHandler(t),this._private__panes.forEach(t=>t._internal_grid()._internal_paneView()._internal_update())}_private__createSeries(t,e,i,n){const r=new ni(this,t,e,i,n),a=void 0!==t.priceScaleId?t.priceScaleId:this._internal_defaultVisiblePriceScaleId();return i._internal_addDataSource(r,a),mt(a)||r._internal_applyOptions(t),r}_private__getBackgroundColor(t){const e=this._private__options.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}}function Wi(t){return!F(t)&&!N(t)}function ji(t){return F(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(zi||(zi={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Fi||(Fi={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Vi||(Vi={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Ni||(Ni={}));const Hi=t=>t.getUTCFullYear();function Yi(t,e,i){return e.replace(/yyyy/g,(t=>yt(Hi(t),4))(t)).replace(/yy/g,(t=>yt(Hi(t)%100,2))(t)).replace(/MMMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"}))(t,i)).replace(/MMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"}))(t,i)).replace(/MM/g,(t=>yt((t=>t.getUTCMonth()+1)(t),2))(t)).replace(/dd/g,(t=>yt((t=>t.getUTCDate())(t),2))(t))}class $i{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";this._private__dateFormat=t,this._private__locale=e}_internal_format(t){return Yi(t,this._private__dateFormat,this._private__locale)}}class Ki{constructor(t){this._private__formatStr=t||"%h:%m:%s"}_internal_format(t){return this._private__formatStr.replace("%h",yt(t.getUTCHours(),2)).replace("%m",yt(t.getUTCMinutes(),2)).replace("%s",yt(t.getUTCSeconds(),2))}}const qi={_internal_dateFormat:"yyyy-MM-dd",_internal_timeFormat:"%h:%m:%s",_internal_dateTimeSeparator:" ",_internal_locale:"default"};class Xi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Object.assign(Object.assign({},qi),t);this._private__dateFormatter=new $i(e._internal_dateFormat,e._internal_locale),this._private__timeFormatter=new Ki(e._internal_timeFormat),this._private__separator=e._internal_dateTimeSeparator}_internal_format(t){return"".concat(this._private__dateFormatter._internal_format(t)).concat(this._private__separator).concat(this._private__timeFormatter._internal_format(t))}}function Qi(t){return 60*t*60*1e3}function Gi(t){return 60*t*1e3}const Zi=[{_internal_divisor:(Ji=1,1e3*Ji),_internal_weight:10},{_internal_divisor:Gi(1),_internal_weight:20},{_internal_divisor:Gi(5),_internal_weight:21},{_internal_divisor:Gi(30),_internal_weight:22},{_internal_divisor:Qi(1),_internal_weight:30},{_internal_divisor:Qi(3),_internal_weight:31},{_internal_divisor:Qi(6),_internal_weight:32},{_internal_divisor:Qi(12),_internal_weight:33}];var Ji;function tn(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=Zi.length-1;i>=0;--i)if(Math.floor(e.getTime()/Zi[i]._internal_divisor)!==Math.floor(t.getTime()/Zi[i]._internal_divisor))return Zi[i]._internal_weight;return 0}function en(t){let e=t;if(N(t)&&(e=an(t)),!Wi(e))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{_internal_timestamp:Math.round(i.getTime()/1e3),_internal_businessDay:e}}function nn(t){if(!ji(t))throw new Error("time must be of type isUTCTimestamp");return{_internal_timestamp:t}}const rn=/^\d\d\d\d-\d\d-\d\d$/;function an(t){if(!rn.test(t))throw new Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));const e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function sn(t){N(t.time)&&(t.time=an(t.time))}class ln{options(){return this._private__options}setOptions(t){this._private__options=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(sn)}(t):sn(t)}createConverterToInternalObj(t){return T(function(t){return 0===t.length?null:Wi(t[0].time)||N(t[0].time)?en:nn}(t))}key(t){return"object"===typeof t&&"_internal_timestamp"in t?t._internal_timestamp:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return void 0===e._internal_businessDay?new Date(1e3*e._internal_timestamp).getTime():new Date(Date.UTC(e._internal_businessDay.year,e._internal_businessDay.month-1,e._internal_businessDay.day)).getTime()}convertHorzItemToInternal(t){return ji(e=t)?nn(e):Wi(e)?en(e):en(an(e));var e}updateFormatter(t){if(!this._private__options)return;const e=t.dateFormat;this._private__options.timeScale.timeVisible?this._private__dateTimeFormatter=new Xi({_internal_dateFormat:e,_internal_timeFormat:this._private__options.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",_internal_dateTimeSeparator:"   ",_internal_locale:t.locale}):this._private__dateTimeFormatter=new $i(e,t.locale)}formatHorzItem(t){const e=t;return this._private__dateTimeFormatter._internal_format(new Date(1e3*e._internal_timestamp))}formatTickmark(t,e){const i=function(t,e,i){switch(t){case 0:case 10:return e?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this._private__options.timeScale.timeVisible,this._private__options.timeScale.secondsVisible),n=this._private__options.timeScale;if(void 0!==n.tickMarkFormatter){const r=n.tickMarkFormatter(t.originalTime,i,e.locale);if(null!==r)return r}return function(t,e,i){const n={};switch(e){case 0:n.year="numeric";break;case 1:n.month="short";break;case 2:n.day="numeric";break;case 3:n.hour12=!1,n.hour="2-digit",n.minute="2-digit";break;case 4:n.hour12=!1,n.hour="2-digit",n.minute="2-digit",n.second="2-digit"}const r=void 0===t._internal_businessDay?new Date(1e3*t._internal_timestamp):new Date(Date.UTC(t._internal_businessDay.year,t._internal_businessDay.month-1,t._internal_businessDay.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(i,n)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(Bi,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t.length)return;let i=0===e?null:t[e-1].time._internal_timestamp,n=null!==i?new Date(1e3*i):null,r=0;for(let a=e;a<t.length;++a){const e=t[a],s=new Date(1e3*e.time._internal_timestamp);null!==n&&(e.timeWeight=tn(s,n)),r+=e.time._internal_timestamp-(i||e.time._internal_timestamp),i=e.time._internal_timestamp,n=s}if(0===e&&t.length>1){const e=Math.ceil(r/(t.length-1)),i=new Date(1e3*(t[0].time._internal_timestamp-e));t[0].timeWeight=tn(new Date(1e3*t[0].time._internal_timestamp),i)}}(t,e)}static _internal_applyDefaults(t){return z({localization:{dateFormat:"dd MMM 'yy"}},null!==t&&void 0!==t?t:{})}}const on="undefined"!==typeof window;function _n(){return!!on&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function cn(){return!!on&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function un(t){console.warn(t)}function hn(t){return t+t%2}function pn(t,e){return t._internal_position-e._internal_position}function dn(t,e,i){const n=(t._internal_position-e._internal_position)/(t._internal_time-e._internal_time);return Math.sign(n)*Math.min(Math.abs(n),i)}class fn{constructor(t,e,i,n){this._private__position1=null,this._private__position2=null,this._private__position3=null,this._private__position4=null,this._private__animationStartPosition=null,this._private__durationMsecs=0,this._private__speedPxPerMsec=0,this._private__minSpeed=t,this._private__maxSpeed=e,this._private__dumpingCoeff=i,this._private__minMove=n}_internal_addPosition(t,e){if(null!==this._private__position1){if(this._private__position1._internal_time===e)return void(this._private__position1._internal_position=t);if(Math.abs(this._private__position1._internal_position-t)<this._private__minMove)return}this._private__position4=this._private__position3,this._private__position3=this._private__position2,this._private__position2=this._private__position1,this._private__position1={_internal_time:e,_internal_position:t}}_internal_start(t,e){if(null===this._private__position1||null===this._private__position2)return;if(e-this._private__position1._internal_time>50)return;let i=0;const n=dn(this._private__position1,this._private__position2,this._private__maxSpeed),r=pn(this._private__position1,this._private__position2),a=[n],s=[r];if(i+=r,null!==this._private__position3){const t=dn(this._private__position2,this._private__position3,this._private__maxSpeed);if(Math.sign(t)===Math.sign(n)){const e=pn(this._private__position2,this._private__position3);if(a.push(t),s.push(e),i+=e,null!==this._private__position4){const t=dn(this._private__position3,this._private__position4,this._private__maxSpeed);if(Math.sign(t)===Math.sign(n)){const e=pn(this._private__position3,this._private__position4);a.push(t),s.push(e),i+=e}}}}let l=0;for(let o=0;o<a.length;++o)l+=s[o]/i*a[o];Math.abs(l)<this._private__minSpeed||(this._private__animationStartPosition={_internal_position:t,_internal_time:e},this._private__speedPxPerMsec=l,this._private__durationMsecs=function(t,e){const i=Math.log(e);return Math.log(1*i/-t)/i}(Math.abs(l),this._private__dumpingCoeff))}_internal_getPosition(t){const e=T(this._private__animationStartPosition),i=t-e._internal_time;return e._internal_position+this._private__speedPxPerMsec*(Math.pow(this._private__dumpingCoeff,i)-1)/Math.log(this._private__dumpingCoeff)}_internal_finished(t){return null===this._private__animationStartPosition||this._private__progressDuration(t)===this._private__durationMsecs}_private__progressDuration(t){const e=t-T(this._private__animationStartPosition)._internal_time;return Math.min(e,this._private__durationMsecs)}}class vn{constructor(t,e){this._private__element=void 0,this._private__cssElement=void 0,this._private__theme=void 0,this._private__visible=!1,this._private__container=t,this._private__chart=e,this._private__render()}_internal_update(){this._private__render()}_internal_removeElement(){this._private__element&&this._private__container.removeChild(this._private__element),this._private__cssElement&&this._private__container.removeChild(this._private__cssElement),this._private__element=void 0,this._private__cssElement=void 0}_private__shouldUpdate(){return this._private__visible!==this._private__shouldBeVisible()||this._private__theme!==this._private__themeToUse()}_private__themeToUse(){return D(O(this._private__chart._internal_options().layout.textColor))>160?"dark":"light"}_private__shouldBeVisible(){return this._private__chart._internal_options().layout.attributionLogo}_private__getUTMSource(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}_private__render(){this._private__shouldUpdate()&&(this._internal_removeElement(),this._private__visible=this._private__shouldBeVisible(),this._private__visible&&(this._private__theme=this._private__themeToUse(),this._private__cssElement=document.createElement("style"),this._private__cssElement.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this._private__element=document.createElement("a"),this._private__element.href="https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart".concat(this._private__getUTMSource()),this._private__element.title="Charting by TradingView",this._private__element.id="tv-attr-logo",this._private__element.target="_blank",this._private__element.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this._private__element.toggleAttribute("data-dark","dark"===this._private__theme),this._private__container.appendChild(this._private__cssElement),this._private__container.appendChild(this._private__element)))}}function mn(t,e){const i=T(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=function(t,e){if("device-pixel-content-box"===e.type)return new s(t,e.transform,e.options);throw new Error("Unsupported binding target")}(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return n.resizeCanvasElement(e),n}function gn(t){var e;t.width=1,t.height=1,null===(e=t.getContext("2d"))||void 0===e||e.clearRect(0,0,1,1)}function bn(t,e,i,n){t._internal_drawBackground&&t._internal_drawBackground(e,i,n)}function yn(t,e,i,n){t._internal_draw(e,i,n)}function wn(t,e,i,n){const r=t(i,n);for(const a of r){const t=a._internal_renderer();null!==t&&e(t)}}function Sn(t){on&&void 0!==window.chrome&&t.addEventListener("mousedown",t=>{if(1===t.button)return t.preventDefault(),!1})}class xn{constructor(t,e,i){this._private__clickCount=0,this._private__clickTimeoutId=null,this._private__clickPosition={_internal_x:Number.NEGATIVE_INFINITY,_internal_y:Number.POSITIVE_INFINITY},this._private__tapCount=0,this._private__tapTimeoutId=null,this._private__tapPosition={_internal_x:Number.NEGATIVE_INFINITY,_internal_y:Number.POSITIVE_INFINITY},this._private__longTapTimeoutId=null,this._private__longTapActive=!1,this._private__mouseMoveStartPosition=null,this._private__touchMoveStartPosition=null,this._private__touchMoveExceededManhattanDistance=!1,this._private__cancelClick=!1,this._private__cancelTap=!1,this._private__unsubscribeOutsideMouseEvents=null,this._private__unsubscribeOutsideTouchEvents=null,this._private__unsubscribeMobileSafariEvents=null,this._private__unsubscribeMousemove=null,this._private__unsubscribeRootMouseEvents=null,this._private__unsubscribeRootTouchEvents=null,this._private__startPinchMiddlePoint=null,this._private__startPinchDistance=0,this._private__pinchPrevented=!1,this._private__preventTouchDragProcess=!1,this._private__mousePressed=!1,this._private__lastTouchEventTimeStamp=0,this._private__activeTouchId=null,this._private__acceptMouseLeave=!cn(),this._private__onFirefoxOutsideMouseUp=t=>{this._private__mouseUpHandler(t)},this._private__onMobileSafariDoubleClick=t=>{if(this._private__firesTouchEvents(t)){const e=this._private__makeCompatEvent(t);if(++this._private__tapCount,this._private__tapTimeoutId&&this._private__tapCount>1){const{_internal_manhattanDistance:i}=this._private__touchMouseMoveWithDownInfo(kn(t),this._private__tapPosition);i<30&&!this._private__cancelTap&&this._private__processTouchEvent(e,this._private__handler._internal_doubleTapEvent),this._private__resetTapTimeout()}}else{const e=this._private__makeCompatEvent(t);if(++this._private__clickCount,this._private__clickTimeoutId&&this._private__clickCount>1){const{_internal_manhattanDistance:i}=this._private__touchMouseMoveWithDownInfo(kn(t),this._private__clickPosition);i<5&&!this._private__cancelClick&&this._private__processMouseEvent(e,this._private__handler._internal_mouseDoubleClickEvent),this._private__resetClickTimeout()}}},this._private__target=t,this._private__handler=e,this._private__options=i,this._private__init()}_internal_destroy(){null!==this._private__unsubscribeOutsideMouseEvents&&(this._private__unsubscribeOutsideMouseEvents(),this._private__unsubscribeOutsideMouseEvents=null),null!==this._private__unsubscribeOutsideTouchEvents&&(this._private__unsubscribeOutsideTouchEvents(),this._private__unsubscribeOutsideTouchEvents=null),null!==this._private__unsubscribeMousemove&&(this._private__unsubscribeMousemove(),this._private__unsubscribeMousemove=null),null!==this._private__unsubscribeRootMouseEvents&&(this._private__unsubscribeRootMouseEvents(),this._private__unsubscribeRootMouseEvents=null),null!==this._private__unsubscribeRootTouchEvents&&(this._private__unsubscribeRootTouchEvents(),this._private__unsubscribeRootTouchEvents=null),null!==this._private__unsubscribeMobileSafariEvents&&(this._private__unsubscribeMobileSafariEvents(),this._private__unsubscribeMobileSafariEvents=null),this._private__clearLongTapTimeout(),this._private__resetClickTimeout()}_private__mouseEnterHandler(t){this._private__unsubscribeMousemove&&this._private__unsubscribeMousemove();const e=this._private__mouseMoveHandler.bind(this);if(this._private__unsubscribeMousemove=()=>{this._private__target.removeEventListener("mousemove",e)},this._private__target.addEventListener("mousemove",e),this._private__firesTouchEvents(t))return;const i=this._private__makeCompatEvent(t);this._private__processMouseEvent(i,this._private__handler._internal_mouseEnterEvent),this._private__acceptMouseLeave=!0}_private__resetClickTimeout(){null!==this._private__clickTimeoutId&&clearTimeout(this._private__clickTimeoutId),this._private__clickCount=0,this._private__clickTimeoutId=null,this._private__clickPosition={_internal_x:Number.NEGATIVE_INFINITY,_internal_y:Number.POSITIVE_INFINITY}}_private__resetTapTimeout(){null!==this._private__tapTimeoutId&&clearTimeout(this._private__tapTimeoutId),this._private__tapCount=0,this._private__tapTimeoutId=null,this._private__tapPosition={_internal_x:Number.NEGATIVE_INFINITY,_internal_y:Number.POSITIVE_INFINITY}}_private__mouseMoveHandler(t){if(this._private__mousePressed||null!==this._private__touchMoveStartPosition)return;if(this._private__firesTouchEvents(t))return;const e=this._private__makeCompatEvent(t);this._private__processMouseEvent(e,this._private__handler._internal_mouseMoveEvent),this._private__acceptMouseLeave=!0}_private__touchMoveHandler(t){const e=Mn(t.changedTouches,T(this._private__activeTouchId));if(null===e)return;if(this._private__lastTouchEventTimeStamp=In(t),null!==this._private__startPinchMiddlePoint)return;if(this._private__preventTouchDragProcess)return;this._private__pinchPrevented=!0;const i=this._private__touchMouseMoveWithDownInfo(kn(e),T(this._private__touchMoveStartPosition)),{_internal_xOffset:n,_internal_yOffset:r,_internal_manhattanDistance:a}=i;if(this._private__touchMoveExceededManhattanDistance||!(a<5)){if(!this._private__touchMoveExceededManhattanDistance){const t=.5*n,e=r>=t&&!this._private__options._internal_treatVertTouchDragAsPageScroll(),i=t>r&&!this._private__options._internal_treatHorzTouchDragAsPageScroll();e||i||(this._private__preventTouchDragProcess=!0),this._private__touchMoveExceededManhattanDistance=!0,this._private__cancelTap=!0,this._private__clearLongTapTimeout(),this._private__resetTapTimeout()}if(!this._private__preventTouchDragProcess){const i=this._private__makeCompatEvent(t,e);this._private__processTouchEvent(i,this._private__handler._internal_touchMoveEvent),Cn(t)}}}_private__mouseMoveWithDownHandler(t){if(0!==t.button)return;const e=this._private__touchMouseMoveWithDownInfo(kn(t),T(this._private__mouseMoveStartPosition)),{_internal_manhattanDistance:i}=e;if(i>=5&&(this._private__cancelClick=!0,this._private__resetClickTimeout()),this._private__cancelClick){const e=this._private__makeCompatEvent(t);this._private__processMouseEvent(e,this._private__handler._internal_pressedMouseMoveEvent)}}_private__touchMouseMoveWithDownInfo(t,e){const i=Math.abs(e._internal_x-t._internal_x),n=Math.abs(e._internal_y-t._internal_y);return{_internal_xOffset:i,_internal_yOffset:n,_internal_manhattanDistance:i+n}}_private__touchEndHandler(t){let e=Mn(t.changedTouches,T(this._private__activeTouchId));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this._private__activeTouchId=null,this._private__lastTouchEventTimeStamp=In(t),this._private__clearLongTapTimeout(),this._private__touchMoveStartPosition=null,this._private__unsubscribeRootTouchEvents&&(this._private__unsubscribeRootTouchEvents(),this._private__unsubscribeRootTouchEvents=null);const i=this._private__makeCompatEvent(t,e);if(this._private__processTouchEvent(i,this._private__handler._internal_touchEndEvent),++this._private__tapCount,this._private__tapTimeoutId&&this._private__tapCount>1){const{_internal_manhattanDistance:t}=this._private__touchMouseMoveWithDownInfo(kn(e),this._private__tapPosition);t<30&&!this._private__cancelTap&&this._private__processTouchEvent(i,this._private__handler._internal_doubleTapEvent),this._private__resetTapTimeout()}else this._private__cancelTap||(this._private__processTouchEvent(i,this._private__handler._internal_tapEvent),this._private__handler._internal_tapEvent&&Cn(t));0===this._private__tapCount&&Cn(t),0===t.touches.length&&this._private__longTapActive&&(this._private__longTapActive=!1,Cn(t))}_private__mouseUpHandler(t){if(0!==t.button)return;const e=this._private__makeCompatEvent(t);if(this._private__mouseMoveStartPosition=null,this._private__mousePressed=!1,this._private__unsubscribeRootMouseEvents&&(this._private__unsubscribeRootMouseEvents(),this._private__unsubscribeRootMouseEvents=null),_n()){this._private__target.ownerDocument.documentElement.removeEventListener("mouseleave",this._private__onFirefoxOutsideMouseUp)}if(!this._private__firesTouchEvents(t))if(this._private__processMouseEvent(e,this._private__handler._internal_mouseUpEvent),++this._private__clickCount,this._private__clickTimeoutId&&this._private__clickCount>1){const{_internal_manhattanDistance:i}=this._private__touchMouseMoveWithDownInfo(kn(t),this._private__clickPosition);i<5&&!this._private__cancelClick&&this._private__processMouseEvent(e,this._private__handler._internal_mouseDoubleClickEvent),this._private__resetClickTimeout()}else this._private__cancelClick||this._private__processMouseEvent(e,this._private__handler._internal_mouseClickEvent)}_private__clearLongTapTimeout(){null!==this._private__longTapTimeoutId&&(clearTimeout(this._private__longTapTimeoutId),this._private__longTapTimeoutId=null)}_private__touchStartHandler(t){if(null!==this._private__activeTouchId)return;const e=t.changedTouches[0];this._private__activeTouchId=e.identifier,this._private__lastTouchEventTimeStamp=In(t);const i=this._private__target.ownerDocument.documentElement;this._private__cancelTap=!1,this._private__touchMoveExceededManhattanDistance=!1,this._private__preventTouchDragProcess=!1,this._private__touchMoveStartPosition=kn(e),this._private__unsubscribeRootTouchEvents&&(this._private__unsubscribeRootTouchEvents(),this._private__unsubscribeRootTouchEvents=null);{const e=this._private__touchMoveHandler.bind(this),n=this._private__touchEndHandler.bind(this);this._private__unsubscribeRootTouchEvents=()=>{i.removeEventListener("touchmove",e),i.removeEventListener("touchend",n)},i.addEventListener("touchmove",e,{passive:!1}),i.addEventListener("touchend",n,{passive:!1}),this._private__clearLongTapTimeout(),this._private__longTapTimeoutId=setTimeout(this._private__longTapHandler.bind(this,t),240)}const n=this._private__makeCompatEvent(t,e);this._private__processTouchEvent(n,this._private__handler._internal_touchStartEvent),this._private__tapTimeoutId||(this._private__tapCount=0,this._private__tapTimeoutId=setTimeout(this._private__resetTapTimeout.bind(this),500),this._private__tapPosition=kn(e))}_private__mouseDownHandler(t){if(0!==t.button)return;const e=this._private__target.ownerDocument.documentElement;_n()&&e.addEventListener("mouseleave",this._private__onFirefoxOutsideMouseUp),this._private__cancelClick=!1,this._private__mouseMoveStartPosition=kn(t),this._private__unsubscribeRootMouseEvents&&(this._private__unsubscribeRootMouseEvents(),this._private__unsubscribeRootMouseEvents=null);{const t=this._private__mouseMoveWithDownHandler.bind(this),i=this._private__mouseUpHandler.bind(this);this._private__unsubscribeRootMouseEvents=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",i)}if(this._private__mousePressed=!0,this._private__firesTouchEvents(t))return;const i=this._private__makeCompatEvent(t);this._private__processMouseEvent(i,this._private__handler._internal_mouseDownEvent),this._private__clickTimeoutId||(this._private__clickCount=0,this._private__clickTimeoutId=setTimeout(this._private__resetClickTimeout.bind(this),500),this._private__clickPosition=kn(t))}_private__init(){this._private__target.addEventListener("mouseenter",this._private__mouseEnterHandler.bind(this)),this._private__target.addEventListener("touchcancel",this._private__clearLongTapTimeout.bind(this));{const t=this._private__target.ownerDocument,e=t=>{this._private__handler._internal_mouseDownOutsideEvent&&(t.composed&&this._private__target.contains(t.composedPath()[0])||t.target&&this._private__target.contains(t.target)||this._private__handler._internal_mouseDownOutsideEvent())};this._private__unsubscribeOutsideTouchEvents=()=>{t.removeEventListener("touchstart",e)},this._private__unsubscribeOutsideMouseEvents=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}cn()&&(this._private__unsubscribeMobileSafariEvents=()=>{this._private__target.removeEventListener("dblclick",this._private__onMobileSafariDoubleClick)},this._private__target.addEventListener("dblclick",this._private__onMobileSafariDoubleClick)),this._private__target.addEventListener("mouseleave",this._private__mouseLeaveHandler.bind(this)),this._private__target.addEventListener("touchstart",this._private__touchStartHandler.bind(this),{passive:!0}),Sn(this._private__target),this._private__target.addEventListener("mousedown",this._private__mouseDownHandler.bind(this)),this._private__initPinch(),this._private__target.addEventListener("touchmove",()=>{},{passive:!1})}_private__initPinch(){void 0===this._private__handler._internal_pinchStartEvent&&void 0===this._private__handler._internal_pinchEvent&&void 0===this._private__handler._internal_pinchEndEvent||(this._private__target.addEventListener("touchstart",t=>this._private__checkPinchState(t.touches),{passive:!0}),this._private__target.addEventListener("touchmove",t=>{if(2===t.touches.length&&null!==this._private__startPinchMiddlePoint&&void 0!==this._private__handler._internal_pinchEvent){const e=Tn(t.touches[0],t.touches[1])/this._private__startPinchDistance;this._private__handler._internal_pinchEvent(this._private__startPinchMiddlePoint,e),Cn(t)}},{passive:!1}),this._private__target.addEventListener("touchend",t=>{this._private__checkPinchState(t.touches)}))}_private__checkPinchState(t){1===t.length&&(this._private__pinchPrevented=!1),2!==t.length||this._private__pinchPrevented||this._private__longTapActive?this._private__stopPinch():this._private__startPinch(t)}_private__startPinch(t){const e=this._private__target.getBoundingClientRect()||{left:0,top:0};this._private__startPinchMiddlePoint={_internal_x:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,_internal_y:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this._private__startPinchDistance=Tn(t[0],t[1]),void 0!==this._private__handler._internal_pinchStartEvent&&this._private__handler._internal_pinchStartEvent(),this._private__clearLongTapTimeout()}_private__stopPinch(){null!==this._private__startPinchMiddlePoint&&(this._private__startPinchMiddlePoint=null,void 0!==this._private__handler._internal_pinchEndEvent&&this._private__handler._internal_pinchEndEvent())}_private__mouseLeaveHandler(t){if(this._private__unsubscribeMousemove&&this._private__unsubscribeMousemove(),this._private__firesTouchEvents(t))return;if(!this._private__acceptMouseLeave)return;const e=this._private__makeCompatEvent(t);this._private__processMouseEvent(e,this._private__handler._internal_mouseLeaveEvent),this._private__acceptMouseLeave=!cn()}_private__longTapHandler(t){const e=Mn(t.touches,T(this._private__activeTouchId));if(null===e)return;const i=this._private__makeCompatEvent(t,e);this._private__processTouchEvent(i,this._private__handler._internal_longTapEvent),this._private__cancelTap=!0,this._private__longTapActive=!0}_private__firesTouchEvents(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:In(t)<this._private__lastTouchEventTimeStamp+500}_private__processTouchEvent(t,e){e&&e.call(this._private__handler,t)}_private__processMouseEvent(t,e){e&&e.call(this._private__handler,t)}_private__makeCompatEvent(t,e){const i=e||t,n=this._private__target.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-n.left,localY:i.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,_internal_isTouch:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,_internal_srcType:t.type,_internal_target:i.target,_internal_view:t.view,_internal_preventDefault:()=>{"touchstart"!==t.type&&Cn(t)}}}}function Tn(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function Cn(t){t.cancelable&&t.preventDefault()}function kn(t){return{_internal_x:t.pageX,_internal_y:t.pageY}}function In(t){return t.timeStamp||performance.now()}function Mn(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}function En(t){return{_internal_source:t._internal_source,_internal_object:{_internal_externalId:t._internal_hit.externalId},_internal_cursorStyle:t._internal_hit.cursorStyle}}function Pn(t,e,i){for(const n of t){const t=n._internal_renderer();if(null!==t&&t._internal_hitTest){const r=t._internal_hitTest(e,i);if(null!==r)return{_internal_view:n,_internal_object:r}}}return null}function Bn(t,e){return i=>{var n,r,a,s;return(null!==(r=null===(n=i._internal_priceScale())||void 0===n?void 0:n._internal_id())&&void 0!==r?r:"")!==e?[]:null!==(s=null===(a=i._internal_pricePaneViews)||void 0===a?void 0:a.call(i,t))&&void 0!==s?s:[]}}function An(t,e,i,n){if(!t.length)return;let r=0;const a=i/2,s=t[0]._internal_height(n,!0);let l=1===e?a-(t[0]._internal_getFixedCoordinate()-s/2):t[0]._internal_getFixedCoordinate()-s/2-a;l=Math.max(0,l);for(let o=1;o<t.length;o++){const a=t[o],s=t[o-1],_=s._internal_height(n,!1),c=a._internal_getFixedCoordinate(),u=s._internal_getFixedCoordinate();if(1===e?c>u-_:c<u+_){const n=u-_*e;a._internal_setFixedCoordinate(n);const s=n-e*_/2;if((1===e?s<0:s>i)&&l>0){const n=1===e?-1-s:s-i,a=Math.min(n,l);for(let i=r;i<t.length;i++)t[i]._internal_setFixedCoordinate(t[i]._internal_getFixedCoordinate()+e*a);l-=a}}else r=o,l=1===e?u-_-c:c-(u+_)}}class On{constructor(t,e,i,r){this._private__priceScale=null,this._private__size=null,this._private__mousedown=!1,this._private__widthCache=new oe(200),this._private__font=null,this._private__prevOptimalWidth=0,this._private__isSettingSize=!1,this._private__canvasSuggestedBitmapSizeChangedHandler=()=>{this._private__isSettingSize||this._private__pane._internal_chart()._internal_model()._internal_lightUpdate()},this._private__topCanvasSuggestedBitmapSizeChangedHandler=()=>{this._private__isSettingSize||this._private__pane._internal_chart()._internal_model()._internal_lightUpdate()},this._private__pane=t,this._private__options=e,this._private__layoutOptions=e.layout,this._private__rendererOptionsProvider=i,this._private__isLeft="left"===r,this._private__sourcePaneViews=Bn("normal",r),this._private__sourceTopPaneViews=Bn("top",r),this._private__sourceBottomPaneViews=Bn("bottom",r),this._private__cell=document.createElement("div"),this._private__cell.style.height="100%",this._private__cell.style.overflow="hidden",this._private__cell.style.width="25px",this._private__cell.style.left="0",this._private__cell.style.position="relative",this._private__canvasBinding=mn(this._private__cell,n({width:16,height:16})),this._private__canvasBinding.subscribeSuggestedBitmapSizeChanged(this._private__canvasSuggestedBitmapSizeChangedHandler);const a=this._private__canvasBinding.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this._private__topCanvasBinding=mn(this._private__cell,n({width:16,height:16})),this._private__topCanvasBinding.subscribeSuggestedBitmapSizeChanged(this._private__topCanvasSuggestedBitmapSizeChangedHandler);const s=this._private__topCanvasBinding.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";const l={_internal_mouseDownEvent:this._private__mouseDownEvent.bind(this),_internal_touchStartEvent:this._private__mouseDownEvent.bind(this),_internal_pressedMouseMoveEvent:this._private__pressedMouseMoveEvent.bind(this),_internal_touchMoveEvent:this._private__pressedMouseMoveEvent.bind(this),_internal_mouseDownOutsideEvent:this._private__mouseDownOutsideEvent.bind(this),_internal_mouseUpEvent:this._private__mouseUpEvent.bind(this),_internal_touchEndEvent:this._private__mouseUpEvent.bind(this),_internal_mouseDoubleClickEvent:this._private__mouseDoubleClickEvent.bind(this),_internal_doubleTapEvent:this._private__mouseDoubleClickEvent.bind(this),_internal_mouseEnterEvent:this._private__mouseEnterEvent.bind(this),_internal_mouseLeaveEvent:this._private__mouseLeaveEvent.bind(this)};this._private__mouseEventHandler=new xn(this._private__topCanvasBinding.canvasElement,l,{_internal_treatVertTouchDragAsPageScroll:()=>!this._private__options.handleScroll.vertTouchDrag,_internal_treatHorzTouchDragAsPageScroll:()=>!0})}_internal_destroy(){this._private__mouseEventHandler._internal_destroy(),this._private__topCanvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._private__topCanvasSuggestedBitmapSizeChangedHandler),gn(this._private__topCanvasBinding.canvasElement),this._private__topCanvasBinding.dispose(),this._private__canvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._private__canvasSuggestedBitmapSizeChangedHandler),gn(this._private__canvasBinding.canvasElement),this._private__canvasBinding.dispose(),null!==this._private__priceScale&&this._private__priceScale._internal_onMarksChanged()._internal_unsubscribeAll(this),this._private__priceScale=null}_internal_getElement(){return this._private__cell}_internal_fontSize(){return this._private__layoutOptions.fontSize}_internal_rendererOptions(){const t=this._private__rendererOptionsProvider._internal_options();return this._private__font!==t._internal_font&&(this._private__widthCache._internal_reset(),this._private__font=t._internal_font),t}_internal_optimalWidth(){if(null===this._private__priceScale)return 0;let t=0;const e=this._internal_rendererOptions(),i=T(this._private__canvasBinding.canvasElement.getContext("2d"));i.save();const n=this._private__priceScale._internal_marks();i.font=this._private__baseFont(),n.length>0&&(t=Math.max(this._private__widthCache._internal_measureText(i,n[0]._internal_label),this._private__widthCache._internal_measureText(i,n[n.length-1]._internal_label)));const r=this._private__backLabels();for(let o=r.length;o--;){const e=this._private__widthCache._internal_measureText(i,r[o]._internal_text());e>t&&(t=e)}const a=this._private__priceScale._internal_firstValue();if(null!==a&&null!==this._private__size&&(2!==(s=this._private__options.crosshair).mode&&s.horzLine.visible&&s.horzLine.labelVisible)){const e=this._private__priceScale._internal_coordinateToPrice(1,a),n=this._private__priceScale._internal_coordinateToPrice(this._private__size.height-2,a);t=Math.max(t,this._private__widthCache._internal_measureText(i,this._private__priceScale._internal_formatPrice(Math.floor(Math.min(e,n))+.11111111111111,a)),this._private__widthCache._internal_measureText(i,this._private__priceScale._internal_formatPrice(Math.ceil(Math.max(e,n))-.11111111111111,a)))}var s;i.restore();const l=t||34;return hn(Math.ceil(e._internal_borderSize+e._internal_tickLength+e._internal_paddingInner+e._internal_paddingOuter+5+l))}_internal_setSize(t){null!==this._private__size&&r(this._private__size,t)||(this._private__size=t,this._private__isSettingSize=!0,this._private__canvasBinding.resizeCanvasElement(t),this._private__topCanvasBinding.resizeCanvasElement(t),this._private__isSettingSize=!1,this._private__cell.style.width="".concat(t.width,"px"),this._private__cell.style.height="".concat(t.height,"px"))}_internal_getWidth(){return T(this._private__size).width}_internal_setPriceScale(t){this._private__priceScale!==t&&(null!==this._private__priceScale&&this._private__priceScale._internal_onMarksChanged()._internal_unsubscribeAll(this),this._private__priceScale=t,t._internal_onMarksChanged()._internal_subscribe(this._private__onMarksChanged.bind(this),this))}_internal_priceScale(){return this._private__priceScale}_internal_reset(){const t=this._private__pane._internal_state();this._private__pane._internal_chart()._internal_model()._internal_resetPriceScale(t,T(this._internal_priceScale()))}_internal_paint(t){if(null===this._private__size)return;if(1!==t){this._private__alignLabels(),this._private__canvasBinding.applySuggestedBitmapSize();const t=_(this._private__canvasBinding);null!==t&&(t.useBitmapCoordinateSpace(t=>{this._private__drawBackground(t),this._private__drawBorder(t)}),this._private__pane._internal_drawAdditionalSources(t,this._private__sourceBottomPaneViews),this._private__drawTickMarks(t),this._private__pane._internal_drawAdditionalSources(t,this._private__sourcePaneViews),this._private__drawBackLabels(t))}this._private__topCanvasBinding.applySuggestedBitmapSize();const e=_(this._private__topCanvasBinding);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this._private__drawCrosshairLabel(e),this._private__pane._internal_drawAdditionalSources(e,this._private__sourceTopPaneViews))}_internal_getBitmapSize(){return this._private__canvasBinding.bitmapSize}_internal_drawBitmap(t,e,i){const n=this._internal_getBitmapSize();n.width>0&&n.height>0&&t.drawImage(this._private__canvasBinding.canvasElement,e,i)}_internal_update(){var t;null===(t=this._private__priceScale)||void 0===t||t._internal_marks()}_private__mouseDownEvent(t){if(null===this._private__priceScale||this._private__priceScale._internal_isEmpty()||!this._private__options.handleScale.axisPressedMouseMove.price)return;const e=this._private__pane._internal_chart()._internal_model(),i=this._private__pane._internal_state();this._private__mousedown=!0,e._internal_startScalePrice(i,this._private__priceScale,t.localY)}_private__pressedMouseMoveEvent(t){if(null===this._private__priceScale||!this._private__options.handleScale.axisPressedMouseMove.price)return;const e=this._private__pane._internal_chart()._internal_model(),i=this._private__pane._internal_state(),n=this._private__priceScale;e._internal_scalePriceTo(i,n,t.localY)}_private__mouseDownOutsideEvent(){if(null===this._private__priceScale||!this._private__options.handleScale.axisPressedMouseMove.price)return;const t=this._private__pane._internal_chart()._internal_model(),e=this._private__pane._internal_state(),i=this._private__priceScale;this._private__mousedown&&(this._private__mousedown=!1,t._internal_endScalePrice(e,i))}_private__mouseUpEvent(t){if(null===this._private__priceScale||!this._private__options.handleScale.axisPressedMouseMove.price)return;const e=this._private__pane._internal_chart()._internal_model(),i=this._private__pane._internal_state();this._private__mousedown=!1,e._internal_endScalePrice(i,this._private__priceScale)}_private__mouseDoubleClickEvent(t){this._private__options.handleScale.axisDoubleClickReset.price&&this._internal_reset()}_private__mouseEnterEvent(t){if(null===this._private__priceScale)return;!this._private__pane._internal_chart()._internal_model()._internal_options().handleScale.axisPressedMouseMove.price||this._private__priceScale._internal_isPercentage()||this._private__priceScale._internal_isIndexedTo100()||this._private__setCursor(1)}_private__mouseLeaveEvent(t){this._private__setCursor(0)}_private__backLabels(){const t=[],e=null===this._private__priceScale?void 0:this._private__priceScale;return(i=>{for(let n=0;n<i.length;++n){const r=i[n]._internal_priceAxisViews(this._private__pane._internal_state(),e);for(let e=0;e<r.length;e++)t.push(r[e])}})(this._private__pane._internal_state()._internal_orderedSources()),t}_private__drawBackground(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,a=this._private__pane._internal_state()._internal_model(),s=a._internal_backgroundTopColor(),l=a._internal_backgroundBottomColor();s===l?nt(e,0,0,n,r,s):lt(e,0,0,n,r,s,l)}_private__drawBorder(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n}=t;if(null===this._private__size||null===this._private__priceScale||!this._private__priceScale._internal_options().borderVisible)return;e.fillStyle=this._private__priceScale._internal_options().borderColor;const r=Math.max(1,Math.floor(this._internal_rendererOptions()._internal_borderSize*n));let a;a=this._private__isLeft?i.width-r:0,e.fillRect(a,0,r,i.height)}_private__drawTickMarks(t){if(null===this._private__size||null===this._private__priceScale)return;const e=this._private__priceScale._internal_marks(),i=this._private__priceScale._internal_options(),n=this._internal_rendererOptions(),r=this._private__isLeft?this._private__size.width-n._internal_tickLength:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace(t=>{let{context:a,horizontalPixelRatio:s,verticalPixelRatio:l}=t;a.fillStyle=i.borderColor;const o=Math.max(1,Math.floor(l)),_=Math.floor(.5*l),c=Math.round(n._internal_tickLength*s);a.beginPath();for(const i of e)a.rect(Math.floor(r*s),Math.round(i._internal_coord*l)-_,c,o);a.fill()}),t.useMediaCoordinateSpace(t=>{let{context:a}=t;var s;a.font=this._private__baseFont(),a.fillStyle=null!==(s=i.textColor)&&void 0!==s?s:this._private__layoutOptions.textColor,a.textAlign=this._private__isLeft?"right":"left",a.textBaseline="middle";const l=this._private__isLeft?Math.round(r-n._internal_paddingInner):Math.round(r+n._internal_tickLength+n._internal_paddingInner),o=e.map(t=>this._private__widthCache._internal_yMidCorrection(a,t._internal_label));for(let i=e.length;i--;){const t=e[i];a.fillText(t._internal_label,l,t._internal_coord+o[i])}})}_private__alignLabels(){if(null===this._private__size||null===this._private__priceScale)return;const t=[],e=this._private__priceScale._internal_orderedSources().slice(),i=this._private__pane._internal_state(),n=this._internal_rendererOptions();this._private__priceScale===i._internal_defaultVisiblePriceScale()&&this._private__pane._internal_state()._internal_orderedSources().forEach(t=>{i._internal_isOverlay(t)&&e.push(t)});const r=this._private__priceScale;e.forEach(e=>{e._internal_priceAxisViews(i,r).forEach(e=>{e._internal_setFixedCoordinate(null),e._internal_isVisible()&&t.push(e)})}),t.forEach(t=>t._internal_setFixedCoordinate(t._internal_coordinate()));this._private__priceScale._internal_options().alignLabels&&this._private__fixLabelOverlap(t,n)}_private__fixLabelOverlap(t,e){if(null===this._private__size)return;const i=this._private__size.height/2,n=t.filter(t=>t._internal_coordinate()<=i),r=t.filter(t=>t._internal_coordinate()>i);n.sort((t,e)=>e._internal_coordinate()-t._internal_coordinate()),r.sort((t,e)=>t._internal_coordinate()-e._internal_coordinate());for(const a of t){const t=Math.floor(a._internal_height(e)/2),i=a._internal_coordinate();i>-t&&i<t&&a._internal_setFixedCoordinate(t),i>this._private__size.height-t&&i<this._private__size.height+t&&a._internal_setFixedCoordinate(this._private__size.height-t)}An(n,1,this._private__size.height,e),An(r,-1,this._private__size.height,e)}_private__drawBackLabels(t){if(null===this._private__size)return;const e=this._private__backLabels(),i=this._internal_rendererOptions(),n=this._private__isLeft?"right":"left";e.forEach(e=>{if(e._internal_isAxisLabelVisible()){e._internal_renderer(T(this._private__priceScale))._internal_draw(t,i,this._private__widthCache,n)}})}_private__drawCrosshairLabel(t){if(null===this._private__size||null===this._private__priceScale)return;const e=this._private__pane._internal_chart()._internal_model(),i=[],n=this._private__pane._internal_state(),r=e._internal_crosshairSource()._internal_priceAxisViews(n,this._private__priceScale);r.length&&i.push(r);const a=this._internal_rendererOptions(),s=this._private__isLeft?"right":"left";i.forEach(e=>{e.forEach(e=>{e._internal_renderer(T(this._private__priceScale))._internal_draw(t,a,this._private__widthCache,s)})})}_private__setCursor(t){this._private__cell.style.cursor=1===t?"ns-resize":"default"}_private__onMarksChanged(){const t=this._internal_optimalWidth();this._private__prevOptimalWidth<t&&this._private__pane._internal_chart()._internal_model()._internal_fullUpdate(),this._private__prevOptimalWidth=t}_private__baseFont(){return $(this._private__layoutOptions.fontSize,this._private__layoutOptions.fontFamily)}}function Dn(t,e){var i,n;return null!==(n=null===(i=t._internal_bottomPaneViews)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function Rn(t,e){var i,n;return null!==(n=null===(i=t._internal_paneViews)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function Ln(t,e){var i,n;return null!==(n=null===(i=t._internal_labelPaneViews)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}function zn(t,e){var i,n;return null!==(n=null===(i=t._internal_topPaneViews)||void 0===i?void 0:i.call(t,e))&&void 0!==n?n:[]}class Fn{constructor(t,e){this._private__size=n({width:0,height:0}),this._private__leftPriceAxisWidget=null,this._private__rightPriceAxisWidget=null,this._private__attributionLogoWidget=null,this._private__startScrollingPos=null,this._private__isScrolling=!1,this._private__clicked=new L,this._private__dblClicked=new L,this._private__prevPinchScale=0,this._private__longTap=!1,this._private__startTrackPoint=null,this._private__exitTrackingModeOnNextTry=!1,this._private__initCrosshairPosition=null,this._private__scrollXAnimation=null,this._private__isSettingSize=!1,this._private__canvasSuggestedBitmapSizeChangedHandler=()=>{this._private__isSettingSize||null===this._private__state||this._private__model()._internal_lightUpdate()},this._private__topCanvasSuggestedBitmapSizeChangedHandler=()=>{this._private__isSettingSize||null===this._private__state||this._private__model()._internal_lightUpdate()},this._private__chart=t,this._private__state=e,this._private__state._internal_onDestroyed()._internal_subscribe(this._private__onStateDestroyed.bind(this),this,!0),this._private__paneCell=document.createElement("td"),this._private__paneCell.style.padding="0",this._private__paneCell.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this._private__leftAxisCell=document.createElement("td"),this._private__leftAxisCell.style.padding="0",this._private__rightAxisCell=document.createElement("td"),this._private__rightAxisCell.style.padding="0",this._private__paneCell.appendChild(i),this._private__canvasBinding=mn(i,n({width:16,height:16})),this._private__canvasBinding.subscribeSuggestedBitmapSizeChanged(this._private__canvasSuggestedBitmapSizeChangedHandler);const r=this._private__canvasBinding.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this._private__topCanvasBinding=mn(i,n({width:16,height:16})),this._private__topCanvasBinding.subscribeSuggestedBitmapSizeChanged(this._private__topCanvasSuggestedBitmapSizeChangedHandler);const a=this._private__topCanvasBinding.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this._private__rowElement=document.createElement("tr"),this._private__rowElement.appendChild(this._private__leftAxisCell),this._private__rowElement.appendChild(this._private__paneCell),this._private__rowElement.appendChild(this._private__rightAxisCell),this._internal_updatePriceAxisWidgetsStates(),this._private__mouseEventHandler=new xn(this._private__topCanvasBinding.canvasElement,this,{_internal_treatVertTouchDragAsPageScroll:()=>null===this._private__startTrackPoint&&!this._private__chart._internal_options().handleScroll.vertTouchDrag,_internal_treatHorzTouchDragAsPageScroll:()=>null===this._private__startTrackPoint&&!this._private__chart._internal_options().handleScroll.horzTouchDrag})}_internal_destroy(){null!==this._private__leftPriceAxisWidget&&this._private__leftPriceAxisWidget._internal_destroy(),null!==this._private__rightPriceAxisWidget&&this._private__rightPriceAxisWidget._internal_destroy(),this._private__attributionLogoWidget=null,this._private__topCanvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._private__topCanvasSuggestedBitmapSizeChangedHandler),gn(this._private__topCanvasBinding.canvasElement),this._private__topCanvasBinding.dispose(),this._private__canvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._private__canvasSuggestedBitmapSizeChangedHandler),gn(this._private__canvasBinding.canvasElement),this._private__canvasBinding.dispose(),null!==this._private__state&&this._private__state._internal_onDestroyed()._internal_unsubscribeAll(this),this._private__mouseEventHandler._internal_destroy()}_internal_state(){return T(this._private__state)}_internal_setState(t){var e,i;null!==this._private__state&&this._private__state._internal_onDestroyed()._internal_unsubscribeAll(this),this._private__state=t,null!==this._private__state&&this._private__state._internal_onDestroyed()._internal_subscribe(Fn.prototype._private__onStateDestroyed.bind(this),this,!0),this._internal_updatePriceAxisWidgetsStates(),this._private__chart._internal_paneWidgets().indexOf(this)===this._private__chart._internal_paneWidgets().length-1?(this._private__attributionLogoWidget=null!==(e=this._private__attributionLogoWidget)&&void 0!==e?e:new vn(this._private__paneCell,this._private__chart),this._private__attributionLogoWidget._internal_update()):(null===(i=this._private__attributionLogoWidget)||void 0===i||i._internal_removeElement(),this._private__attributionLogoWidget=null)}_internal_chart(){return this._private__chart}_internal_getElement(){return this._private__rowElement}_internal_updatePriceAxisWidgetsStates(){if(null!==this._private__state&&(this._private__recreatePriceAxisWidgets(),0!==this._private__model()._internal_serieses().length)){if(null!==this._private__leftPriceAxisWidget){const t=this._private__state._internal_leftPriceScale();this._private__leftPriceAxisWidget._internal_setPriceScale(T(t))}if(null!==this._private__rightPriceAxisWidget){const t=this._private__state._internal_rightPriceScale();this._private__rightPriceAxisWidget._internal_setPriceScale(T(t))}}}_internal_updatePriceAxisWidgets(){null!==this._private__leftPriceAxisWidget&&this._private__leftPriceAxisWidget._internal_update(),null!==this._private__rightPriceAxisWidget&&this._private__rightPriceAxisWidget._internal_update()}_internal_stretchFactor(){return null!==this._private__state?this._private__state._internal_stretchFactor():0}_internal_setStretchFactor(t){this._private__state&&this._private__state._internal_setStretchFactor(t)}_internal_mouseEnterEvent(t){if(!this._private__state)return;this._private__onMouseEvent();const e=t.localX,i=t.localY;this._private__setCrosshairPosition(e,i,t)}_internal_mouseDownEvent(t){this._private__onMouseEvent(),this._private__mouseTouchDownEvent(),this._private__setCrosshairPosition(t.localX,t.localY,t)}_internal_mouseMoveEvent(t){var e;if(!this._private__state)return;this._private__onMouseEvent();const i=t.localX,n=t.localY;this._private__setCrosshairPosition(i,n,t);const r=this._internal_hitTest(i,n);this._private__chart._internal_setCursorStyle(null!==(e=null===r||void 0===r?void 0:r._internal_cursorStyle)&&void 0!==e?e:null),this._private__model()._internal_setHoveredSource(r&&{_internal_source:r._internal_source,_internal_object:r._internal_object})}_internal_mouseClickEvent(t){null!==this._private__state&&(this._private__onMouseEvent(),this._private__fireClickedDelegate(t))}_internal_mouseDoubleClickEvent(t){null!==this._private__state&&this._private__fireMouseClickDelegate(this._private__dblClicked,t)}_internal_doubleTapEvent(t){this._internal_mouseDoubleClickEvent(t)}_internal_pressedMouseMoveEvent(t){this._private__onMouseEvent(),this._private__pressedMouseTouchMoveEvent(t),this._private__setCrosshairPosition(t.localX,t.localY,t)}_internal_mouseUpEvent(t){null!==this._private__state&&(this._private__onMouseEvent(),this._private__longTap=!1,this._private__endScroll(t))}_internal_tapEvent(t){null!==this._private__state&&this._private__fireClickedDelegate(t)}_internal_longTapEvent(t){if(this._private__longTap=!0,null===this._private__startTrackPoint){const e={x:t.localX,y:t.localY};this._private__startTrackingMode(e,e,t)}}_internal_mouseLeaveEvent(t){null!==this._private__state&&(this._private__onMouseEvent(),this._private__state._internal_model()._internal_setHoveredSource(null),this._private__clearCrosshairPosition())}_internal_clicked(){return this._private__clicked}_internal_dblClicked(){return this._private__dblClicked}_internal_pinchStartEvent(){this._private__prevPinchScale=1,this._private__model()._internal_stopTimeScaleAnimation()}_internal_pinchEvent(t,e){if(!this._private__chart._internal_options().handleScale.pinch)return;const i=5*(e-this._private__prevPinchScale);this._private__prevPinchScale=e,this._private__model()._internal_zoomTime(t._internal_x,i)}_internal_touchStartEvent(t){this._private__longTap=!1,this._private__exitTrackingModeOnNextTry=null!==this._private__startTrackPoint,this._private__mouseTouchDownEvent();const e=this._private__model()._internal_crosshairSource();null!==this._private__startTrackPoint&&e._internal_visible()&&(this._private__initCrosshairPosition={x:e._internal_appliedX(),y:e._internal_appliedY()},this._private__startTrackPoint={x:t.localX,y:t.localY})}_internal_touchMoveEvent(t){if(null===this._private__state)return;const e=t.localX,i=t.localY;if(null===this._private__startTrackPoint)this._private__pressedMouseTouchMoveEvent(t);else{this._private__exitTrackingModeOnNextTry=!1;const n=T(this._private__initCrosshairPosition),r=n.x+(e-this._private__startTrackPoint.x),a=n.y+(i-this._private__startTrackPoint.y);this._private__setCrosshairPosition(r,a,t)}}_internal_touchEndEvent(t){0===this._internal_chart()._internal_options().trackingMode.exitMode&&(this._private__exitTrackingModeOnNextTry=!0),this._private__tryExitTrackingMode(),this._private__endScroll(t)}_internal_hitTest(t,e){const i=this._private__state;return null===i?null:function(t,e,i){const n=t._internal_orderedSources(),r=function(t,e,i){var n,r;let a,s;for(const _ of t){const t=null!==(r=null===(n=_._internal_primitiveHitTest)||void 0===n?void 0:n.call(_,e,i))&&void 0!==r?r:[];for(const e of t)l=e.zOrder,(!(o=null===a||void 0===a?void 0:a.zOrder)||"top"===l&&"top"!==o||"normal"===l&&"bottom"===o)&&(a=e,s=_)}var l,o;return a&&s?{_internal_hit:a,_internal_source:s}:null}(n,e,i);if("top"===(null===r||void 0===r?void 0:r._internal_hit.zOrder))return En(r);for(const a of n){if(r&&r._internal_source===a&&"bottom"!==r._internal_hit.zOrder&&!r._internal_hit.isBackground)return En(r);const n=Pn(a._internal_paneViews(t),e,i);if(null!==n)return{_internal_source:a,_internal_view:n._internal_view,_internal_object:n._internal_object};if(r&&r._internal_source===a&&"bottom"!==r._internal_hit.zOrder&&r._internal_hit.isBackground)return En(r)}return(null===r||void 0===r?void 0:r._internal_hit)?En(r):null}(i,t,e)}_internal_setPriceAxisSize(t,e){T("left"===e?this._private__leftPriceAxisWidget:this._private__rightPriceAxisWidget)._internal_setSize(n({width:t,height:this._private__size.height}))}_internal_getSize(){return this._private__size}_internal_setSize(t){r(this._private__size,t)||(this._private__size=t,this._private__isSettingSize=!0,this._private__canvasBinding.resizeCanvasElement(t),this._private__topCanvasBinding.resizeCanvasElement(t),this._private__isSettingSize=!1,this._private__paneCell.style.width=t.width+"px",this._private__paneCell.style.height=t.height+"px")}_internal_recalculatePriceScales(){const t=T(this._private__state);t._internal_recalculatePriceScale(t._internal_leftPriceScale()),t._internal_recalculatePriceScale(t._internal_rightPriceScale());for(const e of t._internal_dataSources())if(t._internal_isOverlay(e)){const i=e._internal_priceScale();null!==i&&t._internal_recalculatePriceScale(i),e._internal_updateAllViews()}}_internal_getBitmapSize(){return this._private__canvasBinding.bitmapSize}_internal_drawBitmap(t,e,i){const n=this._internal_getBitmapSize();n.width>0&&n.height>0&&t.drawImage(this._private__canvasBinding.canvasElement,e,i)}_internal_paint(t){if(0===t)return;if(null===this._private__state)return;if(t>1&&this._internal_recalculatePriceScales(),null!==this._private__leftPriceAxisWidget&&this._private__leftPriceAxisWidget._internal_paint(t),null!==this._private__rightPriceAxisWidget&&this._private__rightPriceAxisWidget._internal_paint(t),1!==t){this._private__canvasBinding.applySuggestedBitmapSize();const t=_(this._private__canvasBinding);null!==t&&(t.useBitmapCoordinateSpace(t=>{this._private__drawBackground(t)}),this._private__state&&(this._private__drawSources(t,Dn),this._private__drawGrid(t),this._private__drawWatermark(t),this._private__drawSources(t,Rn),this._private__drawSources(t,Ln)))}this._private__topCanvasBinding.applySuggestedBitmapSize();const e=_(this._private__topCanvasBinding);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this._private__drawCrosshair(e),this._private__drawSources(e,zn))}_internal_leftPriceAxisWidget(){return this._private__leftPriceAxisWidget}_internal_rightPriceAxisWidget(){return this._private__rightPriceAxisWidget}_internal_drawAdditionalSources(t,e){this._private__drawSources(t,e)}_private__onStateDestroyed(){null!==this._private__state&&this._private__state._internal_onDestroyed()._internal_unsubscribeAll(this),this._private__state=null}_private__fireClickedDelegate(t){this._private__fireMouseClickDelegate(this._private__clicked,t)}_private__fireMouseClickDelegate(t,e){const i=e.localX,n=e.localY;t._internal_hasListeners()&&t._internal_fire(this._private__model()._internal_timeScale()._internal_coordinateToIndex(i),{x:i,y:n},e)}_private__drawBackground(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,a=this._private__model(),s=a._internal_backgroundTopColor(),l=a._internal_backgroundBottomColor();s===l?nt(e,0,0,n,r,l):lt(e,0,0,n,r,s,l)}_private__drawGrid(t){const e=T(this._private__state)._internal_grid()._internal_paneView()._internal_renderer();null!==e&&e._internal_draw(t,!1)}_private__drawWatermark(t){const e=this._private__model()._internal_watermarkSource();this._private__drawSourceImpl(t,Rn,bn,e),this._private__drawSourceImpl(t,Rn,yn,e)}_private__drawCrosshair(t){this._private__drawSourceImpl(t,Rn,yn,this._private__model()._internal_crosshairSource())}_private__drawSources(t,e){const i=T(this._private__state)._internal_orderedSources();for(const n of i)this._private__drawSourceImpl(t,e,bn,n);for(const n of i)this._private__drawSourceImpl(t,e,yn,n)}_private__drawSourceImpl(t,e,i,n){const r=T(this._private__state),a=r._internal_model()._internal_hoveredSource(),s=null!==a&&a._internal_source===n,l=null!==a&&s&&void 0!==a._internal_object?a._internal_object._internal_hitTestData:void 0;wn(e,e=>i(e,t,s,l),n,r)}_private__recreatePriceAxisWidgets(){if(null===this._private__state)return;const t=this._private__chart,e=this._private__state._internal_leftPriceScale()._internal_options().visible,i=this._private__state._internal_rightPriceScale()._internal_options().visible;e||null===this._private__leftPriceAxisWidget||(this._private__leftAxisCell.removeChild(this._private__leftPriceAxisWidget._internal_getElement()),this._private__leftPriceAxisWidget._internal_destroy(),this._private__leftPriceAxisWidget=null),i||null===this._private__rightPriceAxisWidget||(this._private__rightAxisCell.removeChild(this._private__rightPriceAxisWidget._internal_getElement()),this._private__rightPriceAxisWidget._internal_destroy(),this._private__rightPriceAxisWidget=null);const n=t._internal_model()._internal_rendererOptionsProvider();e&&null===this._private__leftPriceAxisWidget&&(this._private__leftPriceAxisWidget=new On(this,t._internal_options(),n,"left"),this._private__leftAxisCell.appendChild(this._private__leftPriceAxisWidget._internal_getElement())),i&&null===this._private__rightPriceAxisWidget&&(this._private__rightPriceAxisWidget=new On(this,t._internal_options(),n,"right"),this._private__rightAxisCell.appendChild(this._private__rightPriceAxisWidget._internal_getElement()))}_private__preventScroll(t){return t._internal_isTouch&&this._private__longTap||null!==this._private__startTrackPoint}_private__correctXCoord(t){return Math.max(0,Math.min(t,this._private__size.width-1))}_private__correctYCoord(t){return Math.max(0,Math.min(t,this._private__size.height-1))}_private__setCrosshairPosition(t,e,i){this._private__model()._internal_setAndSaveCurrentPosition(this._private__correctXCoord(t),this._private__correctYCoord(e),i,T(this._private__state))}_private__clearCrosshairPosition(){this._private__model()._internal_clearCurrentPosition()}_private__tryExitTrackingMode(){this._private__exitTrackingModeOnNextTry&&(this._private__startTrackPoint=null,this._private__clearCrosshairPosition())}_private__startTrackingMode(t,e,i){this._private__startTrackPoint=t,this._private__exitTrackingModeOnNextTry=!1,this._private__setCrosshairPosition(e.x,e.y,i);const n=this._private__model()._internal_crosshairSource();this._private__initCrosshairPosition={x:n._internal_appliedX(),y:n._internal_appliedY()}}_private__model(){return this._private__chart._internal_model()}_private__endScroll(t){if(!this._private__isScrolling)return;const e=this._private__model(),i=this._internal_state();if(e._internal_endScrollPrice(i,i._internal_defaultPriceScale()),this._private__startScrollingPos=null,this._private__isScrolling=!1,e._internal_endScrollTime(),null!==this._private__scrollXAnimation){const t=performance.now(),i=e._internal_timeScale();this._private__scrollXAnimation._internal_start(i._internal_rightOffset(),t),this._private__scrollXAnimation._internal_finished(t)||e._internal_setTimeScaleAnimation(this._private__scrollXAnimation)}}_private__onMouseEvent(){this._private__startTrackPoint=null}_private__mouseTouchDownEvent(){if(!this._private__state)return;if(this._private__model()._internal_stopTimeScaleAnimation(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)T(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this._private__state._internal_defaultPriceScale()._internal_isEmpty()&&this._private__model()._internal_timeScale()._internal_isEmpty()}_private__pressedMouseTouchMoveEvent(t){if(null===this._private__state)return;const e=this._private__model(),i=e._internal_timeScale();if(i._internal_isEmpty())return;const n=this._private__chart._internal_options(),r=n.handleScroll,a=n.kineticScroll;if((!r.pressedMouseMove||t._internal_isTouch)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t._internal_isTouch))return;const s=this._private__state._internal_defaultPriceScale(),l=performance.now();if(null!==this._private__startScrollingPos||this._private__preventScroll(t)||(this._private__startScrollingPos={x:t.clientX,y:t.clientY,_internal_timestamp:l,_internal_localX:t.localX,_internal_localY:t.localY}),null!==this._private__startScrollingPos&&!this._private__isScrolling&&(this._private__startScrollingPos.x!==t.clientX||this._private__startScrollingPos.y!==t.clientY)){if(t._internal_isTouch&&a.touch||!t._internal_isTouch&&a.mouse){const t=i._internal_barSpacing();this._private__scrollXAnimation=new fn(.2/t,7/t,.997,15/t),this._private__scrollXAnimation._internal_addPosition(i._internal_rightOffset(),this._private__startScrollingPos._internal_timestamp)}else this._private__scrollXAnimation=null;s._internal_isEmpty()||e._internal_startScrollPrice(this._private__state,s,t.localY),e._internal_startScrollTime(t.localX),this._private__isScrolling=!0}this._private__isScrolling&&(s._internal_isEmpty()||e._internal_scrollPriceTo(this._private__state,s,t.localY),e._internal_scrollTimeTo(t.localX),null!==this._private__scrollXAnimation&&this._private__scrollXAnimation._internal_addPosition(i._internal_rightOffset(),l))}}class Vn{constructor(t,e,i,r,a){this._private__invalidated=!0,this._private__size=n({width:0,height:0}),this._private__canvasSuggestedBitmapSizeChangedHandler=()=>this._internal_paint(3),this._private__isLeft="left"===t,this._private__rendererOptionsProvider=i._internal_rendererOptionsProvider,this._private__options=e,this._private__borderVisible=r,this._private__bottomColor=a,this._private__cell=document.createElement("div"),this._private__cell.style.width="25px",this._private__cell.style.height="100%",this._private__cell.style.overflow="hidden",this._private__canvasBinding=mn(this._private__cell,n({width:16,height:16})),this._private__canvasBinding.subscribeSuggestedBitmapSizeChanged(this._private__canvasSuggestedBitmapSizeChangedHandler)}_internal_destroy(){this._private__canvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._private__canvasSuggestedBitmapSizeChangedHandler),gn(this._private__canvasBinding.canvasElement),this._private__canvasBinding.dispose()}_internal_getElement(){return this._private__cell}_internal_getSize(){return this._private__size}_internal_setSize(t){r(this._private__size,t)||(this._private__size=t,this._private__canvasBinding.resizeCanvasElement(t),this._private__cell.style.width="".concat(t.width,"px"),this._private__cell.style.height="".concat(t.height,"px"),this._private__invalidated=!0)}_internal_paint(t){if(t<3&&!this._private__invalidated)return;if(0===this._private__size.width||0===this._private__size.height)return;this._private__invalidated=!1,this._private__canvasBinding.applySuggestedBitmapSize();const e=_(this._private__canvasBinding);null!==e&&e.useBitmapCoordinateSpace(t=>{this._private__drawBackground(t),this._private__drawBorder(t)})}_internal_getBitmapSize(){return this._private__canvasBinding.bitmapSize}_internal_drawBitmap(t,e,i){const n=this._internal_getBitmapSize();n.width>0&&n.height>0&&t.drawImage(this._private__canvasBinding.canvasElement,e,i)}_private__drawBorder(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(!this._private__borderVisible())return;e.fillStyle=this._private__options.timeScale.borderColor;const a=Math.floor(this._private__rendererOptionsProvider._internal_options()._internal_borderSize*n),s=Math.floor(this._private__rendererOptionsProvider._internal_options()._internal_borderSize*r),l=this._private__isLeft?i.width-a:0;e.fillRect(l,0,a,s)}_private__drawBackground(t){let{context:e,bitmapSize:i}=t;nt(e,0,0,i.width,i.height,this._private__bottomColor())}}function Nn(t){return e=>{var i,n;return null!==(n=null===(i=e._internal_timePaneViews)||void 0===i?void 0:i.call(e,t))&&void 0!==n?n:[]}}const Un=Nn("normal"),Wn=Nn("top"),jn=Nn("bottom");class Hn{constructor(t,e){this._private__leftStub=null,this._private__rightStub=null,this._private__rendererOptions=null,this._private__mouseDown=!1,this._private__size=n({width:0,height:0}),this._private__sizeChanged=new L,this._private__widthCache=new oe(5),this._private__isSettingSize=!1,this._private__canvasSuggestedBitmapSizeChangedHandler=()=>{this._private__isSettingSize||this._private__chart._internal_model()._internal_lightUpdate()},this._private__topCanvasSuggestedBitmapSizeChangedHandler=()=>{this._private__isSettingSize||this._private__chart._internal_model()._internal_lightUpdate()},this._private__chart=t,this._private__horzScaleBehavior=e,this._private__options=t._internal_options().layout,this._private__element=document.createElement("tr"),this._private__leftStubCell=document.createElement("td"),this._private__leftStubCell.style.padding="0",this._private__rightStubCell=document.createElement("td"),this._private__rightStubCell.style.padding="0",this._private__cell=document.createElement("td"),this._private__cell.style.height="25px",this._private__cell.style.padding="0",this._private__dv=document.createElement("div"),this._private__dv.style.width="100%",this._private__dv.style.height="100%",this._private__dv.style.position="relative",this._private__dv.style.overflow="hidden",this._private__cell.appendChild(this._private__dv),this._private__canvasBinding=mn(this._private__dv,n({width:16,height:16})),this._private__canvasBinding.subscribeSuggestedBitmapSizeChanged(this._private__canvasSuggestedBitmapSizeChangedHandler);const i=this._private__canvasBinding.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this._private__topCanvasBinding=mn(this._private__dv,n({width:16,height:16})),this._private__topCanvasBinding.subscribeSuggestedBitmapSizeChanged(this._private__topCanvasSuggestedBitmapSizeChangedHandler);const r=this._private__topCanvasBinding.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this._private__element.appendChild(this._private__leftStubCell),this._private__element.appendChild(this._private__cell),this._private__element.appendChild(this._private__rightStubCell),this._private__recreateStubs(),this._private__chart._internal_model()._internal_priceScalesOptionsChanged()._internal_subscribe(this._private__recreateStubs.bind(this),this),this._private__mouseEventHandler=new xn(this._private__topCanvasBinding.canvasElement,this,{_internal_treatVertTouchDragAsPageScroll:()=>!0,_internal_treatHorzTouchDragAsPageScroll:()=>!this._private__chart._internal_options().handleScroll.horzTouchDrag})}_internal_destroy(){this._private__mouseEventHandler._internal_destroy(),null!==this._private__leftStub&&this._private__leftStub._internal_destroy(),null!==this._private__rightStub&&this._private__rightStub._internal_destroy(),this._private__topCanvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._private__topCanvasSuggestedBitmapSizeChangedHandler),gn(this._private__topCanvasBinding.canvasElement),this._private__topCanvasBinding.dispose(),this._private__canvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._private__canvasSuggestedBitmapSizeChangedHandler),gn(this._private__canvasBinding.canvasElement),this._private__canvasBinding.dispose()}_internal_getElement(){return this._private__element}_internal_leftStub(){return this._private__leftStub}_internal_rightStub(){return this._private__rightStub}_internal_mouseDownEvent(t){if(this._private__mouseDown)return;this._private__mouseDown=!0;const e=this._private__chart._internal_model();!e._internal_timeScale()._internal_isEmpty()&&this._private__chart._internal_options().handleScale.axisPressedMouseMove.time&&e._internal_startScaleTime(t.localX)}_internal_touchStartEvent(t){this._internal_mouseDownEvent(t)}_internal_mouseDownOutsideEvent(){const t=this._private__chart._internal_model();!t._internal_timeScale()._internal_isEmpty()&&this._private__mouseDown&&(this._private__mouseDown=!1,this._private__chart._internal_options().handleScale.axisPressedMouseMove.time&&t._internal_endScaleTime())}_internal_pressedMouseMoveEvent(t){const e=this._private__chart._internal_model();!e._internal_timeScale()._internal_isEmpty()&&this._private__chart._internal_options().handleScale.axisPressedMouseMove.time&&e._internal_scaleTimeTo(t.localX)}_internal_touchMoveEvent(t){this._internal_pressedMouseMoveEvent(t)}_internal_mouseUpEvent(){this._private__mouseDown=!1;const t=this._private__chart._internal_model();t._internal_timeScale()._internal_isEmpty()&&!this._private__chart._internal_options().handleScale.axisPressedMouseMove.time||t._internal_endScaleTime()}_internal_touchEndEvent(){this._internal_mouseUpEvent()}_internal_mouseDoubleClickEvent(){this._private__chart._internal_options().handleScale.axisDoubleClickReset.time&&this._private__chart._internal_model()._internal_resetTimeScale()}_internal_doubleTapEvent(){this._internal_mouseDoubleClickEvent()}_internal_mouseEnterEvent(){this._private__chart._internal_model()._internal_options().handleScale.axisPressedMouseMove.time&&this._private__setCursor(1)}_internal_mouseLeaveEvent(){this._private__setCursor(0)}_internal_getSize(){return this._private__size}_internal_sizeChanged(){return this._private__sizeChanged}_internal_setSizes(t,e,i){r(this._private__size,t)||(this._private__size=t,this._private__isSettingSize=!0,this._private__canvasBinding.resizeCanvasElement(t),this._private__topCanvasBinding.resizeCanvasElement(t),this._private__isSettingSize=!1,this._private__cell.style.width="".concat(t.width,"px"),this._private__cell.style.height="".concat(t.height,"px"),this._private__sizeChanged._internal_fire(t)),null!==this._private__leftStub&&this._private__leftStub._internal_setSize(n({width:e,height:t.height})),null!==this._private__rightStub&&this._private__rightStub._internal_setSize(n({width:i,height:t.height}))}_internal_optimalHeight(){const t=this._private__getRendererOptions();return Math.ceil(t._internal_borderSize+t._internal_tickLength+t._internal_fontSize+t._internal_paddingTop+t._internal_paddingBottom+t._internal_labelBottomOffset)}_internal_update(){this._private__chart._internal_model()._internal_timeScale()._internal_marks()}_internal_getBitmapSize(){return this._private__canvasBinding.bitmapSize}_internal_drawBitmap(t,e,i){const n=this._internal_getBitmapSize();n.width>0&&n.height>0&&t.drawImage(this._private__canvasBinding.canvasElement,e,i)}_internal_paint(t){if(0===t)return;if(1!==t){this._private__canvasBinding.applySuggestedBitmapSize();const e=_(this._private__canvasBinding);null!==e&&(e.useBitmapCoordinateSpace(t=>{this._private__drawBackground(t),this._private__drawBorder(t),this._private__drawAdditionalSources(e,jn)}),this._private__drawTickMarks(e),this._private__drawAdditionalSources(e,Un)),null!==this._private__leftStub&&this._private__leftStub._internal_paint(t),null!==this._private__rightStub&&this._private__rightStub._internal_paint(t)}this._private__topCanvasBinding.applySuggestedBitmapSize();const e=_(this._private__topCanvasBinding);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this._private__drawLabels([...this._private__chart._internal_model()._internal_serieses(),this._private__chart._internal_model()._internal_crosshairSource()],e),this._private__drawAdditionalSources(e,Wn))}_private__drawAdditionalSources(t,e){const i=this._private__chart._internal_model()._internal_serieses();for(const n of i)wn(e,e=>bn(e,t,!1,void 0),n,void 0);for(const n of i)wn(e,e=>yn(e,t,!1,void 0),n,void 0)}_private__drawBackground(t){let{context:e,bitmapSize:i}=t;nt(e,0,0,i.width,i.height,this._private__chart._internal_model()._internal_backgroundBottomColor())}_private__drawBorder(t){let{context:e,bitmapSize:i,verticalPixelRatio:n}=t;if(this._private__chart._internal_options().timeScale.borderVisible){e.fillStyle=this._private__lineColor();const t=Math.max(1,Math.floor(this._private__getRendererOptions()._internal_borderSize*n));e.fillRect(0,0,i.width,t)}}_private__drawTickMarks(t){const e=this._private__chart._internal_model()._internal_timeScale(),i=e._internal_marks();if(!i||0===i.length)return;const n=this._private__horzScaleBehavior.maxTickMarkWeight(i),r=this._private__getRendererOptions(),a=e._internal_options();a.borderVisible&&a.ticksVisible&&t.useBitmapCoordinateSpace(t=>{let{context:e,horizontalPixelRatio:n,verticalPixelRatio:a}=t;e.strokeStyle=this._private__lineColor(),e.fillStyle=this._private__lineColor();const s=Math.max(1,Math.floor(n)),l=Math.floor(.5*n);e.beginPath();const o=Math.round(r._internal_tickLength*a);for(let r=i.length;r--;){const t=Math.round(i[r].coord*n);e.rect(t-l,0,s,o)}e.fill()}),t.useMediaCoordinateSpace(t=>{let{context:e}=t;const a=r._internal_borderSize+r._internal_tickLength+r._internal_paddingTop+r._internal_fontSize/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this._private__textColor(),e.font=this._private__baseFont();for(const r of i)if(r.weight<n){const t=r.needAlignCoordinate?this._private__alignTickMarkLabelCoordinate(e,r.coord,r.label):r.coord;e.fillText(r.label,t,a)}this._private__chart._internal_options().timeScale.allowBoldLabels&&(e.font=this._private__baseBoldFont());for(const r of i)if(r.weight>=n){const t=r.needAlignCoordinate?this._private__alignTickMarkLabelCoordinate(e,r.coord,r.label):r.coord;e.fillText(r.label,t,a)}})}_private__alignTickMarkLabelCoordinate(t,e,i){const n=this._private__widthCache._internal_measureText(t,i),r=n/2,a=Math.floor(e-r)+.5;return a<0?e+=Math.abs(0-a):a+n>this._private__size.width&&(e-=Math.abs(this._private__size.width-(a+n))),e}_private__drawLabels(t,e){const i=this._private__getRendererOptions();for(const n of t)for(const t of n._internal_timeAxisViews())t._internal_renderer()._internal_draw(e,i)}_private__lineColor(){return this._private__chart._internal_options().timeScale.borderColor}_private__textColor(){return this._private__options.textColor}_private__fontSize(){return this._private__options.fontSize}_private__baseFont(){return $(this._private__fontSize(),this._private__options.fontFamily)}_private__baseBoldFont(){return $(this._private__fontSize(),this._private__options.fontFamily,"bold")}_private__getRendererOptions(){null===this._private__rendererOptions&&(this._private__rendererOptions={_internal_borderSize:1,_internal_baselineOffset:NaN,_internal_paddingTop:NaN,_internal_paddingBottom:NaN,_internal_paddingHorizontal:NaN,_internal_tickLength:5,_internal_fontSize:NaN,_internal_font:"",_internal_widthCache:new oe,_internal_labelBottomOffset:0});const t=this._private__rendererOptions,e=this._private__baseFont();if(t._internal_font!==e){const i=this._private__fontSize();t._internal_fontSize=i,t._internal_font=e,t._internal_paddingTop=3*i/12,t._internal_paddingBottom=3*i/12,t._internal_paddingHorizontal=9*i/12,t._internal_baselineOffset=0,t._internal_labelBottomOffset=4*i/12,t._internal_widthCache._internal_reset()}return this._private__rendererOptions}_private__setCursor(t){this._private__cell.style.cursor=1===t?"ew-resize":"default"}_private__recreateStubs(){const t=this._private__chart._internal_model(),e=t._internal_options();e.leftPriceScale.visible||null===this._private__leftStub||(this._private__leftStubCell.removeChild(this._private__leftStub._internal_getElement()),this._private__leftStub._internal_destroy(),this._private__leftStub=null),e.rightPriceScale.visible||null===this._private__rightStub||(this._private__rightStubCell.removeChild(this._private__rightStub._internal_getElement()),this._private__rightStub._internal_destroy(),this._private__rightStub=null);const i={_internal_rendererOptionsProvider:this._private__chart._internal_model()._internal_rendererOptionsProvider()},n=()=>e.leftPriceScale.borderVisible&&t._internal_timeScale()._internal_options().borderVisible,r=()=>t._internal_backgroundBottomColor();e.leftPriceScale.visible&&null===this._private__leftStub&&(this._private__leftStub=new Vn("left",e,i,n,r),this._private__leftStubCell.appendChild(this._private__leftStub._internal_getElement())),e.rightPriceScale.visible&&null===this._private__rightStub&&(this._private__rightStub=new Vn("right",e,i,n,r),this._private__rightStubCell.appendChild(this._private__rightStub._internal_getElement()))}}const Yn=!!on&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&function(){var t;return!!on&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===t?void 0:t.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0)}();class $n{constructor(t,e,i){var n;this._private__paneWidgets=[],this._private__drawRafId=0,this._private__height=0,this._private__width=0,this._private__leftPriceAxisWidth=0,this._private__rightPriceAxisWidth=0,this._private__invalidateMask=null,this._private__drawPlanned=!1,this._private__clicked=new L,this._private__dblClicked=new L,this._private__crosshairMoved=new L,this._private__observer=null,this._private__cursorStyleOverride=null,this._private__container=t,this._private__options=e,this._private__horzScaleBehavior=i,this._private__element=document.createElement("div"),this._private__element.classList.add("tv-lightweight-charts"),this._private__element.style.overflow="hidden",this._private__element.style.direction="ltr",this._private__element.style.width="100%",this._private__element.style.height="100%",(n=this._private__element).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this._private__tableElement=document.createElement("table"),this._private__tableElement.setAttribute("cellspacing","0"),this._private__element.appendChild(this._private__tableElement),this._private__onWheelBound=this._private__onMousewheel.bind(this),Kn(this._private__options)&&this._private__setMouseWheelEventListener(!0),this._private__model=new Ui(this._private__invalidateHandler.bind(this),this._private__options,i),this._internal_model()._internal_crosshairMoved()._internal_subscribe(this._private__onPaneWidgetCrosshairMoved.bind(this),this),this._private__timeAxisWidget=new Hn(this,this._private__horzScaleBehavior),this._private__tableElement.appendChild(this._private__timeAxisWidget._internal_getElement());const r=e.autoSize&&this._private__installObserver();let a=this._private__options.width,s=this._private__options.height;if(r||0===a||0===s){const e=t.getBoundingClientRect();a=a||e.width,s=s||e.height}this._internal_resize(a,s),this._private__syncGuiWithModel(),t.appendChild(this._private__element),this._private__updateTimeAxisVisibility(),this._private__model._internal_timeScale()._internal_optionsApplied()._internal_subscribe(this._private__model._internal_fullUpdate.bind(this._private__model),this),this._private__model._internal_priceScalesOptionsChanged()._internal_subscribe(this._private__model._internal_fullUpdate.bind(this._private__model),this)}_internal_model(){return this._private__model}_internal_options(){return this._private__options}_internal_paneWidgets(){return this._private__paneWidgets}_internal_timeAxisWidget(){return this._private__timeAxisWidget}_internal_destroy(){this._private__setMouseWheelEventListener(!1),0!==this._private__drawRafId&&window.cancelAnimationFrame(this._private__drawRafId),this._private__model._internal_crosshairMoved()._internal_unsubscribeAll(this),this._private__model._internal_timeScale()._internal_optionsApplied()._internal_unsubscribeAll(this),this._private__model._internal_priceScalesOptionsChanged()._internal_unsubscribeAll(this),this._private__model._internal_destroy();for(const t of this._private__paneWidgets)this._private__tableElement.removeChild(t._internal_getElement()),t._internal_clicked()._internal_unsubscribeAll(this),t._internal_dblClicked()._internal_unsubscribeAll(this),t._internal_destroy();this._private__paneWidgets=[],T(this._private__timeAxisWidget)._internal_destroy(),null!==this._private__element.parentElement&&this._private__element.parentElement.removeChild(this._private__element),this._private__crosshairMoved._internal_destroy(),this._private__clicked._internal_destroy(),this._private__dblClicked._internal_destroy(),this._private__uninstallObserver()}_internal_resize(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._private__height===e&&this._private__width===t)return;const r=function(t){const e=Math.floor(t.width),i=Math.floor(t.height);return n({width:e-e%2,height:i-i%2})}(n({width:t,height:e}));this._private__height=r.height,this._private__width=r.width;const a=this._private__height+"px",s=this._private__width+"px";T(this._private__element).style.height=a,T(this._private__element).style.width=s,this._private__tableElement.style.height=a,this._private__tableElement.style.width=s,i?this._private__drawImpl(gt._internal_full(),performance.now()):this._private__model._internal_fullUpdate()}_internal_paint(t){void 0===t&&(t=gt._internal_full());for(let e=0;e<this._private__paneWidgets.length;e++)this._private__paneWidgets[e]._internal_paint(t._internal_invalidateForPane(e)._internal_level);this._private__options.timeScale.visible&&this._private__timeAxisWidget._internal_paint(t._internal_fullInvalidation())}_internal_applyOptions(t){const e=Kn(this._private__options);this._private__model._internal_applyOptions(t);const i=Kn(this._private__options);i!==e&&this._private__setMouseWheelEventListener(i),this._private__updateTimeAxisVisibility(),this._private__applyAutoSizeOptions(t)}_internal_clicked(){return this._private__clicked}_internal_dblClicked(){return this._private__dblClicked}_internal_crosshairMoved(){return this._private__crosshairMoved}_internal_takeScreenshot(){null!==this._private__invalidateMask&&(this._private__drawImpl(this._private__invalidateMask,performance.now()),this._private__invalidateMask=null);const t=this._private__traverseLayout(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=T(e.getContext("2d"));return this._private__traverseLayout(i),e}_internal_getPriceAxisWidth(t){if("left"===t&&!this._private__isLeftAxisVisible())return 0;if("right"===t&&!this._private__isRightAxisVisible())return 0;if(0===this._private__paneWidgets.length)return 0;return T("left"===t?this._private__paneWidgets[0]._internal_leftPriceAxisWidget():this._private__paneWidgets[0]._internal_rightPriceAxisWidget())._internal_getWidth()}_internal_autoSizeActive(){return this._private__options.autoSize&&null!==this._private__observer}_internal_element(){return this._private__element}_internal_setCursorStyle(t){this._private__cursorStyleOverride=t,this._private__cursorStyleOverride?this._internal_element().style.setProperty("cursor",t):this._internal_element().style.removeProperty("cursor")}_internal_getCursorOverrideStyle(){return this._private__cursorStyleOverride}_internal_paneSize(){return x(this._private__paneWidgets[0])._internal_getSize()}_private__applyAutoSizeOptions(t){void 0!==t.autoSize||!this._private__observer||void 0===t.width&&void 0===t.height?(t.autoSize&&!this._private__observer&&this._private__installObserver(),!1===t.autoSize&&null!==this._private__observer&&this._private__uninstallObserver(),t.autoSize||void 0===t.width&&void 0===t.height||this._internal_resize(t.width||this._private__width,t.height||this._private__height)):un("You should turn autoSize off explicitly before specifying sizes; try adding options.autoSize: false to new options")}_private__traverseLayout(t){let e=0,i=0;const r=this._private__paneWidgets[0],a=(e,i)=>{let n=0;for(let r=0;r<this._private__paneWidgets.length;r++){const a=this._private__paneWidgets[r],s=T("left"===e?a._internal_leftPriceAxisWidget():a._internal_rightPriceAxisWidget()),l=s._internal_getBitmapSize();null!==t&&s._internal_drawBitmap(t,i,n),n+=l.height}};if(this._private__isLeftAxisVisible()){a("left",0);e+=T(r._internal_leftPriceAxisWidget())._internal_getBitmapSize().width}for(let n=0;n<this._private__paneWidgets.length;n++){const r=this._private__paneWidgets[n],a=r._internal_getBitmapSize();null!==t&&r._internal_drawBitmap(t,e,i),i+=a.height}if(e+=r._internal_getBitmapSize().width,this._private__isRightAxisVisible()){a("right",e);e+=T(r._internal_rightPriceAxisWidget())._internal_getBitmapSize().width}const s=(e,i,n)=>{T("left"===e?this._private__timeAxisWidget._internal_leftStub():this._private__timeAxisWidget._internal_rightStub())._internal_drawBitmap(T(t),i,n)};if(this._private__options.timeScale.visible){const e=this._private__timeAxisWidget._internal_getBitmapSize();if(null!==t){let n=0;this._private__isLeftAxisVisible()&&(s("left",n,i),n=T(r._internal_leftPriceAxisWidget())._internal_getBitmapSize().width),this._private__timeAxisWidget._internal_drawBitmap(t,n,i),n+=e.width,this._private__isRightAxisVisible()&&s("right",n,i)}i+=e.height}return n({width:e,height:i})}_private__adjustSizeImpl(){let t=0,e=0,i=0;for(const n of this._private__paneWidgets)this._private__isLeftAxisVisible()&&(e=Math.max(e,T(n._internal_leftPriceAxisWidget())._internal_optimalWidth(),this._private__options.leftPriceScale.minimumWidth)),this._private__isRightAxisVisible()&&(i=Math.max(i,T(n._internal_rightPriceAxisWidget())._internal_optimalWidth(),this._private__options.rightPriceScale.minimumWidth)),t+=n._internal_stretchFactor();e=hn(e),i=hn(i);const r=this._private__width,a=this._private__height,s=Math.max(r-e-i,0),l=this._private__options.timeScale.visible;let o=l?Math.max(this._private__timeAxisWidget._internal_optimalHeight(),this._private__options.timeScale.minimumHeight):0;var _;o=(_=o)+_%2;const c=0+o,u=a<c?0:a-c,h=u/t;let p=0;for(let d=0;d<this._private__paneWidgets.length;++d){const t=this._private__paneWidgets[d];t._internal_setState(this._private__model._internal_panes()[d]);let r=0,a=0;a=d===this._private__paneWidgets.length-1?u-p:Math.round(t._internal_stretchFactor()*h),r=Math.max(a,2),p+=r,t._internal_setSize(n({width:s,height:r})),this._private__isLeftAxisVisible()&&t._internal_setPriceAxisSize(e,"left"),this._private__isRightAxisVisible()&&t._internal_setPriceAxisSize(i,"right"),t._internal_state()&&this._private__model._internal_setPaneHeight(t._internal_state(),r)}this._private__timeAxisWidget._internal_setSizes(n({width:l?s:0,height:o}),l?e:0,l?i:0),this._private__model._internal_setWidth(s),this._private__leftPriceAxisWidth!==e&&(this._private__leftPriceAxisWidth=e),this._private__rightPriceAxisWidth!==i&&(this._private__rightPriceAxisWidth=i)}_private__setMouseWheelEventListener(t){t?this._private__element.addEventListener("wheel",this._private__onWheelBound,{passive:!1}):this._private__element.removeEventListener("wheel",this._private__onWheelBound)}_private__determineWheelSpeedAdjustment(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Yn?1/window.devicePixelRatio:1}_private__onMousewheel(t){if((0===t.deltaX||!this._private__options.handleScroll.mouseWheel)&&(0===t.deltaY||!this._private__options.handleScale.mouseWheel))return;const e=this._private__determineWheelSpeedAdjustment(t),i=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==n&&this._private__options.handleScale.mouseWheel){const e=Math.sign(n)*Math.min(1,Math.abs(n)),i=t.clientX-this._private__element.getBoundingClientRect().left;this._internal_model()._internal_zoomTime(i,e)}0!==i&&this._private__options.handleScroll.mouseWheel&&this._internal_model()._internal_scrollChart(-80*i)}_private__drawImpl(t,e){var i;const n=t._internal_fullInvalidation();3===n&&this._private__updateGui(),3!==n&&2!==n||(this._private__applyMomentaryAutoScale(t),this._private__applyTimeScaleInvalidations(t,e),this._private__timeAxisWidget._internal_update(),this._private__paneWidgets.forEach(t=>{t._internal_updatePriceAxisWidgets()}),3===(null===(i=this._private__invalidateMask)||void 0===i?void 0:i._internal_fullInvalidation())&&(this._private__invalidateMask._internal_merge(t),this._private__updateGui(),this._private__applyMomentaryAutoScale(this._private__invalidateMask),this._private__applyTimeScaleInvalidations(this._private__invalidateMask,e),t=this._private__invalidateMask,this._private__invalidateMask=null)),this._internal_paint(t)}_private__applyTimeScaleInvalidations(t,e){for(const i of t._internal_timeScaleInvalidations())this._private__applyTimeScaleInvalidation(i,e)}_private__applyMomentaryAutoScale(t){const e=this._private__model._internal_panes();for(let i=0;i<e.length;i++)t._internal_invalidateForPane(i)._internal_autoScale&&e[i]._internal_momentaryAutoScale()}_private__applyTimeScaleInvalidation(t,e){const i=this._private__model._internal_timeScale();switch(t._internal_type){case 0:i._internal_fitContent();break;case 1:i._internal_setLogicalRange(t._internal_value);break;case 2:i._internal_setBarSpacing(t._internal_value);break;case 3:i._internal_setRightOffset(t._internal_value);break;case 4:i._internal_restoreDefault();break;case 5:t._internal_value._internal_finished(e)||i._internal_setRightOffset(t._internal_value._internal_getPosition(e))}}_private__invalidateHandler(t){null!==this._private__invalidateMask?this._private__invalidateMask._internal_merge(t):this._private__invalidateMask=t,this._private__drawPlanned||(this._private__drawPlanned=!0,this._private__drawRafId=window.requestAnimationFrame(t=>{if(this._private__drawPlanned=!1,this._private__drawRafId=0,null!==this._private__invalidateMask){const e=this._private__invalidateMask;this._private__invalidateMask=null,this._private__drawImpl(e,t);for(const i of e._internal_timeScaleInvalidations())if(5===i._internal_type&&!i._internal_value._internal_finished(t)){this._internal_model()._internal_setTimeScaleAnimation(i._internal_value);break}}}))}_private__updateGui(){this._private__syncGuiWithModel()}_private__syncGuiWithModel(){const t=this._private__model._internal_panes(),e=t.length,i=this._private__paneWidgets.length;for(let n=e;n<i;n++){const t=x(this._private__paneWidgets.pop());this._private__tableElement.removeChild(t._internal_getElement()),t._internal_clicked()._internal_unsubscribeAll(this),t._internal_dblClicked()._internal_unsubscribeAll(this),t._internal_destroy()}for(let n=i;n<e;n++){const e=new Fn(this,t[n]);e._internal_clicked()._internal_subscribe(this._private__onPaneWidgetClicked.bind(this),this),e._internal_dblClicked()._internal_subscribe(this._private__onPaneWidgetDblClicked.bind(this),this),this._private__paneWidgets.push(e),this._private__tableElement.insertBefore(e._internal_getElement(),this._private__timeAxisWidget._internal_getElement())}for(let n=0;n<e;n++){const e=t[n],i=this._private__paneWidgets[n];i._internal_state()!==e?i._internal_setState(e):i._internal_updatePriceAxisWidgetsStates()}this._private__updateTimeAxisVisibility(),this._private__adjustSizeImpl()}_private__getMouseEventParamsImpl(t,e,i){var n;const r=new Map;if(null!==t){this._private__model._internal_serieses().forEach(e=>{const i=e._internal_bars()._internal_search(t);null!==i&&r.set(e,i)})}let a;if(null!==t){const e=null===(n=this._private__model._internal_timeScale()._internal_indexToTimeScalePoint(t))||void 0===n?void 0:n.originalTime;void 0!==e&&(a=e)}const s=this._internal_model()._internal_hoveredSource(),l=null!==s&&s._internal_source instanceof ni?s._internal_source:void 0,o=null!==s&&void 0!==s._internal_object?s._internal_object._internal_externalId:void 0;return{_internal_originalTime:a,_internal_index:null!==t&&void 0!==t?t:void 0,_internal_point:null!==e&&void 0!==e?e:void 0,_internal_hoveredSeries:l,_internal_seriesData:r,_internal_hoveredObject:o,_internal_touchMouseEventData:null!==i&&void 0!==i?i:void 0}}_private__onPaneWidgetClicked(t,e,i){this._private__clicked._internal_fire(()=>this._private__getMouseEventParamsImpl(t,e,i))}_private__onPaneWidgetDblClicked(t,e,i){this._private__dblClicked._internal_fire(()=>this._private__getMouseEventParamsImpl(t,e,i))}_private__onPaneWidgetCrosshairMoved(t,e,i){this._private__crosshairMoved._internal_fire(()=>this._private__getMouseEventParamsImpl(t,e,i))}_private__updateTimeAxisVisibility(){const t=this._private__options.timeScale.visible?"":"none";this._private__timeAxisWidget._internal_getElement().style.display=t}_private__isLeftAxisVisible(){return this._private__paneWidgets[0]._internal_state()._internal_leftPriceScale()._internal_options().visible}_private__isRightAxisVisible(){return this._private__paneWidgets[0]._internal_state()._internal_rightPriceScale()._internal_options().visible}_private__installObserver(){return"ResizeObserver"in window?(this._private__observer=new ResizeObserver(t=>{const e=t.find(t=>t.target===this._private__container);e&&this._internal_resize(e.contentRect.width,e.contentRect.height)}),this._private__observer.observe(this._private__container,{box:"border-box"}),!0):(un('Options contains "autoSize" flag, but the browser does not support ResizeObserver feature. Please provide polyfill.'),!1)}_private__uninstallObserver(){null!==this._private__observer&&this._private__observer.disconnect(),this._private__observer=null}}function Kn(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function qn(t){return void 0!==t.open}function Xn(t){return void 0!==t.value}function Qn(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}function Gn(t,e,i,n){const r=i.value,a={_internal_index:e,_internal_time:t,_internal_value:[r,r,r,r],_internal_originalTime:n};return void 0!==i.color&&(a._internal_color=i.color),a}function Zn(t,e,i,n){const r=i.value,a={_internal_index:e,_internal_time:t,_internal_value:[r,r,r,r],_internal_originalTime:n};return void 0!==i.lineColor&&(a._internal_lineColor=i.lineColor),void 0!==i.topColor&&(a._internal_topColor=i.topColor),void 0!==i.bottomColor&&(a._internal_bottomColor=i.bottomColor),a}function Jn(t,e,i,n){const r=i.value,a={_internal_index:e,_internal_time:t,_internal_value:[r,r,r,r],_internal_originalTime:n};return void 0!==i.topLineColor&&(a._internal_topLineColor=i.topLineColor),void 0!==i.bottomLineColor&&(a._internal_bottomLineColor=i.bottomLineColor),void 0!==i.topFillColor1&&(a._internal_topFillColor1=i.topFillColor1),void 0!==i.topFillColor2&&(a._internal_topFillColor2=i.topFillColor2),void 0!==i.bottomFillColor1&&(a._internal_bottomFillColor1=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(a._internal_bottomFillColor2=i.bottomFillColor2),a}function tr(t,e,i,n){const r={_internal_index:e,_internal_time:t,_internal_value:[i.open,i.high,i.low,i.close],_internal_originalTime:n};return void 0!==i.color&&(r._internal_color=i.color),r}function er(t,e,i,n){const r={_internal_index:e,_internal_time:t,_internal_value:[i.open,i.high,i.low,i.close],_internal_originalTime:n};return void 0!==i.color&&(r._internal_color=i.color),void 0!==i.borderColor&&(r._internal_borderColor=i.borderColor),void 0!==i.wickColor&&(r._internal_wickColor=i.wickColor),r}function ir(t,e,i,n,r){const a=x(r)(i),s=Math.max(...a),l=Math.min(...a),o=a[a.length-1],_=[o,s,l,o],c=i,{time:u,color:h}=c;return{_internal_index:e,_internal_time:t,_internal_value:_,_internal_originalTime:n,_internal_data:Qn(c,["time","color"]),_internal_color:h}}function nr(t){return void 0!==t._internal_value}function rr(t,e){return void 0!==e.customValues&&(t._internal_customValues=e.customValues),t}function ar(t){return(e,i,n,r,a,s)=>function(t,e){return e?e(t):void 0===(i=t).open&&void 0===i.value;var i}(n,s)?rr({_internal_time:e,_internal_index:i,_internal_originalTime:r},n):rr(t(e,i,n,r,a),n)}function sr(t){return{Candlestick:ar(er),Bar:ar(tr),Area:ar(Zn),Baseline:ar(Jn),Histogram:ar(Gn),Line:ar(Gn),Custom:ar(ir)}[t]}function lr(t){return{_internal_index:0,_internal_mapping:new Map,_internal_timePoint:t}}function or(t,e){if(void 0!==t&&0!==t.length)return{_internal_firstTime:e.key(t[0]._internal_time),_internal_lastTime:e.key(t[t.length-1]._internal_time)}}function _r(t){let e;return t.forEach(t=>{void 0===e&&(e=t._internal_originalTime)}),x(e)}class cr{constructor(t){this._private__pointDataByTimePoint=new Map,this._private__seriesRowsBySeries=new Map,this._private__seriesLastTimePoint=new Map,this._private__sortedTimePoints=[],this._private__horzScaleBehavior=t}_internal_destroy(){this._private__pointDataByTimePoint.clear(),this._private__seriesRowsBySeries.clear(),this._private__seriesLastTimePoint.clear(),this._private__sortedTimePoints=[]}_internal_setSeriesData(t,e){let i=0!==this._private__pointDataByTimePoint.size,n=!1;const r=this._private__seriesRowsBySeries.get(t);if(void 0!==r)if(1===this._private__seriesRowsBySeries.size)i=!1,n=!0,this._private__pointDataByTimePoint.clear();else for(const l of this._private__sortedTimePoints)l.pointData._internal_mapping.delete(t)&&(n=!0);let a=[];if(0!==e.length){const i=e.map(t=>t.time),r=this._private__horzScaleBehavior.createConverterToInternalObj(e),s=sr(t._internal_seriesType()),l=t._internal_customSeriesPlotValuesBuilder(),o=t._internal_customSeriesWhitespaceCheck();a=e.map((e,a)=>{const _=r(e.time),c=this._private__horzScaleBehavior.key(_);let u=this._private__pointDataByTimePoint.get(c);void 0===u&&(u=lr(_),this._private__pointDataByTimePoint.set(c,u),n=!0);const h=s(_,u._internal_index,e,i[a],l,o);return u._internal_mapping.set(t,h),h})}i&&this._private__cleanupPointsData(),this._private__setRowsToSeries(t,a);let s=-1;if(n){const t=[];this._private__pointDataByTimePoint.forEach(e=>{t.push({timeWeight:0,time:e._internal_timePoint,pointData:e,originalTime:_r(e._internal_mapping)})}),t.sort((t,e)=>this._private__horzScaleBehavior.key(t.time)-this._private__horzScaleBehavior.key(e.time)),s=this._private__replaceTimeScalePoints(t)}return this._private__getUpdateResponse(t,s,function(t,e,i){const n=or(t,i),r=or(e,i);if(void 0!==n&&void 0!==r)return{_internal_lastBarUpdatedOrNewBarsAddedToTheRight:n._internal_lastTime>=r._internal_lastTime&&n._internal_firstTime>=r._internal_firstTime}}(this._private__seriesRowsBySeries.get(t),r,this._private__horzScaleBehavior))}_internal_removeSeries(t){return this._internal_setSeriesData(t,[])}_internal_updateSeriesData(t,e){const i=e;!function(t){void 0===t._internal_originalTime&&(t._internal_originalTime=t.time)}(i),this._private__horzScaleBehavior.preprocessData(e);const n=this._private__horzScaleBehavior.createConverterToInternalObj([e])(e.time),r=this._private__seriesLastTimePoint.get(t);if(void 0!==r&&this._private__horzScaleBehavior.key(n)<this._private__horzScaleBehavior.key(r))throw new Error("Cannot update oldest data, last time=".concat(r,", new time=").concat(n));let a=this._private__pointDataByTimePoint.get(this._private__horzScaleBehavior.key(n));const s=void 0===a;void 0===a&&(a=lr(n),this._private__pointDataByTimePoint.set(this._private__horzScaleBehavior.key(n),a));const l=sr(t._internal_seriesType()),o=t._internal_customSeriesPlotValuesBuilder(),_=t._internal_customSeriesWhitespaceCheck(),c=l(n,a._internal_index,e,i._internal_originalTime,o,_);a._internal_mapping.set(t,c),this._private__updateLastSeriesRow(t,c);const u={_internal_lastBarUpdatedOrNewBarsAddedToTheRight:nr(c)};if(!s)return this._private__getUpdateResponse(t,-1,u);const h={timeWeight:0,time:a._internal_timePoint,pointData:a,originalTime:_r(a._internal_mapping)},p=Vt(this._private__sortedTimePoints,this._private__horzScaleBehavior.key(h.time),(t,e)=>this._private__horzScaleBehavior.key(t.time)<e);this._private__sortedTimePoints.splice(p,0,h);for(let d=p;d<this._private__sortedTimePoints.length;++d)ur(this._private__sortedTimePoints[d].pointData,d);return this._private__horzScaleBehavior.fillWeightsForPoints(this._private__sortedTimePoints,p),this._private__getUpdateResponse(t,p,u)}_private__updateLastSeriesRow(t,e){let i=this._private__seriesRowsBySeries.get(t);void 0===i&&(i=[],this._private__seriesRowsBySeries.set(t,i));const n=0!==i.length?i[i.length-1]:null;null===n||this._private__horzScaleBehavior.key(e._internal_time)>this._private__horzScaleBehavior.key(n._internal_time)?nr(e)&&i.push(e):nr(e)?i[i.length-1]=e:i.splice(-1,1),this._private__seriesLastTimePoint.set(t,e._internal_time)}_private__setRowsToSeries(t,e){0!==e.length?(this._private__seriesRowsBySeries.set(t,e.filter(nr)),this._private__seriesLastTimePoint.set(t,e[e.length-1]._internal_time)):(this._private__seriesRowsBySeries.delete(t),this._private__seriesLastTimePoint.delete(t))}_private__cleanupPointsData(){for(const t of this._private__sortedTimePoints)0===t.pointData._internal_mapping.size&&this._private__pointDataByTimePoint.delete(this._private__horzScaleBehavior.key(t.time))}_private__replaceTimeScalePoints(t){let e=-1;for(let i=0;i<this._private__sortedTimePoints.length&&i<t.length;++i){const n=this._private__sortedTimePoints[i],r=t[i];if(this._private__horzScaleBehavior.key(n.time)!==this._private__horzScaleBehavior.key(r.time)){e=i;break}r.timeWeight=n.timeWeight,ur(r.pointData,i)}if(-1===e&&this._private__sortedTimePoints.length!==t.length&&(e=Math.min(this._private__sortedTimePoints.length,t.length)),-1===e)return-1;for(let i=e;i<t.length;++i)ur(t[i].pointData,i);return this._private__horzScaleBehavior.fillWeightsForPoints(t,e),this._private__sortedTimePoints=t,e}_private__getBaseIndex(){if(0===this._private__seriesRowsBySeries.size)return null;let t=0;return this._private__seriesRowsBySeries.forEach(e=>{0!==e.length&&(t=Math.max(t,e[e.length-1]._internal_index))}),t}_private__getUpdateResponse(t,e,i){const n={_internal_series:new Map,_internal_timeScale:{_internal_baseIndex:this._private__getBaseIndex()}};if(-1!==e)this._private__seriesRowsBySeries.forEach((e,r)=>{n._internal_series.set(r,{_internal_data:e,_internal_info:r===t?i:void 0})}),this._private__seriesRowsBySeries.has(t)||n._internal_series.set(t,{_internal_data:[],_internal_info:i}),n._internal_timeScale._internal_points=this._private__sortedTimePoints,n._internal_timeScale._internal_firstChangedPointIndex=e;else{const e=this._private__seriesRowsBySeries.get(t);n._internal_series.set(t,{_internal_data:e||[],_internal_info:i})}return n}}function ur(t,e){t._internal_index=e,t._internal_mapping.forEach(t=>{t._internal_index=e})}function hr(t){const e={value:t._internal_value[3],time:t._internal_originalTime};return void 0!==t._internal_customValues&&(e.customValues=t._internal_customValues),e}function pr(t){const e=hr(t);return void 0!==t._internal_color&&(e.color=t._internal_color),e}function dr(t){const e=hr(t);return void 0!==t._internal_lineColor&&(e.lineColor=t._internal_lineColor),void 0!==t._internal_topColor&&(e.topColor=t._internal_topColor),void 0!==t._internal_bottomColor&&(e.bottomColor=t._internal_bottomColor),e}function fr(t){const e=hr(t);return void 0!==t._internal_topLineColor&&(e.topLineColor=t._internal_topLineColor),void 0!==t._internal_bottomLineColor&&(e.bottomLineColor=t._internal_bottomLineColor),void 0!==t._internal_topFillColor1&&(e.topFillColor1=t._internal_topFillColor1),void 0!==t._internal_topFillColor2&&(e.topFillColor2=t._internal_topFillColor2),void 0!==t._internal_bottomFillColor1&&(e.bottomFillColor1=t._internal_bottomFillColor1),void 0!==t._internal_bottomFillColor2&&(e.bottomFillColor2=t._internal_bottomFillColor2),e}function vr(t){const e={open:t._internal_value[0],high:t._internal_value[1],low:t._internal_value[2],close:t._internal_value[3],time:t._internal_originalTime};return void 0!==t._internal_customValues&&(e.customValues=t._internal_customValues),e}function mr(t){const e=vr(t);return void 0!==t._internal_color&&(e.color=t._internal_color),e}function gr(t){const e=vr(t),{_internal_color:i,_internal_borderColor:n,_internal_wickColor:r}=t;return void 0!==i&&(e.color=i),void 0!==n&&(e.borderColor=n),void 0!==r&&(e.wickColor=r),e}function br(t){return{Area:dr,Line:pr,Baseline:fr,Histogram:pr,Bar:mr,Candlestick:gr,Custom:yr}[t]}function yr(t){const e=t._internal_originalTime;return Object.assign(Object.assign({},t._internal_data),{time:e})}const wr={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Sr={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},xr={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Y,attributionLogo:!0},Tr={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Cr={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},kr={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Y,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function Ir(){return{width:0,height:0,autoSize:!1,layout:xr,crosshair:wr,grid:Sr,overlayPriceScales:Object.assign({},Tr),leftPriceScale:Object.assign(Object.assign({},Tr),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Tr),{visible:!0}),timeScale:Cr,watermark:kr,localization:{locale:on?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Mr{constructor(t,e){this._private__chartWidget=t,this._private__priceScaleId=e}applyOptions(t){this._private__chartWidget._internal_model()._internal_applyPriceScaleOptions(this._private__priceScaleId,t)}options(){return this._private__priceScale()._internal_options()}width(){return mt(this._private__priceScaleId)?this._private__chartWidget._internal_getPriceAxisWidth(this._private__priceScaleId):0}_private__priceScale(){return T(this._private__chartWidget._internal_model()._internal_findPriceScale(this._private__priceScaleId))._internal_priceScale}}function Er(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===t.length)return;let n=e.key(t[0].time);for(let r=1;r<t.length;++r){const a=e.key(t[r].time);S(i?n<=a:n<a,"data must be asc ordered by time, index=".concat(r,", time=").concat(a,", prev time=").concat(n)),n=a}}function Pr(t,e){e.forEach(function(t){switch(t){case"Bar":case"Candlestick":return Br.bind(null,t);case"Area":case"Baseline":case"Line":case"Histogram":return Ar.bind(null,t);case"Custom":return Or.bind(null,t)}}(t))}function Br(t,e){qn(e)&&(S("number"===typeof e.open,"".concat(t," series item data value of open must be a number, got=").concat(typeof e.open,", value=").concat(e.open)),S("number"===typeof e.high,"".concat(t," series item data value of high must be a number, got=").concat(typeof e.high,", value=").concat(e.high)),S("number"===typeof e.low,"".concat(t," series item data value of low must be a number, got=").concat(typeof e.low,", value=").concat(e.low)),S("number"===typeof e.close,"".concat(t," series item data value of close must be a number, got=").concat(typeof e.close,", value=").concat(e.close)))}function Ar(t,e){Xn(e)&&S("number"===typeof e.value,"".concat(t," series item data value must be a number, got=").concat(typeof e.value,", value=").concat(e.value))}function Or(){}function Dr(t,e,i){const n=Qn(t,["time","originalTime"]),r=Object.assign({time:e},n);return void 0!==i&&(r.originalTime=i),r}const Rr={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Lr{constructor(t){this._private__priceLine=t}applyOptions(t){this._private__priceLine._internal_applyOptions(t)}options(){return this._private__priceLine._internal_options()}_internal_priceLine(){return this._private__priceLine}}class zr{constructor(t,e,i,n,r){this._private__dataChangedDelegate=new L,this._internal__series=t,this._internal__dataUpdatesConsumer=e,this._private__priceScaleApiProvider=i,this._private__horzScaleBehavior=r,this._internal__chartApi=n}_internal_destroy(){this._private__dataChangedDelegate._internal_destroy()}priceFormatter(){return this._internal__series._internal_formatter()}priceToCoordinate(t){const e=this._internal__series._internal_firstValue();return null===e?null:this._internal__series._internal_priceScale()._internal_priceToCoordinate(t,e._internal_value)}coordinateToPrice(t){const e=this._internal__series._internal_firstValue();return null===e?null:this._internal__series._internal_priceScale()._internal_coordinateToPrice(t,e._internal_value)}barsInLogicalRange(t){if(null===t)return null;const e=new Pi(new Ii(t.from,t.to))._internal_strictRange(),i=this._internal__series._internal_bars();if(i._internal_isEmpty())return null;const n=i._internal_search(e._internal_left(),1),r=i._internal_search(e._internal_right(),-1),a=T(i._internal_firstIndex()),s=T(i._internal_lastIndex());if(null!==n&&null!==r&&n._internal_index>r._internal_index)return{barsBefore:t.from-a,barsAfter:s-t.to};const l={barsBefore:null===n||n._internal_index===a?t.from-a:n._internal_index-a,barsAfter:null===r||r._internal_index===s?s-t.to:s-r._internal_index};return null!==n&&null!==r&&(l.from=n._internal_originalTime,l.to=r._internal_originalTime),l}setData(t){Er(t,this._private__horzScaleBehavior),Pr(this._internal__series._internal_seriesType(),t),this._internal__dataUpdatesConsumer._internal_applyNewData(this._internal__series,t),this._private__onDataChanged("full")}update(t){Pr(this._internal__series._internal_seriesType(),[t]),this._internal__dataUpdatesConsumer._internal_updateData(this._internal__series,t),this._private__onDataChanged("update")}dataByIndex(t,e){const i=this._internal__series._internal_bars()._internal_search(t,e);if(null===i)return null;return br(this.seriesType())(i)}data(){const t=br(this.seriesType());return this._internal__series._internal_bars()._internal_rows().map(e=>t(e))}subscribeDataChanged(t){this._private__dataChangedDelegate._internal_subscribe(t)}unsubscribeDataChanged(t){this._private__dataChangedDelegate._internal_unsubscribe(t)}setMarkers(t){Er(t,this._private__horzScaleBehavior,!0);const e=t.map(t=>Dr(t,this._private__horzScaleBehavior.convertHorzItemToInternal(t.time),t.time));this._internal__series._internal_setMarkers(e)}markers(){return this._internal__series._internal_markers().map(t=>Dr(t,t.originalTime,void 0))}applyOptions(t){this._internal__series._internal_applyOptions(t)}options(){return W(this._internal__series._internal_options())}priceScale(){return this._private__priceScaleApiProvider.priceScale(this._internal__series._internal_priceScale()._internal_id())}createPriceLine(t){!function(t){S("number"===typeof t.price,"the type of 'price' price line's property must be a number, got '".concat(typeof t.price,"'"))}(t);const e=z(W(Rr),t),i=this._internal__series._internal_createPriceLine(e);return new Lr(i)}removePriceLine(t){this._internal__series._internal_removePriceLine(t._internal_priceLine())}seriesType(){return this._internal__series._internal_seriesType()}attachPrimitive(t){this._internal__series._internal_attachPrimitive(t),t.attached&&t.attached({chart:this._internal__chartApi,series:this,requestUpdate:()=>this._internal__series._internal_model()._internal_fullUpdate()})}detachPrimitive(t){this._internal__series._internal_detachPrimitive(t),t.detached&&t.detached()}_private__onDataChanged(t){this._private__dataChangedDelegate._internal_hasListeners()&&this._private__dataChangedDelegate._internal_fire(t)}}class Fr{constructor(t,e,i){this._private__timeRangeChanged=new L,this._private__logicalRangeChanged=new L,this._private__sizeChanged=new L,this._private__model=t,this._private__timeScale=t._internal_timeScale(),this._private__timeAxisWidget=e,this._private__timeScale._internal_visibleBarsChanged()._internal_subscribe(this._private__onVisibleBarsChanged.bind(this)),this._private__timeScale._internal_logicalRangeChanged()._internal_subscribe(this._private__onVisibleLogicalRangeChanged.bind(this)),this._private__timeAxisWidget._internal_sizeChanged()._internal_subscribe(this._private__onSizeChanged.bind(this)),this._private__horzScaleBehavior=i}_internal_destroy(){this._private__timeScale._internal_visibleBarsChanged()._internal_unsubscribeAll(this),this._private__timeScale._internal_logicalRangeChanged()._internal_unsubscribeAll(this),this._private__timeAxisWidget._internal_sizeChanged()._internal_unsubscribeAll(this),this._private__timeRangeChanged._internal_destroy(),this._private__logicalRangeChanged._internal_destroy(),this._private__sizeChanged._internal_destroy()}scrollPosition(){return this._private__timeScale._internal_rightOffset()}scrollToPosition(t,e){e?this._private__timeScale._internal_scrollToOffsetAnimated(t,1e3):this._private__model._internal_setRightOffset(t)}scrollToRealTime(){this._private__timeScale._internal_scrollToRealTime()}getVisibleRange(){const t=this._private__timeScale._internal_visibleTimeRange();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this._private__horzScaleBehavior.convertHorzItemToInternal(t.from),to:this._private__horzScaleBehavior.convertHorzItemToInternal(t.to)},i=this._private__timeScale._internal_logicalRangeForTimeRange(e);this._private__model._internal_setTargetLogicalRange(i)}getVisibleLogicalRange(){const t=this._private__timeScale._internal_visibleLogicalRange();return null===t?null:{from:t._internal_left(),to:t._internal_right()}}setVisibleLogicalRange(t){S(t.from<=t.to,"The from index cannot be after the to index."),this._private__model._internal_setTargetLogicalRange(t)}resetTimeScale(){this._private__model._internal_resetTimeScale()}fitContent(){this._private__model._internal_fitContent()}logicalToCoordinate(t){const e=this._private__model._internal_timeScale();return e._internal_isEmpty()?null:e._internal_indexToCoordinate(t)}coordinateToLogical(t){return this._private__timeScale._internal_isEmpty()?null:this._private__timeScale._internal_coordinateToIndex(t)}timeToCoordinate(t){const e=this._private__horzScaleBehavior.convertHorzItemToInternal(t),i=this._private__timeScale._internal_timeToIndex(e,!1);return null===i?null:this._private__timeScale._internal_indexToCoordinate(i)}coordinateToTime(t){const e=this._private__model._internal_timeScale(),i=e._internal_coordinateToIndex(t),n=e._internal_indexToTimeScalePoint(i);return null===n?null:n.originalTime}width(){return this._private__timeAxisWidget._internal_getSize().width}height(){return this._private__timeAxisWidget._internal_getSize().height}subscribeVisibleTimeRangeChange(t){this._private__timeRangeChanged._internal_subscribe(t)}unsubscribeVisibleTimeRangeChange(t){this._private__timeRangeChanged._internal_unsubscribe(t)}subscribeVisibleLogicalRangeChange(t){this._private__logicalRangeChanged._internal_subscribe(t)}unsubscribeVisibleLogicalRangeChange(t){this._private__logicalRangeChanged._internal_unsubscribe(t)}subscribeSizeChange(t){this._private__sizeChanged._internal_subscribe(t)}unsubscribeSizeChange(t){this._private__sizeChanged._internal_unsubscribe(t)}applyOptions(t){this._private__timeScale._internal_applyOptions(t)}options(){return Object.assign(Object.assign({},W(this._private__timeScale._internal_options())),{barSpacing:this._private__timeScale._internal_barSpacing()})}_private__onVisibleBarsChanged(){this._private__timeRangeChanged._internal_hasListeners()&&this._private__timeRangeChanged._internal_fire(this.getVisibleRange())}_private__onVisibleLogicalRangeChanged(){this._private__logicalRangeChanged._internal_hasListeners()&&this._private__logicalRangeChanged._internal_fire(this.getVisibleLogicalRange())}_private__onSizeChanged(t){this._private__sizeChanged._internal_fire(t.width,t.height)}}function Vr(t){if(void 0===t||"custom"===t.type)return;const e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}(e.minMove))}function Nr(t){return function(t){if(U(t.handleScale)){const e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){const{axisPressedMouseMove:e,axisDoubleClickReset:i}=t.handleScale;U(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),U(i)&&(t.handleScale.axisDoubleClickReset={time:i,price:i})}const e=t.handleScroll;U(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class Ur{constructor(t,e,i){this._private__seriesMap=new Map,this._private__seriesMapReversed=new Map,this._private__clickedDelegate=new L,this._private__dblClickedDelegate=new L,this._private__crosshairMovedDelegate=new L,this._private__dataLayer=new cr(e);const n=void 0===i?W(Ir()):z(W(Ir()),Nr(i));this._private__horzScaleBehavior=e,this._private__chartWidget=new $n(t,n,e),this._private__chartWidget._internal_clicked()._internal_subscribe(t=>{this._private__clickedDelegate._internal_hasListeners()&&this._private__clickedDelegate._internal_fire(this._private__convertMouseParams(t()))},this),this._private__chartWidget._internal_dblClicked()._internal_subscribe(t=>{this._private__dblClickedDelegate._internal_hasListeners()&&this._private__dblClickedDelegate._internal_fire(this._private__convertMouseParams(t()))},this),this._private__chartWidget._internal_crosshairMoved()._internal_subscribe(t=>{this._private__crosshairMovedDelegate._internal_hasListeners()&&this._private__crosshairMovedDelegate._internal_fire(this._private__convertMouseParams(t()))},this);const r=this._private__chartWidget._internal_model();this._private__timeScaleApi=new Fr(r,this._private__chartWidget._internal_timeAxisWidget(),this._private__horzScaleBehavior)}remove(){this._private__chartWidget._internal_clicked()._internal_unsubscribeAll(this),this._private__chartWidget._internal_dblClicked()._internal_unsubscribeAll(this),this._private__chartWidget._internal_crosshairMoved()._internal_unsubscribeAll(this),this._private__timeScaleApi._internal_destroy(),this._private__chartWidget._internal_destroy(),this._private__seriesMap.clear(),this._private__seriesMapReversed.clear(),this._private__clickedDelegate._internal_destroy(),this._private__dblClickedDelegate._internal_destroy(),this._private__crosshairMovedDelegate._internal_destroy(),this._private__dataLayer._internal_destroy()}resize(t,e,i){this.autoSizeActive()?un("Height and width values ignored because 'autoSize' option is enabled."):this._private__chartWidget._internal_resize(t,e,i)}addCustomSeries(t,e){const i=C(t),n=Object.assign(Object.assign({},v),i.defaultOptions());return this._private__addSeriesImpl("Custom",n,e,i)}addAreaSeries(t){return this._private__addSeriesImpl("Area",p,t)}addBaselineSeries(t){return this._private__addSeriesImpl("Baseline",d,t)}addBarSeries(t){return this._private__addSeriesImpl("Bar",u,t)}addCandlestickSeries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(t),this._private__addSeriesImpl("Candlestick",c,t)}addHistogramSeries(t){return this._private__addSeriesImpl("Histogram",f,t)}addLineSeries(t){return this._private__addSeriesImpl("Line",h,t)}removeSeries(t){const e=x(this._private__seriesMap.get(t)),i=this._private__dataLayer._internal_removeSeries(e);this._private__chartWidget._internal_model()._internal_removeSeries(e),this._private__sendUpdateToChart(i),this._private__seriesMap.delete(t),this._private__seriesMapReversed.delete(e)}_internal_applyNewData(t,e){this._private__sendUpdateToChart(this._private__dataLayer._internal_setSeriesData(t,e))}_internal_updateData(t,e){this._private__sendUpdateToChart(this._private__dataLayer._internal_updateSeriesData(t,e))}subscribeClick(t){this._private__clickedDelegate._internal_subscribe(t)}unsubscribeClick(t){this._private__clickedDelegate._internal_unsubscribe(t)}subscribeCrosshairMove(t){this._private__crosshairMovedDelegate._internal_subscribe(t)}unsubscribeCrosshairMove(t){this._private__crosshairMovedDelegate._internal_unsubscribe(t)}subscribeDblClick(t){this._private__dblClickedDelegate._internal_subscribe(t)}unsubscribeDblClick(t){this._private__dblClickedDelegate._internal_unsubscribe(t)}priceScale(t){return new Mr(this._private__chartWidget,t)}timeScale(){return this._private__timeScaleApi}applyOptions(t){this._private__chartWidget._internal_applyOptions(Nr(t))}options(){return this._private__chartWidget._internal_options()}takeScreenshot(){return this._private__chartWidget._internal_takeScreenshot()}autoSizeActive(){return this._private__chartWidget._internal_autoSizeActive()}chartElement(){return this._private__chartWidget._internal_element()}paneSize(){const t=this._private__chartWidget._internal_paneSize();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,i){const n=this._private__seriesMap.get(i);if(void 0===n)return;const r=this._private__chartWidget._internal_model()._internal_paneForSource(n);null!==r&&this._private__chartWidget._internal_model()._internal_setAndSaveSyntheticPosition(t,e,r)}clearCrosshairPosition(){this._private__chartWidget._internal_model()._internal_clearCurrentPosition(!0)}_private__addSeriesImpl(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;Vr(i.priceFormat);const r=z(W(m),W(e),i),a=this._private__chartWidget._internal_model()._internal_createSeries(t,r,n),s=new zr(a,this,this,this,this._private__horzScaleBehavior);return this._private__seriesMap.set(s,a),this._private__seriesMapReversed.set(a,s),s}_private__sendUpdateToChart(t){const e=this._private__chartWidget._internal_model();e._internal_updateTimeScale(t._internal_timeScale._internal_baseIndex,t._internal_timeScale._internal_points,t._internal_timeScale._internal_firstChangedPointIndex),t._internal_series.forEach((t,e)=>e._internal_setData(t._internal_data,t._internal_info)),e._internal_recalculateAllPanes()}_private__mapSeriesToApi(t){return x(this._private__seriesMapReversed.get(t))}_private__convertMouseParams(t){const e=new Map;t._internal_seriesData.forEach((t,i)=>{const n=i._internal_seriesType(),r=br(n)(t);if("Custom"!==n)S(function(t){return qn(t)||Xn(t)}(r));else{const t=i._internal_customSeriesWhitespaceCheck();S(!t||!1===t(r))}e.set(this._private__mapSeriesToApi(i),r)});const i=void 0!==t._internal_hoveredSeries&&this._private__seriesMapReversed.has(t._internal_hoveredSeries)?this._private__mapSeriesToApi(t._internal_hoveredSeries):void 0;return{time:t._internal_originalTime,logical:t._internal_index,point:t._internal_point,hoveredSeries:i,hoveredObjectId:t._internal_hoveredObject,seriesData:e,sourceEvent:t._internal_touchMouseEventData}}}function Wr(t,e){return function(t,e,i){let n;if(N(t)){const e=document.getElementById(t);S(null!==e,"Cannot find element in DOM with id=".concat(t)),n=e}else n=t;const r=new Ur(n,e,i);return e.setOptions(r.options()),r}(t,new ln,ln._internal_applyDefaults(e))}Object.assign(Object.assign({},m),v)},,function(t,e,i){"use strict";var n=i(3),r="function"===typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,l=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,_=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,d=r?Symbol.for("react.memo"):60115,f=r?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function m(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function y(t,e,i){this.props=t,this.context=e,this.refs=b,this.updater=i||g}function w(){}function S(t,e,i){this.props=t,this.context=e,this.refs=b,this.updater=i||g}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(m(85));this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=y.prototype;var x=S.prototype=new w;x.constructor=S,n(x,y.prototype),x.isPureReactComponent=!0;var T={current:null},C=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function I(t,e,i){var n,r={},s=null,l=null;if(null!=e)for(n in void 0!==e.ref&&(l=e.ref),void 0!==e.key&&(s=""+e.key),e)C.call(e,n)&&!k.hasOwnProperty(n)&&(r[n]=e[n]);var o=arguments.length-2;if(1===o)r.children=i;else if(1<o){for(var _=Array(o),c=0;c<o;c++)_[c]=arguments[c+2];r.children=_}if(t&&t.defaultProps)for(n in o=t.defaultProps)void 0===r[n]&&(r[n]=o[n]);return{$$typeof:a,type:t,key:s,ref:l,props:r,_owner:T.current}}function M(t){return"object"===typeof t&&null!==t&&t.$$typeof===a}var E=/\/+/g,P=[];function B(t,e,i,n){if(P.length){var r=P.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function A(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>P.length&&P.push(t)}function O(t,e,i){return null==t?0:function t(e,i,n,r){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case a:case s:o=!0}}if(o)return n(r,e,""===i?"."+D(e,0):i),1;if(o=0,i=""===i?".":i+":",Array.isArray(e))for(var _=0;_<e.length;_++){var c=i+D(l=e[_],_);o+=t(l,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=v&&e[v]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),_=0;!(l=e.next()).done;)o+=t(l=l.value,c=i+D(l,_++),n,r);else if("object"===l)throw n=""+e,Error(m(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return o}(t,"",e,i)}function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function R(t,e){t.func.call(t.context,e,t.count++)}function L(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?z(t,n,i,(function(t){return t})):null!=t&&(M(t)&&(t=function(t,e){return{$$typeof:a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(E,"$&/")+"/")+i)),n.push(t))}function z(t,e,i,n,r){var a="";null!=i&&(a=(""+i).replace(E,"$&/")+"/"),O(t,L,e=B(e,a,n,r)),A(e)}var F={current:null};function V(){var t=F.current;if(null===t)throw Error(m(321));return t}var N={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:function(t,e,i){if(null==t)return t;var n=[];return z(t,n,null,e,i),n},forEach:function(t,e,i){if(null==t)return t;O(t,R,e=B(null,null,e,i)),A(e)},count:function(t){return O(t,(function(){return null}),null)},toArray:function(t){var e=[];return z(t,e,null,(function(t){return t})),e},only:function(t){if(!M(t))throw Error(m(143));return t}},e.Component=y,e.Fragment=l,e.Profiler=_,e.PureComponent=S,e.StrictMode=o,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error(m(267,t));var r=n({},t.props),s=t.key,l=t.ref,o=t._owner;if(null!=e){if(void 0!==e.ref&&(l=e.ref,o=T.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var _=t.type.defaultProps;for(c in e)C.call(e,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==_?_[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){_=Array(c);for(var u=0;u<c;u++)_[u]=arguments[u+2];r.children=_}return{$$typeof:a,type:t.type,key:s,ref:l,props:r,_owner:o}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:u,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=I,e.createFactory=function(t){var e=I.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=M,e.lazy=function(t){return{$$typeof:f,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return V().useCallback(t,e)},e.useContext=function(t,e){return V().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return V().useEffect(t,e)},e.useImperativeHandle=function(t,e,i){return V().useImperativeHandle(t,e,i)},e.useLayoutEffect=function(t,e){return V().useLayoutEffect(t,e)},e.useMemo=function(t,e){return V().useMemo(t,e)},e.useReducer=function(t,e,i){return V().useReducer(t,e,i)},e.useRef=function(t){return V().useRef(t)},e.useState=function(t){return V().useState(t)},e.version="16.14.0"},function(t,e,i){"use strict";var n=i(1),r=i(3),a=i(13);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(s(227));function l(t,e,i,n,r,a,s,l,o){var _=Array.prototype.slice.call(arguments,3);try{e.apply(i,_)}catch(c){this.onError(c)}}var o=!1,_=null,c=!1,u=null,h={onError:function(t){o=!0,_=t}};function p(t,e,i,n,r,a,s,c,u){o=!1,_=null,l.apply(h,arguments)}var d=null,f=null,v=null;function m(t,e,i){var n=t.type||"unknown-event";t.currentTarget=v(i),function(t,e,i,n,r,a,l,h,d){if(p.apply(this,arguments),o){if(!o)throw Error(s(198));var f=_;o=!1,_=null,c||(c=!0,u=f)}}(n,e,void 0,t),t.currentTarget=null}var g=null,b={};function y(){if(g)for(var t in b){var e=b[t],i=g.indexOf(t);if(!(-1<i))throw Error(s(96,t));if(!S[i]){if(!e.extractEvents)throw Error(s(97,t));for(var n in S[i]=e,i=e.eventTypes){var r=void 0,a=i[n],l=e,o=n;if(x.hasOwnProperty(o))throw Error(s(99,o));x[o]=a;var _=a.phasedRegistrationNames;if(_){for(r in _)_.hasOwnProperty(r)&&w(_[r],l,o);r=!0}else a.registrationName?(w(a.registrationName,l,o),r=!0):r=!1;if(!r)throw Error(s(98,n,t))}}}}function w(t,e,i){if(T[t])throw Error(s(100,t));T[t]=e,C[t]=e.eventTypes[i].dependencies}var S=[],x={},T={},C={};function k(t){var e,i=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(!b.hasOwnProperty(e)||b[e]!==n){if(b[e])throw Error(s(102,e));b[e]=n,i=!0}}i&&y()}var I=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),M=null,E=null,P=null;function B(t){if(t=f(t)){if("function"!==typeof M)throw Error(s(280));var e=t.stateNode;e&&(e=d(e),M(t.stateNode,t.type,e))}}function A(t){E?P?P.push(t):P=[t]:E=t}function O(){if(E){var t=E,e=P;if(P=E=null,B(t),e)for(t=0;t<e.length;t++)B(e[t])}}function D(t,e){return t(e)}function R(t,e,i,n,r){return t(e,i,n,r)}function L(){}var z=D,F=!1,V=!1;function N(){null===E&&null===P||(L(),O())}function U(t,e,i){if(V)return t(e,i);V=!0;try{return z(t,e,i)}finally{V=!1,N()}}var W=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j=Object.prototype.hasOwnProperty,H={},Y={};function $(t,e,i,n,r,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=a}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){K[t]=new $(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];K[e]=new $(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){K[t]=new $(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){K[t]=new $(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){K[t]=new $(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){K[t]=new $(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){K[t]=new $(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){K[t]=new $(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){K[t]=new $(t,5,!1,t.toLowerCase(),null,!1)}));var q=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(q,X);K[e]=new $(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(q,X);K[e]=new $(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(q,X);K[e]=new $(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){K[t]=new $(t,1,!1,t.toLowerCase(),null,!1)})),K.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){K[t]=new $(t,1,!1,t.toLowerCase(),null,!0)}));var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function G(t,e,i,n){var r=K.hasOwnProperty(e)?K[e]:null;(null!==r?0===r.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,n)&&(i=null),n||null===r?function(t){return!!j.call(Y,t)||!j.call(H,t)&&(W.test(t)?Y[t]=!0:(H[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,n=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,tt=J?Symbol.for("react.element"):60103,et=J?Symbol.for("react.portal"):60106,it=J?Symbol.for("react.fragment"):60107,nt=J?Symbol.for("react.strict_mode"):60108,rt=J?Symbol.for("react.profiler"):60114,at=J?Symbol.for("react.provider"):60109,st=J?Symbol.for("react.context"):60110,lt=J?Symbol.for("react.concurrent_mode"):60111,ot=J?Symbol.for("react.forward_ref"):60112,_t=J?Symbol.for("react.suspense"):60113,ct=J?Symbol.for("react.suspense_list"):60120,ut=J?Symbol.for("react.memo"):60115,ht=J?Symbol.for("react.lazy"):60116,pt=J?Symbol.for("react.block"):60121,dt="function"===typeof Symbol&&Symbol.iterator;function ft(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=dt&&t[dt]||t["@@iterator"])?t:null}function vt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case it:return"Fragment";case et:return"Portal";case rt:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case ct:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case st:return"Context.Consumer";case at:return"Context.Provider";case ot:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ut:return vt(t.type);case pt:return vt(t.render);case ht:if(t=1===t._status?t._result:null)return vt(t)}return null}function mt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break t;default:var n=t._debugOwner,r=t._debugSource,a=vt(t.type);i=null,n&&(i=vt(n.type)),n=a,a="",r?a=" (at "+r.fileName.replace(Z,"")+":"+r.lineNumber+")":i&&(a=" (created by "+i+")"),i="\n    in "+(n||"Unknown")+a}e+=i,t=t.return}while(t);return e}function gt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function bt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function yt(t){t._valueTracker||(t._valueTracker=function(t){var e=bt(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){n=""+t,a.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=bt(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function St(t,e){var i=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function xt(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=gt(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Tt(t,e){null!=(e=e.checked)&&G(t,"checked",e,!1)}function Ct(t,e){Tt(t,e);var i=gt(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?It(t,e.type,i):e.hasOwnProperty("defaultValue")&&It(t,e.type,gt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function kt(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function It(t,e,i){"number"===e&&t.ownerDocument.activeElement===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function Mt(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Et(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+gt(i),e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(n&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Pt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(s(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(s(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:gt(i)}}function At(t,e){var i=gt(e.value),n=gt(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function Ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Dt="http://www.w3.org/1999/xhtml",Rt="http://www.w3.org/2000/svg";function Lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Lt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ft,Vt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction((function(){return t(e,i)}))}:t}((function(t,e){if(t.namespaceURI!==Rt||"innerHTML"in t)t.innerHTML=e;else{for((Ft=Ft||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ft.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Nt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}function Ut(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Wt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},jt={},Ht={};function Yt(t){if(jt[t])return jt[t];if(!Wt[t])return t;var e,i=Wt[t];for(e in i)if(i.hasOwnProperty(e)&&e in Ht)return jt[t]=i[e];return t}I&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete Wt.animationend.animation,delete Wt.animationiteration.animation,delete Wt.animationstart.animation),"TransitionEvent"in window||delete Wt.transitionend.transition);var $t=Yt("animationend"),Kt=Yt("animationiteration"),qt=Yt("animationstart"),Xt=Yt("transitionend"),Qt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gt=new("function"===typeof WeakMap?WeakMap:Map);function Zt(t){var e=Gt.get(t);return void 0===e&&(e=new Map,Gt.set(t,e)),e}function Jt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Jt(t)!==t)throw Error(s(188))}function ie(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Jt(t)))throw Error(s(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(n=r.return)){i=n;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===i)return ee(r),t;if(a===n)return ee(r),e;a=a.sibling}throw Error(s(188))}if(i.return!==n.return)i=r,n=a;else{for(var l=!1,o=r.child;o;){if(o===i){l=!0,i=r,n=a;break}if(o===n){l=!0,n=r,i=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===i){l=!0,i=a,n=r;break}if(o===n){l=!0,n=a,i=r;break}o=o.sibling}if(!l)throw Error(s(189))}}if(i.alternate!==n)throw Error(s(190))}if(3!==i.tag)throw Error(s(188));return i.stateNode.current===i?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ne(t,e){if(null==e)throw Error(s(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function re(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var ae=null;function se(t){if(t){var e=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)m(t,e[n],i[n]);else e&&m(t,e,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function le(t){if(null!==t&&(ae=ne(ae,t)),t=ae,ae=null,t){if(re(t,se),ae)throw Error(s(95));if(c)throw t=u,c=!1,u=null,t}}function oe(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function _e(t){if(!I)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ce=[];function ue(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ce.length&&ce.push(t)}function he(t,e,i,n){if(ce.length){var r=ce.pop();return r.topLevelType=t,r.eventSystemFlags=n,r.nativeEvent=e,r.targetInst=i,r}return{topLevelType:t,eventSystemFlags:n,nativeEvent:e,targetInst:i,ancestors:[]}}function pe(t){var e=t.targetInst,i=e;do{if(!i){t.ancestors.push(i);break}var n=i;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(e=i.tag)&&6!==e||t.ancestors.push(i),i=ki(n)}while(i);for(i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var r=oe(t.nativeEvent);n=t.topLevelType;var a=t.nativeEvent,s=t.eventSystemFlags;0===i&&(s|=64);for(var l=null,o=0;o<S.length;o++){var _=S[o];_&&(_=_.extractEvents(n,e,a,r,s))&&(l=ne(l,_))}le(l)}}function de(t,e,i){if(!i.has(t)){switch(t){case"scroll":qe(e,"scroll",!0);break;case"focus":case"blur":qe(e,"focus",!0),qe(e,"blur",!0),i.set("blur",null),i.set("focus",null);break;case"cancel":case"close":_e(t)&&qe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qt.indexOf(t)&&Ke(t,e)}i.set(t,null)}}var fe,ve,me,ge=!1,be=[],ye=null,we=null,Se=null,xe=new Map,Te=new Map,Ce=[],ke="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ie="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Me(t,e,i,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|i,nativeEvent:r,container:n}}function Ee(t,e){switch(t){case"focus":case"blur":ye=null;break;case"dragenter":case"dragleave":we=null;break;case"mouseover":case"mouseout":Se=null;break;case"pointerover":case"pointerout":xe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(e.pointerId)}}function Pe(t,e,i,n,r,a){return null===t||t.nativeEvent!==a?(t=Me(e,i,n,r,a),null!==e&&(null!==(e=Ii(e))&&ve(e)),t):(t.eventSystemFlags|=n,t)}function Be(t){var e=ki(t.target);if(null!==e){var i=Jt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=te(i)))return t.blockedOn=e,void a.unstable_runWithPriority(t.priority,(function(){me(i)}))}else if(3===e&&i.stateNode.hydrate)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function Ae(t){if(null!==t.blockedOn)return!1;var e=Ze(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var i=Ii(e);return null!==i&&ve(i),t.blockedOn=e,!1}return!0}function Oe(t,e,i){Ae(t)&&i.delete(e)}function De(){for(ge=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=Ii(t.blockedOn))&&fe(t);break}var e=Ze(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==ye&&Ae(ye)&&(ye=null),null!==we&&Ae(we)&&(we=null),null!==Se&&Ae(Se)&&(Se=null),xe.forEach(Oe),Te.forEach(Oe)}function Re(t,e){t.blockedOn===e&&(t.blockedOn=null,ge||(ge=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,De)))}function Le(t){function e(e){return Re(e,t)}if(0<be.length){Re(be[0],t);for(var i=1;i<be.length;i++){var n=be[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==ye&&Re(ye,t),null!==we&&Re(we,t),null!==Se&&Re(Se,t),xe.forEach(e),Te.forEach(e),i=0;i<Ce.length;i++)(n=Ce[i]).blockedOn===t&&(n.blockedOn=null);for(;0<Ce.length&&null===(i=Ce[0]).blockedOn;)Be(i),null===i.blockedOn&&Ce.shift()}var ze={},Fe=new Map,Ve=new Map,Ne=["abort","abort",$t,"animationEnd",Kt,"animationIteration",qt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xt,"transitionEnd","waiting","waiting"];function Ue(t,e){for(var i=0;i<t.length;i+=2){var n=t[i],r=t[i+1],a="on"+(r[0].toUpperCase()+r.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[n],eventPriority:e},Ve.set(n,e),Fe.set(n,a),ze[r]=a}}Ue("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ue("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ue(Ne,2);for(var We="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),je=0;je<We.length;je++)Ve.set(We[je],0);var He=a.unstable_UserBlockingPriority,Ye=a.unstable_runWithPriority,$e=!0;function Ke(t,e){qe(e,t,!1)}function qe(t,e,i){var n=Ve.get(e);switch(void 0===n?2:n){case 0:n=Xe.bind(null,e,1,t);break;case 1:n=Qe.bind(null,e,1,t);break;default:n=Ge.bind(null,e,1,t)}i?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function Xe(t,e,i,n){F||L();var r=Ge,a=F;F=!0;try{R(r,t,e,i,n)}finally{(F=a)||N()}}function Qe(t,e,i,n){Ye(He,Ge.bind(null,t,e,i,n))}function Ge(t,e,i,n){if($e)if(0<be.length&&-1<ke.indexOf(t))t=Me(null,t,e,i,n),be.push(t);else{var r=Ze(t,e,i,n);if(null===r)Ee(t,n);else if(-1<ke.indexOf(t))t=Me(r,t,e,i,n),be.push(t);else if(!function(t,e,i,n,r){switch(e){case"focus":return ye=Pe(ye,t,e,i,n,r),!0;case"dragenter":return we=Pe(we,t,e,i,n,r),!0;case"mouseover":return Se=Pe(Se,t,e,i,n,r),!0;case"pointerover":var a=r.pointerId;return xe.set(a,Pe(xe.get(a)||null,t,e,i,n,r)),!0;case"gotpointercapture":return a=r.pointerId,Te.set(a,Pe(Te.get(a)||null,t,e,i,n,r)),!0}return!1}(r,t,e,i,n)){Ee(t,n),t=he(t,n,null,e);try{U(pe,t)}finally{ue(t)}}}}function Ze(t,e,i,n){if(null!==(i=ki(i=oe(n)))){var r=Jt(i);if(null===r)i=null;else{var a=r.tag;if(13===a){if(null!==(i=te(r)))return i;i=null}else if(3===a){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}t=he(t,n,i,e);try{U(pe,t)}finally{ue(t)}return null}var Je={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];function ei(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||Je.hasOwnProperty(t)&&Je[t]?(""+e).trim():e+"px"}function ii(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=ei(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}Object.keys(Je).forEach((function(t){ti.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Je[e]=Je[t]}))}));var ni=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ri(t,e){if(e){if(ni[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62,""))}}function ai(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var si=Dt;function li(t,e){var i=Zt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=C[e];for(var n=0;n<e.length;n++)de(e[n],t,i)}function oi(){}function _i(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var i,n=ci(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=ci(n)}}function hi(){for(var t=window,e=_i();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(n){i=!1}if(!i)break;e=_i((t=e.contentWindow).document)}return e}function pi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var di=null,fi=null;function vi(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function mi(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var gi="function"===typeof setTimeout?setTimeout:void 0,bi="function"===typeof clearTimeout?clearTimeout:void 0;function yi(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function wi(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var Si=Math.random().toString(36).slice(2),xi="__reactInternalInstance$"+Si,Ti="__reactEventHandlers$"+Si,Ci="__reactContainere$"+Si;function ki(t){var e=t[xi];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ci]||i[xi]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=wi(t);null!==t;){if(i=t[xi])return i;t=wi(t)}return e}i=(t=i).parentNode}return null}function Ii(t){return!(t=t[xi]||t[Ci])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Mi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function Ei(t){return t[Ti]||null}function Pi(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Bi(t,e){var i=t.stateNode;if(!i)return null;var n=d(i);if(!n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(s(231,e,typeof i));return i}function Ai(t,e,i){(e=Bi(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=ne(i._dispatchListeners,e),i._dispatchInstances=ne(i._dispatchInstances,t))}function Oi(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,i=[];e;)i.push(e),e=Pi(e);for(e=i.length;0<e--;)Ai(i[e],"captured",t);for(e=0;e<i.length;e++)Ai(i[e],"bubbled",t)}}function Di(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=Bi(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=ne(i._dispatchListeners,e),i._dispatchInstances=ne(i._dispatchInstances,t))}function Ri(t){t&&t.dispatchConfig.registrationName&&Di(t._targetInst,null,t)}function Li(t){re(t,Oi)}var zi=null,Fi=null,Vi=null;function Ni(){if(Vi)return Vi;var t,e,i=Fi,n=i.length,r="value"in zi?zi.value:zi.textContent,a=r.length;for(t=0;t<n&&i[t]===r[t];t++);var s=n-t;for(e=1;e<=s&&i[n-e]===r[a-e];e++);return Vi=r.slice(t,1<e?1-e:void 0)}function Ui(){return!0}function Wi(){return!1}function ji(t,e,i,n){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(i):"target"===r?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ui:Wi,this.isPropagationStopped=Wi,this}function Hi(t,e,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,i,n),r}return new this(t,e,i,n)}function Yi(t){if(!(t instanceof this))throw Error(s(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function $i(t){t.eventPool=[],t.getPooled=Hi,t.release=Yi}r(ji.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){this.isPersistent=Ui},isPersistent:Wi,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wi,this._dispatchInstances=this._dispatchListeners=null}}),ji.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ji.extend=function(t){function e(){}function i(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var a=new e;return r(a,i.prototype),i.prototype=a,i.prototype.constructor=i,i.Interface=r({},n.Interface,t),i.extend=n.extend,$i(i),i},$i(ji);var Ki=ji.extend({data:null}),qi=ji.extend({data:null}),Xi=[9,13,27,32],Qi=I&&"CompositionEvent"in window,Gi=null;I&&"documentMode"in document&&(Gi=document.documentMode);var Zi=I&&"TextEvent"in window&&!Gi,Ji=I&&(!Qi||Gi&&8<Gi&&11>=Gi),tn=String.fromCharCode(32),en={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},nn=!1;function rn(t,e){switch(t){case"keyup":return-1!==Xi.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function an(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var sn=!1;var ln={eventTypes:en,extractEvents:function(t,e,i,n){var r;if(Qi)t:{switch(t){case"compositionstart":var a=en.compositionStart;break t;case"compositionend":a=en.compositionEnd;break t;case"compositionupdate":a=en.compositionUpdate;break t}a=void 0}else sn?rn(t,i)&&(a=en.compositionEnd):"keydown"===t&&229===i.keyCode&&(a=en.compositionStart);return a?(Ji&&"ko"!==i.locale&&(sn||a!==en.compositionStart?a===en.compositionEnd&&sn&&(r=Ni()):(Fi="value"in(zi=n)?zi.value:zi.textContent,sn=!0)),a=Ki.getPooled(a,e,i,n),r?a.data=r:null!==(r=an(i))&&(a.data=r),Li(a),r=a):r=null,(t=Zi?function(t,e){switch(t){case"compositionend":return an(e);case"keypress":return 32!==e.which?null:(nn=!0,tn);case"textInput":return(t=e.data)===tn&&nn?null:t;default:return null}}(t,i):function(t,e){if(sn)return"compositionend"===t||!Qi&&rn(t,e)?(t=Ni(),Vi=Fi=zi=null,sn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ji&&"ko"!==e.locale?null:e.data;default:return null}}(t,i))?((e=qi.getPooled(en.beforeInput,e,i,n)).data=t,Li(e)):e=null,null===r?e:null===e?r:[r,e]}},on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!on[t.type]:"textarea"===e}var cn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function un(t,e,i){return(t=ji.getPooled(cn.change,t,e,i)).type="change",A(i),Li(t),t}var hn=null,pn=null;function dn(t){le(t)}function fn(t){if(wt(Mi(t)))return t}function vn(t,e){if("change"===t)return e}var mn=!1;function gn(){hn&&(hn.detachEvent("onpropertychange",bn),pn=hn=null)}function bn(t){if("value"===t.propertyName&&fn(pn))if(t=un(pn,t,oe(t)),F)le(t);else{F=!0;try{D(dn,t)}finally{F=!1,N()}}}function yn(t,e,i){"focus"===t?(gn(),pn=i,(hn=e).attachEvent("onpropertychange",bn)):"blur"===t&&gn()}function wn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return fn(pn)}function Sn(t,e){if("click"===t)return fn(e)}function xn(t,e){if("input"===t||"change"===t)return fn(e)}I&&(mn=_e("input")&&(!document.documentMode||9<document.documentMode));var Tn={eventTypes:cn,_isInputEventSupported:mn,extractEvents:function(t,e,i,n){var r=e?Mi(e):window,a=r.nodeName&&r.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===r.type)var s=vn;else if(_n(r))if(mn)s=xn;else{s=wn;var l=yn}else(a=r.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(s=Sn);if(s&&(s=s(t,e)))return un(s,i,n);l&&l(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&It(r,"number",r.value)}},Cn=ji.extend({view:null,detail:null}),kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kn[t])&&!!e[t]}function Mn(){return In}var En=0,Pn=0,Bn=!1,An=!1,On=Cn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Mn,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=En;return En=t.screenX,Bn?"mousemove"===t.type?t.screenX-e:0:(Bn=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Pn;return Pn=t.screenY,An?"mousemove"===t.type?t.screenY-e:0:(An=!0,0)}}),Dn=On.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Rn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ln={eventTypes:Rn,extractEvents:function(t,e,i,n,r){var a="mouseover"===t||"pointerover"===t,s="mouseout"===t||"pointerout"===t;if(a&&0===(32&r)&&(i.relatedTarget||i.fromElement)||!s&&!a)return null;(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,s)?(s=e,null!==(e=(e=i.relatedTarget||i.toElement)?ki(e):null)&&(e!==Jt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):s=null;if(s===e)return null;if("mouseout"===t||"mouseover"===t)var l=On,o=Rn.mouseLeave,_=Rn.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(l=Dn,o=Rn.pointerLeave,_=Rn.pointerEnter,c="pointer");if(t=null==s?a:Mi(s),a=null==e?a:Mi(e),(o=l.getPooled(o,s,i,n)).type=c+"leave",o.target=t,o.relatedTarget=a,(i=l.getPooled(_,e,i,n)).type=c+"enter",i.target=a,i.relatedTarget=t,c=e,(n=s)&&c)t:{for(_=c,s=0,t=l=n;t;t=Pi(t))s++;for(t=0,e=_;e;e=Pi(e))t++;for(;0<s-t;)l=Pi(l),s--;for(;0<t-s;)_=Pi(_),t--;for(;s--;){if(l===_||l===_.alternate)break t;l=Pi(l),_=Pi(_)}l=null}else l=null;for(_=l,l=[];n&&n!==_&&(null===(s=n.alternate)||s!==_);)l.push(n),n=Pi(n);for(n=[];c&&c!==_&&(null===(s=c.alternate)||s!==_);)n.push(c),c=Pi(c);for(c=0;c<l.length;c++)Di(l[c],"bubbled",o);for(c=n.length;0<c--;)Di(n[c],"captured",i);return 0===(64&r)?[o]:[o,i]}};var zn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Fn=Object.prototype.hasOwnProperty;function Vn(t,e){if(zn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!Fn.call(e,i[n])||!zn(t[i[n]],e[i[n]]))return!1;return!0}var Nn=I&&"documentMode"in document&&11>=document.documentMode,Un={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wn=null,jn=null,Hn=null,Yn=!1;function $n(t,e){var i=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Yn||null==Wn||Wn!==_i(i)?null:("selectionStart"in(i=Wn)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Hn&&Vn(Hn,i)?null:(Hn=i,(t=ji.getPooled(Un.select,jn,t,e)).type="select",t.target=Wn,Li(t),t))}var Kn={eventTypes:Un,extractEvents:function(t,e,i,n,r,a){if(!(a=!(r=a||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){t:{r=Zt(r),a=C.onSelect;for(var s=0;s<a.length;s++)if(!r.has(a[s])){r=!1;break t}r=!0}a=!r}if(a)return null;switch(r=e?Mi(e):window,t){case"focus":(_n(r)||"true"===r.contentEditable)&&(Wn=r,jn=e,Hn=null);break;case"blur":Hn=jn=Wn=null;break;case"mousedown":Yn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yn=!1,$n(i,n);case"selectionchange":if(Nn)break;case"keydown":case"keyup":return $n(i,n)}return null}},qn=ji.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xn=ji.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qn=Cn.extend({relatedTarget:null});function Gn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Zn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tr=Cn.extend({key:function(t){if(t.key){var e=Zn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Gn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Jn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Mn,charCode:function(t){return"keypress"===t.type?Gn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Gn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),er=On.extend({dataTransfer:null}),ir=Cn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Mn}),nr=ji.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=On.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),ar={eventTypes:ze,extractEvents:function(t,e,i,n){var r=Fe.get(t);if(!r)return null;switch(t){case"keypress":if(0===Gn(i))return null;case"keydown":case"keyup":t=tr;break;case"blur":case"focus":t=Qn;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=er;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ir;break;case $t:case Kt:case qt:t=qn;break;case Xt:t=nr;break;case"scroll":t=Cn;break;case"wheel":t=rr;break;case"copy":case"cut":case"paste":t=Xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Dn;break;default:t=ji}return Li(e=t.getPooled(r,e,i,n)),e}};if(g)throw Error(s(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),y(),d=Ei,f=Ii,v=Mi,k({SimpleEventPlugin:ar,EnterLeaveEventPlugin:Ln,ChangeEventPlugin:Tn,SelectEventPlugin:Kn,BeforeInputEventPlugin:ln});var sr=[],lr=-1;function or(t){0>lr||(t.current=sr[lr],sr[lr]=null,lr--)}function _r(t,e){lr++,sr[lr]=t.current,t.current=e}var cr={},ur={current:cr},hr={current:!1},pr=cr;function dr(t,e){var i=t.type.contextTypes;if(!i)return cr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in i)a[r]=e[r];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function fr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function vr(){or(hr),or(ur)}function mr(t,e,i){if(ur.current!==cr)throw Error(s(168));_r(ur,e),_r(hr,i)}function gr(t,e,i){var n=t.stateNode;if(t=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,vt(e)||"Unknown",a));return r({},i,{},n)}function br(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cr,pr=ur.current,_r(ur,t),_r(hr,hr.current),!0}function yr(t,e,i){var n=t.stateNode;if(!n)throw Error(s(169));i?(t=gr(t,e,pr),n.__reactInternalMemoizedMergedChildContext=t,or(hr),or(ur),_r(ur,t)):or(hr),_r(hr,i)}var wr=a.unstable_runWithPriority,Sr=a.unstable_scheduleCallback,xr=a.unstable_cancelCallback,Tr=a.unstable_requestPaint,Cr=a.unstable_now,kr=a.unstable_getCurrentPriorityLevel,Ir=a.unstable_ImmediatePriority,Mr=a.unstable_UserBlockingPriority,Er=a.unstable_NormalPriority,Pr=a.unstable_LowPriority,Br=a.unstable_IdlePriority,Ar={},Or=a.unstable_shouldYield,Dr=void 0!==Tr?Tr:function(){},Rr=null,Lr=null,zr=!1,Fr=Cr(),Vr=1e4>Fr?Cr:function(){return Cr()-Fr};function Nr(){switch(kr()){case Ir:return 99;case Mr:return 98;case Er:return 97;case Pr:return 96;case Br:return 95;default:throw Error(s(332))}}function Ur(t){switch(t){case 99:return Ir;case 98:return Mr;case 97:return Er;case 96:return Pr;case 95:return Br;default:throw Error(s(332))}}function Wr(t,e){return t=Ur(t),wr(t,e)}function jr(t,e,i){return t=Ur(t),Sr(t,e,i)}function Hr(t){return null===Rr?(Rr=[t],Lr=Sr(Ir,$r)):Rr.push(t),Ar}function Yr(){if(null!==Lr){var t=Lr;Lr=null,xr(t)}$r()}function $r(){if(!zr&&null!==Rr){zr=!0;var t=0;try{var e=Rr;Wr(99,(function(){for(;t<e.length;t++){var i=e[t];do{i=i(!0)}while(null!==i)}})),Rr=null}catch(i){throw null!==Rr&&(Rr=Rr.slice(t+1)),Sr(Ir,Yr),i}finally{zr=!1}}}function Kr(t,e,i){return 1073741821-(1+((1073741821-t+e/10)/(i/=10)|0))*i}function qr(t,e){if(t&&t.defaultProps)for(var i in e=r({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}var Xr={current:null},Qr=null,Gr=null,Zr=null;function Jr(){Zr=Gr=Qr=null}function ta(t){var e=Xr.current;or(Xr),t.type._context._currentValue=e}function ea(t,e){for(;null!==t;){var i=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e);else{if(!(null!==i&&i.childExpirationTime<e))break;i.childExpirationTime=e}t=t.return}}function ia(t,e){Qr=t,Zr=Gr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Es=!0),t.firstContext=null)}function na(t,e){if(Zr!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Zr=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Gr){if(null===Qr)throw Error(s(308));Gr=e,Qr.dependencies={expirationTime:0,firstContext:e,responders:null}}else Gr=Gr.next=e;return t._currentValue}var ra=!1;function aa(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function sa(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function la(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function oa(t,e){if(null!==(t=t.updateQueue)){var i=(t=t.shared).pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function _a(t,e){var i=t.alternate;null!==i&&sa(i,t),null===(i=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=i.next,i.next=e)}function ca(t,e,i,n){var a=t.updateQueue;ra=!1;var s=a.baseQueue,l=a.shared.pending;if(null!==l){if(null!==s){var o=s.next;s.next=l.next,l.next=o}s=l,a.shared.pending=null,null!==(o=t.alternate)&&(null!==(o=o.updateQueue)&&(o.baseQueue=l))}if(null!==s){o=s.next;var _=a.baseState,c=0,u=null,h=null,p=null;if(null!==o)for(var d=o;;){if((l=d.expirationTime)<n){var f={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(h=p=f,u=_):p=p.next=f,l>c&&(c=l)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ro(l,d.suspenseConfig);t:{var v=t,m=d;switch(l=e,f=i,m.tag){case 1:if("function"===typeof(v=m.payload)){_=v.call(f,_,l);break t}_=v;break t;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(l="function"===typeof(v=m.payload)?v.call(f,_,l):v)||void 0===l)break t;_=r({},_,l);break t;case 2:ra=!0}}null!==d.callback&&(t.effectTag|=32,null===(l=a.effects)?a.effects=[d]:l.push(d))}if(null===(d=d.next)||d===o){if(null===(l=a.shared.pending))break;d=s.next=l.next,l.next=o,a.baseQueue=s=l,a.shared.pending=null}}null===p?u=_:p.next=h,a.baseState=u,a.baseQueue=p,ao(c),t.expirationTime=c,t.memoizedState=_}}function ua(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(null!==r){if(n.callback=null,n=r,r=i,"function"!==typeof n)throw Error(s(191,n));n.call(r)}}}var ha=Q.ReactCurrentBatchConfig,pa=(new n.Component).refs;function da(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:r({},e,i),t.memoizedState=i,0===t.expirationTime&&(t.updateQueue.baseState=i)}var fa={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Jt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternalFiber;var n=Yl(),r=ha.suspense;(r=la(n=$l(n,t,r),r)).payload=e,void 0!==i&&null!==i&&(r.callback=i),oa(t,r),Kl(t,n)},enqueueReplaceState:function(t,e,i){t=t._reactInternalFiber;var n=Yl(),r=ha.suspense;(r=la(n=$l(n,t,r),r)).tag=1,r.payload=e,void 0!==i&&null!==i&&(r.callback=i),oa(t,r),Kl(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var i=Yl(),n=ha.suspense;(n=la(i=$l(i,t,n),n)).tag=2,void 0!==e&&null!==e&&(n.callback=e),oa(t,n),Kl(t,i)}};function va(t,e,i,n,r,a,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,a,s):!e.prototype||!e.prototype.isPureReactComponent||(!Vn(i,n)||!Vn(r,a))}function ma(t,e,i){var n=!1,r=cr,a=e.contextType;return"object"===typeof a&&null!==a?a=na(a):(r=fr(e)?pr:ur.current,a=(n=null!==(n=e.contextTypes)&&void 0!==n)?dr(t,r):cr),e=new e(i,a),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=fa,t.stateNode=e,e._reactInternalFiber=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function ga(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&fa.enqueueReplaceState(e,e.state,null)}function ba(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=pa,aa(t);var a=e.contextType;"object"===typeof a&&null!==a?r.context=na(a):(a=fr(e)?pr:ur.current,r.context=dr(t,a)),ca(t,i,r,n),r.state=t.memoizedState,"function"===typeof(a=e.getDerivedStateFromProps)&&(da(t,e,a,i),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&fa.enqueueReplaceState(r,r.state,null),ca(t,i,r,n),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var ya=Array.isArray;function wa(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(s(309));var n=i.stateNode}if(!n)throw Error(s(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:((e=function(t){var e=n.refs;e===pa&&(e=n.refs={}),null===t?delete e[r]:e[r]=t})._stringRef=r,e)}if("string"!==typeof t)throw Error(s(284));if(!i._owner)throw Error(s(290,t))}return t}function Sa(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function xa(t){function e(e,i){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=ko(t,e)).index=0,t.sibling=null,t}function a(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.effectTag=2,i):n:(e.effectTag=2,i):i}function l(e){return t&&null===e.alternate&&(e.effectTag=2),e}function o(t,e,i,n){return null===e||6!==e.tag?((e=Eo(i,t.mode,n)).return=t,e):((e=r(e,i)).return=t,e)}function _(t,e,i,n){return null!==e&&e.elementType===i.type?((n=r(e,i.props)).ref=wa(t,e,i),n.return=t,n):((n=Io(i.type,i.key,i.props,null,t.mode,n)).ref=wa(t,e,i),n.return=t,n)}function c(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Po(i,t.mode,n)).return=t,e):((e=r(e,i.children||[])).return=t,e)}function u(t,e,i,n,a){return null===e||7!==e.tag?((e=Mo(i,t.mode,n,a)).return=t,e):((e=r(e,i)).return=t,e)}function h(t,e,i){if("string"===typeof e||"number"===typeof e)return(e=Eo(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(i=Io(e.type,e.key,e.props,null,t.mode,i)).ref=wa(t,null,e),i.return=t,i;case et:return(e=Po(e,t.mode,i)).return=t,e}if(ya(e)||ft(e))return(e=Mo(e,t.mode,i,null)).return=t,e;Sa(t,e)}return null}function p(t,e,i,n){var r=null!==e?e.key:null;if("string"===typeof i||"number"===typeof i)return null!==r?null:o(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case tt:return i.key===r?i.type===it?u(t,e,i.props.children,n,r):_(t,e,i,n):null;case et:return i.key===r?c(t,e,i,n):null}if(ya(i)||ft(i))return null!==r?null:u(t,e,i,n,null);Sa(t,i)}return null}function d(t,e,i,n,r){if("string"===typeof n||"number"===typeof n)return o(e,t=t.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return t=t.get(null===n.key?i:n.key)||null,n.type===it?u(e,t,n.props.children,r,n.key):_(e,t,n,r);case et:return c(e,t=t.get(null===n.key?i:n.key)||null,n,r)}if(ya(n)||ft(n))return u(e,t=t.get(i)||null,n,r,null);Sa(e,n)}return null}function f(r,s,l,o){for(var _=null,c=null,u=s,f=s=0,v=null;null!==u&&f<l.length;f++){u.index>f?(v=u,u=null):v=u.sibling;var m=p(r,u,l[f],o);if(null===m){null===u&&(u=v);break}t&&u&&null===m.alternate&&e(r,u),s=a(m,s,f),null===c?_=m:c.sibling=m,c=m,u=v}if(f===l.length)return i(r,u),_;if(null===u){for(;f<l.length;f++)null!==(u=h(r,l[f],o))&&(s=a(u,s,f),null===c?_=u:c.sibling=u,c=u);return _}for(u=n(r,u);f<l.length;f++)null!==(v=d(u,r,f,l[f],o))&&(t&&null!==v.alternate&&u.delete(null===v.key?f:v.key),s=a(v,s,f),null===c?_=v:c.sibling=v,c=v);return t&&u.forEach((function(t){return e(r,t)})),_}function v(r,l,o,_){var c=ft(o);if("function"!==typeof c)throw Error(s(150));if(null==(o=c.call(o)))throw Error(s(151));for(var u=c=null,f=l,v=l=0,m=null,g=o.next();null!==f&&!g.done;v++,g=o.next()){f.index>v?(m=f,f=null):m=f.sibling;var b=p(r,f,g.value,_);if(null===b){null===f&&(f=m);break}t&&f&&null===b.alternate&&e(r,f),l=a(b,l,v),null===u?c=b:u.sibling=b,u=b,f=m}if(g.done)return i(r,f),c;if(null===f){for(;!g.done;v++,g=o.next())null!==(g=h(r,g.value,_))&&(l=a(g,l,v),null===u?c=g:u.sibling=g,u=g);return c}for(f=n(r,f);!g.done;v++,g=o.next())null!==(g=d(f,r,v,g.value,_))&&(t&&null!==g.alternate&&f.delete(null===g.key?v:g.key),l=a(g,l,v),null===u?c=g:u.sibling=g,u=g);return t&&f.forEach((function(t){return e(r,t)})),c}return function(t,n,a,o){var _="object"===typeof a&&null!==a&&a.type===it&&null===a.key;_&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case tt:t:{for(c=a.key,_=n;null!==_;){if(_.key===c){switch(_.tag){case 7:if(a.type===it){i(t,_.sibling),(n=r(_,a.props.children)).return=t,t=n;break t}break;default:if(_.elementType===a.type){i(t,_.sibling),(n=r(_,a.props)).ref=wa(t,_,a),n.return=t,t=n;break t}}i(t,_);break}e(t,_),_=_.sibling}a.type===it?((n=Mo(a.props.children,t.mode,o,a.key)).return=t,t=n):((o=Io(a.type,a.key,a.props,null,t.mode,o)).ref=wa(t,n,a),o.return=t,t=o)}return l(t);case et:t:{for(_=a.key;null!==n;){if(n.key===_){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){i(t,n.sibling),(n=r(n,a.children||[])).return=t,t=n;break t}i(t,n);break}e(t,n),n=n.sibling}(n=Po(a,t.mode,o)).return=t,t=n}return l(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(i(t,n.sibling),(n=r(n,a)).return=t,t=n):(i(t,n),(n=Eo(a,t.mode,o)).return=t,t=n),l(t);if(ya(a))return f(t,n,a,o);if(ft(a))return v(t,n,a,o);if(c&&Sa(t,a),"undefined"===typeof a&&!_)switch(t.tag){case 1:case 0:throw t=t.type,Error(s(152,t.displayName||t.name||"Component"))}return i(t,n)}}var Ta=xa(!0),Ca=xa(!1),ka={},Ia={current:ka},Ma={current:ka},Ea={current:ka};function Pa(t){if(t===ka)throw Error(s(174));return t}function Ba(t,e){switch(_r(Ea,e),_r(Ma,t),_r(Ia,ka),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zt(null,"");break;default:e=zt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}or(Ia),_r(Ia,e)}function Aa(){or(Ia),or(Ma),or(Ea)}function Oa(t){Pa(Ea.current);var e=Pa(Ia.current),i=zt(e,t.type);e!==i&&(_r(Ma,t),_r(Ia,i))}function Da(t){Ma.current===t&&(or(Ia),or(Ma))}var Ra={current:0};function La(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function za(t,e){return{responder:t,props:e}}var Fa=Q.ReactCurrentDispatcher,Va=Q.ReactCurrentBatchConfig,Na=0,Ua=null,Wa=null,ja=null,Ha=!1;function Ya(){throw Error(s(321))}function $a(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!zn(t[i],e[i]))return!1;return!0}function Ka(t,e,i,n,r,a){if(Na=a,Ua=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Fa.current=null===t||null===t.memoizedState?vs:ms,t=i(n,r),e.expirationTime===Na){a=0;do{if(e.expirationTime=0,!(25>a))throw Error(s(301));a+=1,ja=Wa=null,e.updateQueue=null,Fa.current=gs,t=i(n,r)}while(e.expirationTime===Na)}if(Fa.current=fs,e=null!==Wa&&null!==Wa.next,Na=0,ja=Wa=Ua=null,Ha=!1,e)throw Error(s(300));return t}function qa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ja?Ua.memoizedState=ja=t:ja=ja.next=t,ja}function Xa(){if(null===Wa){var t=Ua.alternate;t=null!==t?t.memoizedState:null}else t=Wa.next;var e=null===ja?Ua.memoizedState:ja.next;if(null!==e)ja=e,Wa=t;else{if(null===t)throw Error(s(310));t={memoizedState:(Wa=t).memoizedState,baseState:Wa.baseState,baseQueue:Wa.baseQueue,queue:Wa.queue,next:null},null===ja?Ua.memoizedState=ja=t:ja=ja.next=t}return ja}function Qa(t,e){return"function"===typeof e?e(t):e}function Ga(t){var e=Xa(),i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=t;var n=Wa,r=n.baseQueue,a=i.pending;if(null!==a){if(null!==r){var l=r.next;r.next=a.next,a.next=l}n.baseQueue=r=a,i.pending=null}if(null!==r){r=r.next,n=n.baseState;var o=l=a=null,_=r;do{var c=_.expirationTime;if(c<Na){var u={expirationTime:_.expirationTime,suspenseConfig:_.suspenseConfig,action:_.action,eagerReducer:_.eagerReducer,eagerState:_.eagerState,next:null};null===o?(l=o=u,a=n):o=o.next=u,c>Ua.expirationTime&&(Ua.expirationTime=c,ao(c))}else null!==o&&(o=o.next={expirationTime:1073741823,suspenseConfig:_.suspenseConfig,action:_.action,eagerReducer:_.eagerReducer,eagerState:_.eagerState,next:null}),ro(c,_.suspenseConfig),n=_.eagerReducer===t?_.eagerState:t(n,_.action);_=_.next}while(null!==_&&_!==r);null===o?a=n:o.next=l,zn(n,e.memoizedState)||(Es=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=o,i.lastRenderedState=n}return[e.memoizedState,i.dispatch]}function Za(t){var e=Xa(),i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,a=e.memoizedState;if(null!==r){i.pending=null;var l=r=r.next;do{a=t(a,l.action),l=l.next}while(l!==r);zn(a,e.memoizedState)||(Es=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),i.lastRenderedState=a}return[a,n]}function Ja(t){var e=qa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t}).dispatch=ds.bind(null,Ua,t),[e.memoizedState,t]}function ts(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=Ua.updateQueue)?(e={lastEffect:null},Ua.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function es(){return Xa().memoizedState}function is(t,e,i,n){var r=qa();Ua.effectTag|=t,r.memoizedState=ts(1|e,i,void 0,void 0===n?null:n)}function ns(t,e,i,n){var r=Xa();n=void 0===n?null:n;var a=void 0;if(null!==Wa){var s=Wa.memoizedState;if(a=s.destroy,null!==n&&$a(n,s.deps))return void ts(e,i,a,n)}Ua.effectTag|=t,r.memoizedState=ts(1|e,i,a,n)}function rs(t,e){return is(516,4,t,e)}function as(t,e){return ns(516,4,t,e)}function ss(t,e){return ns(4,2,t,e)}function ls(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function os(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,ns(4,2,ls.bind(null,e,t),i)}function _s(){}function cs(t,e){return qa().memoizedState=[t,void 0===e?null:e],t}function us(t,e){var i=Xa();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&$a(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function hs(t,e){var i=Xa();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&$a(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function ps(t,e,i){var n=Nr();Wr(98>n?98:n,(function(){t(!0)})),Wr(97<n?97:n,(function(){var n=Va.suspense;Va.suspense=void 0===e?null:e;try{t(!1),i()}finally{Va.suspense=n}}))}function ds(t,e,i){var n=Yl(),r=ha.suspense;r={expirationTime:n=$l(n,t,r),suspenseConfig:r,action:i,eagerReducer:null,eagerState:null,next:null};var a=e.pending;if(null===a?r.next=r:(r.next=a.next,a.next=r),e.pending=r,a=t.alternate,t===Ua||null!==a&&a===Ua)Ha=!0,r.expirationTime=Na,Ua.expirationTime=Na;else{if(0===t.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,l=a(s,i);if(r.eagerReducer=a,r.eagerState=l,zn(l,s))return}catch(o){}Kl(t,n)}}var fs={readContext:na,useCallback:Ya,useContext:Ya,useEffect:Ya,useImperativeHandle:Ya,useLayoutEffect:Ya,useMemo:Ya,useReducer:Ya,useRef:Ya,useState:Ya,useDebugValue:Ya,useResponder:Ya,useDeferredValue:Ya,useTransition:Ya},vs={readContext:na,useCallback:cs,useContext:na,useEffect:rs,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,is(4,2,ls.bind(null,e,t),i)},useLayoutEffect:function(t,e){return is(4,2,t,e)},useMemo:function(t,e){var i=qa();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=qa();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ds.bind(null,Ua,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},qa().memoizedState=t},useState:Ja,useDebugValue:_s,useResponder:za,useDeferredValue:function(t,e){var i=Ja(t),n=i[0],r=i[1];return rs((function(){var i=Va.suspense;Va.suspense=void 0===e?null:e;try{r(t)}finally{Va.suspense=i}}),[t,e]),n},useTransition:function(t){var e=Ja(!1),i=e[0];return e=e[1],[cs(ps.bind(null,e,t),[e,t]),i]}},ms={readContext:na,useCallback:us,useContext:na,useEffect:as,useImperativeHandle:os,useLayoutEffect:ss,useMemo:hs,useReducer:Ga,useRef:es,useState:function(){return Ga(Qa)},useDebugValue:_s,useResponder:za,useDeferredValue:function(t,e){var i=Ga(Qa),n=i[0],r=i[1];return as((function(){var i=Va.suspense;Va.suspense=void 0===e?null:e;try{r(t)}finally{Va.suspense=i}}),[t,e]),n},useTransition:function(t){var e=Ga(Qa),i=e[0];return e=e[1],[us(ps.bind(null,e,t),[e,t]),i]}},gs={readContext:na,useCallback:us,useContext:na,useEffect:as,useImperativeHandle:os,useLayoutEffect:ss,useMemo:hs,useReducer:Za,useRef:es,useState:function(){return Za(Qa)},useDebugValue:_s,useResponder:za,useDeferredValue:function(t,e){var i=Za(Qa),n=i[0],r=i[1];return as((function(){var i=Va.suspense;Va.suspense=void 0===e?null:e;try{r(t)}finally{Va.suspense=i}}),[t,e]),n},useTransition:function(t){var e=Za(Qa),i=e[0];return e=e[1],[us(ps.bind(null,e,t),[e,t]),i]}},bs=null,ys=null,ws=!1;function Ss(t,e){var i=To(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function xs(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Ts(t){if(ws){var e=ys;if(e){var i=e;if(!xs(t,e)){if(!(e=yi(i.nextSibling))||!xs(t,e))return t.effectTag=-1025&t.effectTag|2,ws=!1,void(bs=t);Ss(bs,i)}bs=t,ys=yi(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,ws=!1,bs=t}}function Cs(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;bs=t}function ks(t){if(t!==bs)return!1;if(!ws)return Cs(t),ws=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!mi(e,t.memoizedProps))for(e=ys;e;)Ss(t,e),e=yi(e.nextSibling);if(Cs(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){ys=yi(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}ys=null}}else ys=bs?yi(t.stateNode.nextSibling):null;return!0}function Is(){ys=bs=null,ws=!1}var Ms=Q.ReactCurrentOwner,Es=!1;function Ps(t,e,i,n){e.child=null===t?Ca(e,null,i,n):Ta(e,t.child,i,n)}function Bs(t,e,i,n,r){i=i.render;var a=e.ref;return ia(e,r),n=Ka(t,e,i,n,a,r),null===t||Es?(e.effectTag|=1,Ps(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Ks(t,e,r))}function As(t,e,i,n,r,a){if(null===t){var s=i.type;return"function"!==typeof s||Co(s)||void 0!==s.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Io(i.type,null,n,null,e.mode,a)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Os(t,e,s,n,r,a))}return s=t.child,r<a&&(r=s.memoizedProps,(i=null!==(i=i.compare)?i:Vn)(r,n)&&t.ref===e.ref)?Ks(t,e,a):(e.effectTag|=1,(t=ko(s,n)).ref=e.ref,t.return=e,e.child=t)}function Os(t,e,i,n,r,a){return null!==t&&Vn(t.memoizedProps,n)&&t.ref===e.ref&&(Es=!1,r<a)?(e.expirationTime=t.expirationTime,Ks(t,e,a)):Rs(t,e,i,n,a)}function Ds(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.effectTag|=128)}function Rs(t,e,i,n,r){var a=fr(i)?pr:ur.current;return a=dr(e,a),ia(e,r),i=Ka(t,e,i,n,a,r),null===t||Es?(e.effectTag|=1,Ps(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Ks(t,e,r))}function Ls(t,e,i,n,r){if(fr(i)){var a=!0;br(e)}else a=!1;if(ia(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),ma(e,i,n),ba(e,i,n,r),n=!0;else if(null===t){var s=e.stateNode,l=e.memoizedProps;s.props=l;var o=s.context,_=i.contextType;"object"===typeof _&&null!==_?_=na(_):_=dr(e,_=fr(i)?pr:ur.current);var c=i.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==n||o!==_)&&ga(e,s,n,_),ra=!1;var h=e.memoizedState;s.state=h,ca(e,n,s,r),o=e.memoizedState,l!==n||h!==o||hr.current||ra?("function"===typeof c&&(da(e,i,c,n),o=e.memoizedState),(l=ra||va(e,i,l,n,h,o,_))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=o),s.props=n,s.state=o,s.context=_,n=l):("function"===typeof s.componentDidMount&&(e.effectTag|=4),n=!1)}else s=e.stateNode,sa(t,e),l=e.memoizedProps,s.props=e.type===e.elementType?l:qr(e.type,l),o=s.context,"object"===typeof(_=i.contextType)&&null!==_?_=na(_):_=dr(e,_=fr(i)?pr:ur.current),(u="function"===typeof(c=i.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==n||o!==_)&&ga(e,s,n,_),ra=!1,o=e.memoizedState,s.state=o,ca(e,n,s,r),h=e.memoizedState,l!==n||o!==h||hr.current||ra?("function"===typeof c&&(da(e,i,c,n),h=e.memoizedState),(c=ra||va(e,i,l,n,o,h,_))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,h,_),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,h,_)),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof s.componentDidUpdate||l===t.memoizedProps&&o===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===t.memoizedProps&&o===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=h),s.props=n,s.state=h,s.context=_,n=c):("function"!==typeof s.componentDidUpdate||l===t.memoizedProps&&o===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===t.memoizedProps&&o===t.memoizedState||(e.effectTag|=256),n=!1);return zs(t,e,i,n,a,r)}function zs(t,e,i,n,r,a){Ds(t,e);var s=0!==(64&e.effectTag);if(!n&&!s)return r&&yr(e,i,!1),Ks(t,e,a);n=e.stateNode,Ms.current=e;var l=s&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.effectTag|=1,null!==t&&s?(e.child=Ta(e,t.child,null,a),e.child=Ta(e,null,l,a)):Ps(t,e,l,a),e.memoizedState=n.state,r&&yr(e,i,!0),e.child}function Fs(t){var e=t.stateNode;e.pendingContext?mr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&mr(0,e.context,!1),Ba(t,e.containerInfo)}var Vs,Ns,Us,Ws={dehydrated:null,retryTime:0};function js(t,e,i){var n,r=e.mode,a=e.pendingProps,s=Ra.current,l=!1;if((n=0!==(64&e.effectTag))||(n=0!==(2&s)&&(null===t||null!==t.memoizedState)),n?(l=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(s|=1),_r(Ra,1&s),null===t){if(void 0!==a.fallback&&Ts(e),l){if(l=a.fallback,(a=Mo(null,r,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,a.child=t;null!==t;)t.return=a,t=t.sibling;return(i=Mo(l,r,i,null)).return=e,a.sibling=i,e.memoizedState=Ws,e.child=a,i}return r=a.children,e.memoizedState=null,e.child=Ca(e,null,r,i)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,l){if(a=a.fallback,(i=ko(t,t.pendingProps)).return=e,0===(2&e.mode)&&(l=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(i.child=l;null!==l;)l.return=i,l=l.sibling;return(r=ko(r,a)).return=e,i.sibling=r,i.childExpirationTime=0,e.memoizedState=Ws,e.child=i,r}return i=Ta(e,t.child,a.children,i),e.memoizedState=null,e.child=i}if(t=t.child,l){if(l=a.fallback,(a=Mo(null,r,0,null)).return=e,a.child=t,null!==t&&(t.return=a),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,a.child=t;null!==t;)t.return=a,t=t.sibling;return(i=Mo(l,r,i,null)).return=e,a.sibling=i,i.effectTag|=2,a.childExpirationTime=0,e.memoizedState=Ws,e.child=a,i}return e.memoizedState=null,e.child=Ta(e,t,a.children,i)}function Hs(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e),ea(t.return,e)}function Ys(t,e,i,n,r,a){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailExpiration:0,tailMode:r,lastEffect:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=i,s.tailExpiration=0,s.tailMode=r,s.lastEffect=a)}function $s(t,e,i){var n=e.pendingProps,r=n.revealOrder,a=n.tail;if(Ps(t,e,n.children,i),0!==(2&(n=Ra.current)))n=1&n|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Hs(t,i);else if(19===t.tag)Hs(t,i);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(_r(Ra,n),0===(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;null!==i;)null!==(t=i.alternate)&&null===La(t)&&(r=i),i=i.sibling;null===(i=r)?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),Ys(e,!1,r,i,a,e.lastEffect);break;case"backwards":for(i=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===La(t)){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}Ys(e,!0,i,null,a,e.lastEffect);break;case"together":Ys(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ks(t,e,i){null!==t&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(0!==n&&ao(n),e.childExpirationTime<i)return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(i=ko(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=ko(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function qs(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Xs(t,e,i){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fr(e.type)&&vr(),null;case 3:return Aa(),or(hr),or(ur),(i=e.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||!ks(e)||(e.effectTag|=4),null;case 5:Da(e),i=Pa(Ea.current);var a=e.type;if(null!==t&&null!=e.stateNode)Ns(t,e,a,n,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!n){if(null===e.stateNode)throw Error(s(166));return null}if(t=Pa(Ia.current),ks(e)){n=e.stateNode,a=e.type;var l=e.memoizedProps;switch(n[xi]=e,n[Ti]=l,a){case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(t=0;t<Qt.length;t++)Ke(Qt[t],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"form":Ke("reset",n),Ke("submit",n);break;case"details":Ke("toggle",n);break;case"input":xt(n,l),Ke("invalid",n),li(i,"onChange");break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Ke("invalid",n),li(i,"onChange");break;case"textarea":Bt(n,l),Ke("invalid",n),li(i,"onChange")}for(var o in ri(a,l),t=null,l)if(l.hasOwnProperty(o)){var _=l[o];"children"===o?"string"===typeof _?n.textContent!==_&&(t=["children",_]):"number"===typeof _&&n.textContent!==""+_&&(t=["children",""+_]):T.hasOwnProperty(o)&&null!=_&&li(i,o)}switch(a){case"input":yt(n),kt(n,l,!0);break;case"textarea":yt(n),Ot(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=oi)}i=t,e.updateQueue=i,null!==i&&(e.effectTag|=4)}else{switch(o=9===i.nodeType?i:i.ownerDocument,t===si&&(t=Lt(a)),t===si?"script"===a?((t=o.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=o.createElement(a,{is:n.is}):(t=o.createElement(a),"select"===a&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,a),t[xi]=e,t[Ti]=n,Vs(t,e),e.stateNode=t,o=ai(a,n),a){case"iframe":case"object":case"embed":Ke("load",t),_=n;break;case"video":case"audio":for(_=0;_<Qt.length;_++)Ke(Qt[_],t);_=n;break;case"source":Ke("error",t),_=n;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),_=n;break;case"form":Ke("reset",t),Ke("submit",t),_=n;break;case"details":Ke("toggle",t),_=n;break;case"input":xt(t,n),_=St(t,n),Ke("invalid",t),li(i,"onChange");break;case"option":_=Mt(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},_=r({},n,{value:void 0}),Ke("invalid",t),li(i,"onChange");break;case"textarea":Bt(t,n),_=Pt(t,n),Ke("invalid",t),li(i,"onChange");break;default:_=n}ri(a,_);var c=_;for(l in c)if(c.hasOwnProperty(l)){var u=c[l];"style"===l?ii(t,u):"dangerouslySetInnerHTML"===l?null!=(u=u?u.__html:void 0)&&Vt(t,u):"children"===l?"string"===typeof u?("textarea"!==a||""!==u)&&Nt(t,u):"number"===typeof u&&Nt(t,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(T.hasOwnProperty(l)?null!=u&&li(i,l):null!=u&&G(t,l,u,o))}switch(a){case"input":yt(t),kt(t,n,!1);break;case"textarea":yt(t),Ot(t);break;case"option":null!=n.value&&t.setAttribute("value",""+gt(n.value));break;case"select":t.multiple=!!n.multiple,null!=(i=n.value)?Et(t,!!n.multiple,i,!1):null!=n.defaultValue&&Et(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof _.onClick&&(t.onclick=oi)}vi(a,n)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Us(0,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(s(166));i=Pa(Ea.current),Pa(Ia.current),ks(e)?(i=e.stateNode,n=e.memoizedProps,i[xi]=e,i.nodeValue!==n&&(e.effectTag|=4)):((i=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[xi]=e,e.stateNode=i)}return null;case 13:return or(Ra),n=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=i,e):(i=null!==n,n=!1,null===t?void 0!==e.memoizedProps.fallback&&ks(e):(n=null!==(a=t.memoizedState),i||null===a||null!==(a=t.child.sibling)&&(null!==(l=e.firstEffect)?(e.firstEffect=a,a.nextEffect=l):(e.firstEffect=e.lastEffect=a,a.nextEffect=null),a.effectTag=8)),i&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Ra.current)?kl===bl&&(kl=yl):(kl!==bl&&kl!==yl||(kl=wl),0!==Bl&&null!==xl&&(Oo(xl,Cl),Do(xl,Bl)))),(i||n)&&(e.effectTag|=4),null);case 4:return Aa(),null;case 10:return ta(e),null;case 17:return fr(e.type)&&vr(),null;case 19:if(or(Ra),null===(n=e.memoizedState))return null;if(a=0!==(64&e.effectTag),null===(l=n.rendering)){if(a)qs(n,!1);else if(kl!==bl||null!==t&&0!==(64&t.effectTag))for(l=e.child;null!==l;){if(null!==(t=La(l))){for(e.effectTag|=64,qs(n,!1),null!==(a=t.updateQueue)&&(e.updateQueue=a,e.effectTag|=4),null===n.lastEffect&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=e.child;null!==n;)l=i,(a=n).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(t=a.alternate)?(a.childExpirationTime=0,a.expirationTime=l,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=t.childExpirationTime,a.expirationTime=t.expirationTime,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,l=t.dependencies,a.dependencies=null===l?null:{expirationTime:l.expirationTime,firstContext:l.firstContext,responders:l.responders}),n=n.sibling;return _r(Ra,1&Ra.current|2),e.child}l=l.sibling}}else{if(!a)if(null!==(t=La(l))){if(e.effectTag|=64,a=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),qs(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate)return null!==(e=e.lastEffect=n.lastEffect)&&(e.nextEffect=null),null}else 2*Vr()-n.renderingStartTime>n.tailExpiration&&1<i&&(e.effectTag|=64,a=!0,qs(n,!1),e.expirationTime=e.childExpirationTime=i-1);n.isBackwards?(l.sibling=e.child,e.child=l):(null!==(i=n.last)?i.sibling=l:e.child=l,n.last=l)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=Vr()+500),i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Vr(),i.sibling=null,e=Ra.current,_r(Ra,a?1&e|2:1&e),i):null}throw Error(s(156,e.tag))}function Qs(t){switch(t.tag){case 1:fr(t.type)&&vr();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Aa(),or(hr),or(ur),0!==(64&(e=t.effectTag)))throw Error(s(285));return t.effectTag=-4097&e|64,t;case 5:return Da(t),null;case 13:return or(Ra),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return or(Ra),null;case 4:return Aa(),null;case 10:return ta(t),null;default:return null}}function Gs(t,e){return{value:t,source:e,stack:mt(e)}}Vs=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ns=function(t,e,i,n,a){var s=t.memoizedProps;if(s!==n){var l,o,_=e.stateNode;switch(Pa(Ia.current),t=null,i){case"input":s=St(_,s),n=St(_,n),t=[];break;case"option":s=Mt(_,s),n=Mt(_,n),t=[];break;case"select":s=r({},s,{value:void 0}),n=r({},n,{value:void 0}),t=[];break;case"textarea":s=Pt(_,s),n=Pt(_,n),t=[];break;default:"function"!==typeof s.onClick&&"function"===typeof n.onClick&&(_.onclick=oi)}for(l in ri(i,n),i=null,s)if(!n.hasOwnProperty(l)&&s.hasOwnProperty(l)&&null!=s[l])if("style"===l)for(o in _=s[l])_.hasOwnProperty(o)&&(i||(i={}),i[o]="");else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(T.hasOwnProperty(l)?t||(t=[]):(t=t||[]).push(l,null));for(l in n){var c=n[l];if(_=null!=s?s[l]:void 0,n.hasOwnProperty(l)&&c!==_&&(null!=c||null!=_))if("style"===l)if(_){for(o in _)!_.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in c)c.hasOwnProperty(o)&&_[o]!==c[o]&&(i||(i={}),i[o]=c[o])}else i||(t||(t=[]),t.push(l,i)),i=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,_=_?_.__html:void 0,null!=c&&_!==c&&(t=t||[]).push(l,c)):"children"===l?_===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(T.hasOwnProperty(l)?(null!=c&&li(a,l),t||_===c||(t=[])):(t=t||[]).push(l,c))}i&&(t=t||[]).push("style",i),a=t,(e.updateQueue=a)&&(e.effectTag|=4)}},Us=function(t,e,i,n){i!==n&&(e.effectTag|=4)};var Zs="function"===typeof WeakSet?WeakSet:Set;function Js(t,e){var i=e.source,n=e.stack;null===n&&null!==i&&(n=mt(i)),null!==i&&vt(i.type),e=e.value,null!==t&&1===t.tag&&vt(t.type);try{console.error(e)}catch(r){setTimeout((function(){throw r}))}}function tl(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(i){go(t,i)}else e.current=null}function el(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var i=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?i:qr(e.type,i),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.destroy;i.destroy=void 0,void 0!==n&&n()}i=i.next}while(i!==e)}}function nl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function rl(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:return void nl(3,i);case 1:if(t=i.stateNode,4&i.effectTag)if(null===e)t.componentDidMount();else{var n=i.elementType===i.type?e.memoizedProps:qr(i.type,e.memoizedProps);t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=i.updateQueue)&&ua(i,e,t));case 3:if(null!==(e=i.updateQueue)){if(t=null,null!==i.child)switch(i.child.tag){case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}ua(i,e,t)}return;case 5:return t=i.stateNode,void(null===e&&4&i.effectTag&&vi(i.type,i.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&Le(i)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function al(t,e,i){switch("function"===typeof So&&So(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t.next;Wr(97<i?97:i,(function(){var t=n;do{var i=t.destroy;if(void 0!==i){var r=e;try{i()}catch(a){go(r,a)}}t=t.next}while(t!==n)}))}break;case 1:tl(e),"function"===typeof(i=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){go(t,i)}}(e,i);break;case 5:tl(e);break;case 4:_l(t,e,i)}}function sl(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&sl(e)}function ll(t){return 5===t.tag||3===t.tag||4===t.tag}function ol(t){t:{for(var e=t.return;null!==e;){if(ll(e)){var i=e;break t}e=e.return}throw Error(s(160))}switch(e=i.stateNode,i.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(s(161))}16&i.effectTag&&(Nt(e,""),i.effectTag&=-17);t:e:for(i=t;;){for(;null===i.sibling;){if(null===i.return||ll(i.return)){i=null;break t}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue e;if(null===i.child||4===i.tag)continue e;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break t}}n?function t(e,i,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,i?8===n.nodeType?n.parentNode.insertBefore(e,i):n.insertBefore(e,i):(8===n.nodeType?(i=n.parentNode).insertBefore(e,n):(i=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==i.onclick||(i.onclick=oi));else if(4!==r&&null!==(e=e.child))for(t(e,i,n),e=e.sibling;null!==e;)t(e,i,n),e=e.sibling}(t,i,e):function t(e,i,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,i?n.insertBefore(e,i):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(t(e,i,n),e=e.sibling;null!==e;)t(e,i,n),e=e.sibling}(t,i,e)}function _l(t,e,i){for(var n,r,a=e,l=!1;;){if(!l){l=a.return;t:for(;;){if(null===l)throw Error(s(160));switch(n=l.stateNode,l.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}l=l.return}l=!0}if(5===a.tag||6===a.tag){t:for(var o=t,_=a,c=i,u=_;;)if(al(o,u,c),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===_)break t;for(;null===u.sibling;){if(null===u.return||u.return===_)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(o=n,_=a.stateNode,8===o.nodeType?o.parentNode.removeChild(_):o.removeChild(_)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(al(t,a,i),null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;4===(a=a.return).tag&&(l=!1)}a.sibling.return=a.return,a=a.sibling}}function cl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void il(3,e);case 1:return;case 5:var i=e.stateNode;if(null!=i){var n=e.memoizedProps,r=null!==t?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,null!==a){for(i[Ti]=n,"input"===t&&"radio"===n.type&&null!=n.name&&Tt(i,n),ai(t,r),e=ai(t,n),r=0;r<a.length;r+=2){var l=a[r],o=a[r+1];"style"===l?ii(i,o):"dangerouslySetInnerHTML"===l?Vt(i,o):"children"===l?Nt(i,o):G(i,l,o,e)}switch(t){case"input":Ct(i,n);break;case"textarea":At(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,null!=(t=n.value)?Et(i,!!n.multiple,t,!1):e!==!!n.multiple&&(null!=n.defaultValue?Et(i,!!n.multiple,n.defaultValue,!0):Et(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(s(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Le(e.containerInfo)));case 12:return;case 13:if(i=e,null===e.memoizedState?n=!1:(n=!0,i=e.child,Ol=Vr()),null!==i)t:for(t=i;;){if(5===t.tag)a=t.stateNode,n?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=t.stateNode,r=void 0!==(r=t.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,a.style.display=ei("display",r));else if(6===t.tag)t.stateNode.nodeValue=n?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(a=t.child.sibling).return=t,t=a;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===i)break;for(;null===t.sibling;){if(null===t.return||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void ul(e);case 19:return void ul(e);case 17:return}throw Error(s(163))}function ul(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new Zs),e.forEach((function(e){var n=yo.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))}))}}var hl="function"===typeof WeakMap?WeakMap:Map;function pl(t,e,i){(i=la(i,null)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Rl||(Rl=!0,Ll=n),Js(t,e)},i}function dl(t,e,i){(i=la(i,null)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var r=e.value;i.payload=function(){return Js(t,e),n(r)}}var a=t.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(i.callback=function(){"function"!==typeof n&&(null===zl?zl=new Set([this]):zl.add(this),Js(t,e));var i=e.stack;this.componentDidCatch(e.value,{componentStack:null!==i?i:""})}),i}var fl,vl=Math.ceil,ml=Q.ReactCurrentDispatcher,gl=Q.ReactCurrentOwner,bl=0,yl=3,wl=4,Sl=0,xl=null,Tl=null,Cl=0,kl=bl,Il=null,Ml=1073741823,El=1073741823,Pl=null,Bl=0,Al=!1,Ol=0,Dl=null,Rl=!1,Ll=null,zl=null,Fl=!1,Vl=null,Nl=90,Ul=null,Wl=0,jl=null,Hl=0;function Yl(){return 0!==(48&Sl)?1073741821-(Vr()/10|0):0!==Hl?Hl:Hl=1073741821-(Vr()/10|0)}function $l(t,e,i){if(0===(2&(e=e.mode)))return 1073741823;var n=Nr();if(0===(4&e))return 99===n?1073741823:1073741822;if(0!==(16&Sl))return Cl;if(null!==i)t=Kr(t,0|i.timeoutMs||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=Kr(t,150,100);break;case 97:case 96:t=Kr(t,5e3,250);break;case 95:t=2;break;default:throw Error(s(326))}return null!==xl&&t===Cl&&--t,t}function Kl(t,e){if(50<Wl)throw Wl=0,jl=null,Error(s(185));if(null!==(t=ql(t,e))){var i=Nr();1073741823===e?0!==(8&Sl)&&0===(48&Sl)?Zl(t):(Ql(t),0===Sl&&Yr()):Ql(t),0===(4&Sl)||98!==i&&99!==i||(null===Ul?Ul=new Map([[t,e]]):(void 0===(i=Ul.get(t))||i>e)&&Ul.set(t,e))}}function ql(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e);var n=t.return,r=null;if(null===n&&3===t.tag)r=t.stateNode;else for(;null!==n;){if(i=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return null!==r&&(xl===r&&(ao(e),kl===wl&&Oo(r,Cl)),Do(r,e)),r}function Xl(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Ao(t,e=t.firstPendingTime))return e;var i=t.lastPingedTime;return 2>=(t=i>(t=t.nextKnownPendingLevel)?i:t)&&e!==t?0:t}function Ql(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Hr(Zl.bind(null,t));else{var e=Xl(t),i=t.callbackNode;if(0===e)null!==i&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=Yl();if(1073741823===e?n=99:1===e||2===e?n=95:n=0>=(n=10*(1073741821-e)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==i){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=n)return;i!==Ar&&xr(i)}t.callbackExpirationTime=e,t.callbackPriority=n,e=1073741823===e?Hr(Zl.bind(null,t)):jr(n,Gl.bind(null,t),{timeout:10*(1073741821-e)-Vr()}),t.callbackNode=e}}}function Gl(t,e){if(Hl=0,e)return Ro(t,e=Yl()),Ql(t),null;var i=Xl(t);if(0!==i){if(e=t.callbackNode,0!==(48&Sl))throw Error(s(327));if(fo(),t===xl&&i===Cl||eo(t,i),null!==Tl){var n=Sl;Sl|=16;for(var r=no();;)try{lo();break}catch(o){io(t,o)}if(Jr(),Sl=n,ml.current=r,1===kl)throw e=Il,eo(t,i),Oo(t,i),Ql(t),e;if(null===Tl)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=i,n=kl,xl=null,n){case bl:case 1:throw Error(s(345));case 2:Ro(t,2<i?2:i);break;case yl:if(Oo(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=co(r)),1073741823===Ml&&10<(r=Ol+500-Vr())){if(Al){var a=t.lastPingedTime;if(0===a||a>=i){t.lastPingedTime=i,eo(t,i);break}}if(0!==(a=Xl(t))&&a!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}t.timeoutHandle=gi(uo.bind(null,t),r);break}uo(t);break;case wl:if(Oo(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=co(r)),Al&&(0===(r=t.lastPingedTime)||r>=i)){t.lastPingedTime=i,eo(t,i);break}if(0!==(r=Xl(t))&&r!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}if(1073741823!==El?n=10*(1073741821-El)-Vr():1073741823===Ml?n=0:(n=10*(1073741821-Ml)-5e3,0>(n=(r=Vr())-n)&&(n=0),(i=10*(1073741821-i)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vl(n/1960))-n)&&(n=i)),10<n){t.timeoutHandle=gi(uo.bind(null,t),n);break}uo(t);break;case 5:if(1073741823!==Ml&&null!==Pl){a=Ml;var l=Pl;if(0>=(n=0|l.busyMinDurationMs)?n=0:(r=0|l.busyDelayMs,n=(a=Vr()-(10*(1073741821-a)-(0|l.timeoutMs||5e3)))<=r?0:r+n-a),10<n){Oo(t,i),t.timeoutHandle=gi(uo.bind(null,t),n);break}}uo(t);break;default:throw Error(s(329))}if(Ql(t),t.callbackNode===e)return Gl.bind(null,t)}}return null}function Zl(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&Sl))throw Error(s(327));if(fo(),t===xl&&e===Cl||eo(t,e),null!==Tl){var i=Sl;Sl|=16;for(var n=no();;)try{so();break}catch(r){io(t,r)}if(Jr(),Sl=i,ml.current=n,1===kl)throw i=Il,eo(t,e),Oo(t,e),Ql(t),i;if(null!==Tl)throw Error(s(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,xl=null,uo(t),Ql(t)}return null}function Jl(t,e){var i=Sl;Sl|=1;try{return t(e)}finally{0===(Sl=i)&&Yr()}}function to(t,e){var i=Sl;Sl&=-2,Sl|=8;try{return t(e)}finally{0===(Sl=i)&&Yr()}}function eo(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,bi(i)),null!==Tl)for(i=Tl.return;null!==i;){var n=i;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&vr();break;case 3:Aa(),or(hr),or(ur);break;case 5:Da(n);break;case 4:Aa();break;case 13:case 19:or(Ra);break;case 10:ta(n)}i=i.return}xl=t,Tl=ko(t.current,null),Cl=e,kl=bl,Il=null,El=Ml=1073741823,Pl=null,Bl=0,Al=!1}function io(t,e){for(;;){try{if(Jr(),Fa.current=fs,Ha)for(var i=Ua.memoizedState;null!==i;){var n=i.queue;null!==n&&(n.pending=null),i=i.next}if(Na=0,ja=Wa=Ua=null,Ha=!1,null===Tl||null===Tl.return)return kl=1,Il=e,Tl=null;t:{var r=t,a=Tl.return,s=Tl,l=e;if(e=Cl,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var o=l;if(0===(2&s.mode)){var _=s.alternate;_?(s.updateQueue=_.updateQueue,s.memoizedState=_.memoizedState,s.expirationTime=_.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var c=0!==(1&Ra.current),u=a;do{var h;if(h=13===u.tag){var p=u.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var d=u.memoizedProps;h=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!c)}}if(h){var f=u.updateQueue;if(null===f){var v=new Set;v.add(o),u.updateQueue=v}else f.add(o);if(0===(2&u.mode)){if(u.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=la(1073741823,null);m.tag=2,oa(s,m)}s.expirationTime=1073741823;break t}l=void 0,s=e;var g=r.pingCache;if(null===g?(g=r.pingCache=new hl,l=new Set,g.set(o,l)):void 0===(l=g.get(o))&&(l=new Set,g.set(o,l)),!l.has(s)){l.add(s);var b=bo.bind(null,r,o,s);o.then(b,b)}u.effectTag|=4096,u.expirationTime=e;break t}u=u.return}while(null!==u);l=Error((vt(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+mt(s))}5!==kl&&(kl=2),l=Gs(l,s),u=a;do{switch(u.tag){case 3:o=l,u.effectTag|=4096,u.expirationTime=e,_a(u,pl(u,o,e));break t;case 1:o=l;var y=u.type,w=u.stateNode;if(0===(64&u.effectTag)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===zl||!zl.has(w)))){u.effectTag|=4096,u.expirationTime=e,_a(u,dl(u,o,e));break t}}u=u.return}while(null!==u)}Tl=_o(Tl)}catch(S){e=S;continue}break}}function no(){var t=ml.current;return ml.current=fs,null===t?fs:t}function ro(t,e){t<Ml&&2<t&&(Ml=t),null!==e&&t<El&&2<t&&(El=t,Pl=e)}function ao(t){t>Bl&&(Bl=t)}function so(){for(;null!==Tl;)Tl=oo(Tl)}function lo(){for(;null!==Tl&&!Or();)Tl=oo(Tl)}function oo(t){var e=fl(t.alternate,t,Cl);return t.memoizedProps=t.pendingProps,null===e&&(e=_o(t)),gl.current=null,e}function _o(t){Tl=t;do{var e=Tl.alternate;if(t=Tl.return,0===(2048&Tl.effectTag)){if(e=Xs(e,Tl,Cl),1===Cl||1!==Tl.childExpirationTime){for(var i=0,n=Tl.child;null!==n;){var r=n.expirationTime,a=n.childExpirationTime;r>i&&(i=r),a>i&&(i=a),n=n.sibling}Tl.childExpirationTime=i}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Tl.firstEffect),null!==Tl.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Tl.firstEffect),t.lastEffect=Tl.lastEffect),1<Tl.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Tl:t.firstEffect=Tl,t.lastEffect=Tl))}else{if(null!==(e=Qs(Tl)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Tl.sibling))return e;Tl=t}while(null!==Tl);return kl===bl&&(kl=5),null}function co(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function uo(t){var e=Nr();return Wr(99,ho.bind(null,t,e)),null}function ho(t,e){do{fo()}while(null!==Vl);if(0!==(48&Sl))throw Error(s(327));var i=t.finishedWork,n=t.finishedExpirationTime;if(null===i)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,i===t.current)throw Error(s(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=co(i);if(t.firstPendingTime=r,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===xl&&(Tl=xl=null,Cl=0),1<i.effectTag?null!==i.lastEffect?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,null!==r){var a=Sl;Sl|=32,gl.current=null,di=$e;var l=hi();if(pi(l)){if("selectionStart"in l)var o={start:l.selectionStart,end:l.selectionEnd};else t:{var _=(o=(o=l.ownerDocument)&&o.defaultView||window).getSelection&&o.getSelection();if(_&&0!==_.rangeCount){o=_.anchorNode;var c=_.anchorOffset,u=_.focusNode;_=_.focusOffset;try{o.nodeType,u.nodeType}catch(k){o=null;break t}var h=0,p=-1,d=-1,f=0,v=0,m=l,g=null;e:for(;;){for(var b;m!==o||0!==c&&3!==m.nodeType||(p=h+c),m!==u||0!==_&&3!==m.nodeType||(d=h+_),3===m.nodeType&&(h+=m.nodeValue.length),null!==(b=m.firstChild);)g=m,m=b;for(;;){if(m===l)break e;if(g===o&&++f===c&&(p=h),g===u&&++v===_&&(d=h),null!==(b=m.nextSibling))break;g=(m=g).parentNode}m=b}o=-1===p||-1===d?null:{start:p,end:d}}else o=null}o=o||{start:0,end:0}}else o=null;fi={activeElementDetached:null,focusedElem:l,selectionRange:o},$e=!1,Dl=r;do{try{po()}catch(k){if(null===Dl)throw Error(s(330));go(Dl,k),Dl=Dl.nextEffect}}while(null!==Dl);Dl=r;do{try{for(l=t,o=e;null!==Dl;){var y=Dl.effectTag;if(16&y&&Nt(Dl.stateNode,""),128&y){var w=Dl.alternate;if(null!==w){var S=w.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&y){case 2:ol(Dl),Dl.effectTag&=-3;break;case 6:ol(Dl),Dl.effectTag&=-3,cl(Dl.alternate,Dl);break;case 1024:Dl.effectTag&=-1025;break;case 1028:Dl.effectTag&=-1025,cl(Dl.alternate,Dl);break;case 4:cl(Dl.alternate,Dl);break;case 8:_l(l,c=Dl,o),sl(c)}Dl=Dl.nextEffect}}catch(k){if(null===Dl)throw Error(s(330));go(Dl,k),Dl=Dl.nextEffect}}while(null!==Dl);if(S=fi,w=hi(),y=S.focusedElem,o=S.selectionRange,w!==y&&y&&y.ownerDocument&&function t(e,i){return!(!e||!i)&&(e===i||(!e||3!==e.nodeType)&&(i&&3===i.nodeType?t(e,i.parentNode):"contains"in e?e.contains(i):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(i))))}(y.ownerDocument.documentElement,y)){null!==o&&pi(y)&&(w=o.start,void 0===(S=o.end)&&(S=w),"selectionStart"in y?(y.selectionStart=w,y.selectionEnd=Math.min(S,y.value.length)):(S=(w=y.ownerDocument||document)&&w.defaultView||window).getSelection&&(S=S.getSelection(),c=y.textContent.length,l=Math.min(o.start,c),o=void 0===o.end?l:Math.min(o.end,c),!S.extend&&l>o&&(c=o,o=l,l=c),c=ui(y,l),u=ui(y,o),c&&u&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==u.node||S.focusOffset!==u.offset)&&((w=w.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),l>o?(S.addRange(w),S.extend(u.node,u.offset)):(w.setEnd(u.node,u.offset),S.addRange(w))))),w=[];for(S=y;S=S.parentNode;)1===S.nodeType&&w.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<w.length;y++)(S=w[y]).element.scrollLeft=S.left,S.element.scrollTop=S.top}$e=!!di,fi=di=null,t.current=i,Dl=r;do{try{for(y=t;null!==Dl;){var x=Dl.effectTag;if(36&x&&rl(y,Dl.alternate,Dl),128&x){w=void 0;var T=Dl.ref;if(null!==T){var C=Dl.stateNode;switch(Dl.tag){case 5:w=C;break;default:w=C}"function"===typeof T?T(w):T.current=w}}Dl=Dl.nextEffect}}catch(k){if(null===Dl)throw Error(s(330));go(Dl,k),Dl=Dl.nextEffect}}while(null!==Dl);Dl=null,Dr(),Sl=a}else t.current=i;if(Fl)Fl=!1,Vl=t,Nl=e;else for(Dl=r;null!==Dl;)e=Dl.nextEffect,Dl.nextEffect=null,Dl=e;if(0===(e=t.firstPendingTime)&&(zl=null),1073741823===e?t===jl?Wl++:(Wl=0,jl=t):Wl=0,"function"===typeof wo&&wo(i.stateNode,n),Ql(t),Rl)throw Rl=!1,t=Ll,Ll=null,t;return 0!==(8&Sl)||Yr(),null}function po(){for(;null!==Dl;){var t=Dl.effectTag;0!==(256&t)&&el(Dl.alternate,Dl),0===(512&t)||Fl||(Fl=!0,jr(97,(function(){return fo(),null}))),Dl=Dl.nextEffect}}function fo(){if(90!==Nl){var t=97<Nl?97:Nl;return Nl=90,Wr(t,vo)}}function vo(){if(null===Vl)return!1;var t=Vl;if(Vl=null,0!==(48&Sl))throw Error(s(331));var e=Sl;for(Sl|=32,t=t.current.firstEffect;null!==t;){try{var i=t;if(0!==(512&i.effectTag))switch(i.tag){case 0:case 11:case 15:case 22:il(5,i),nl(5,i)}}catch(n){if(null===t)throw Error(s(330));go(t,n)}i=t.nextEffect,t.nextEffect=null,t=i}return Sl=e,Yr(),!0}function mo(t,e,i){oa(t,e=pl(t,e=Gs(i,e),1073741823)),null!==(t=ql(t,1073741823))&&Ql(t)}function go(t,e){if(3===t.tag)mo(t,t,e);else for(var i=t.return;null!==i;){if(3===i.tag){mo(i,t,e);break}if(1===i.tag){var n=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===zl||!zl.has(n))){oa(i,t=dl(i,t=Gs(e,t),1073741823)),null!==(i=ql(i,1073741823))&&Ql(i);break}}i=i.return}}function bo(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),xl===t&&Cl===i?kl===wl||kl===yl&&1073741823===Ml&&Vr()-Ol<500?eo(t,Cl):Al=!0:Ao(t,i)&&(0!==(e=t.lastPingedTime)&&e<i||(t.lastPingedTime=i,Ql(t)))}function yo(t,e){var i=t.stateNode;null!==i&&i.delete(e),0===(e=0)&&(e=$l(e=Yl(),t,null)),null!==(t=ql(t,e))&&Ql(t)}fl=function(t,e,i){var n=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||hr.current)Es=!0;else{if(n<i){switch(Es=!1,e.tag){case 3:Fs(e),Is();break;case 5:if(Oa(e),4&e.mode&&1!==i&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:fr(e.type)&&br(e);break;case 4:Ba(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value,r=e.type._context,_r(Xr,r._currentValue),r._currentValue=n;break;case 13:if(null!==e.memoizedState)return 0!==(n=e.child.childExpirationTime)&&n>=i?js(t,e,i):(_r(Ra,1&Ra.current),null!==(e=Ks(t,e,i))?e.sibling:null);_r(Ra,1&Ra.current);break;case 19:if(n=e.childExpirationTime>=i,0!==(64&t.effectTag)){if(n)return $s(t,e,i);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),_r(Ra,Ra.current),!n)return null}return Ks(t,e,i)}Es=!1}}else Es=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=dr(e,ur.current),ia(e,i),r=Ka(null,e,n,t,r,i),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,fr(n)){var a=!0;br(e)}else a=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,aa(e);var l=n.getDerivedStateFromProps;"function"===typeof l&&da(e,n,l,t),r.updater=fa,e.stateNode=r,r._reactInternalFiber=e,ba(e,n,t,i),e=zs(null,e,n,!0,a,i)}else e.tag=0,Ps(null,e,r,i),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,a=e.tag=function(t){if("function"===typeof t)return Co(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ot)return 11;if(t===ut)return 14}return 2}(r),t=qr(r,t),a){case 0:e=Rs(null,e,r,t,i);break t;case 1:e=Ls(null,e,r,t,i);break t;case 11:e=Bs(null,e,r,t,i);break t;case 14:e=As(null,e,r,qr(r.type,t),n,i);break t}throw Error(s(306,r,""))}return e;case 0:return n=e.type,r=e.pendingProps,Rs(t,e,n,r=e.elementType===n?r:qr(n,r),i);case 1:return n=e.type,r=e.pendingProps,Ls(t,e,n,r=e.elementType===n?r:qr(n,r),i);case 3:if(Fs(e),n=e.updateQueue,null===t||null===n)throw Error(s(282));if(n=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,sa(t,e),ca(e,n,null,i),(n=e.memoizedState.element)===r)Is(),e=Ks(t,e,i);else{if((r=e.stateNode.hydrate)&&(ys=yi(e.stateNode.containerInfo.firstChild),bs=e,r=ws=!0),r)for(i=Ca(e,null,n,i),e.child=i;i;)i.effectTag=-3&i.effectTag|1024,i=i.sibling;else Ps(t,e,n,i),Is();e=e.child}return e;case 5:return Oa(e),null===t&&Ts(e),n=e.type,r=e.pendingProps,a=null!==t?t.memoizedProps:null,l=r.children,mi(n,r)?l=null:null!==a&&mi(n,a)&&(e.effectTag|=16),Ds(t,e),4&e.mode&&1!==i&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Ps(t,e,l,i),e=e.child),e;case 6:return null===t&&Ts(e),null;case 13:return js(t,e,i);case 4:return Ba(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Ta(e,null,n,i):Ps(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,Bs(t,e,n,r=e.elementType===n?r:qr(n,r),i);case 7:return Ps(t,e,e.pendingProps,i),e.child;case 8:case 12:return Ps(t,e,e.pendingProps.children,i),e.child;case 10:t:{n=e.type._context,r=e.pendingProps,l=e.memoizedProps,a=r.value;var o=e.type._context;if(_r(Xr,o._currentValue),o._currentValue=a,null!==l)if(o=l.value,0===(a=zn(o,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(o,a):1073741823))){if(l.children===r.children&&!hr.current){e=Ks(t,e,i);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var _=o.dependencies;if(null!==_){l=o.child;for(var c=_.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&a)){1===o.tag&&((c=la(i,null)).tag=2,oa(o,c)),o.expirationTime<i&&(o.expirationTime=i),null!==(c=o.alternate)&&c.expirationTime<i&&(c.expirationTime=i),ea(o.return,i),_.expirationTime<i&&(_.expirationTime=i);break}c=c.next}}else l=10===o.tag&&o.type===e.type?null:o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===e){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}Ps(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=(a=e.pendingProps).children,ia(e,i),n=n(r=na(r,a.unstable_observedBits)),e.effectTag|=1,Ps(t,e,n,i),e.child;case 14:return a=qr(r=e.type,e.pendingProps),As(t,e,r,a=qr(r.type,a),n,i);case 15:return Os(t,e,e.type,e.pendingProps,n,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:qr(n,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,fr(n)?(t=!0,br(e)):t=!1,ia(e,i),ma(e,n,r),ba(e,n,r,i),zs(null,e,n,!0,t,i);case 19:return $s(t,e,i)}throw Error(s(156,e.tag))};var wo=null,So=null;function xo(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function To(t,e,i,n){return new xo(t,e,i,n)}function Co(t){return!(!(t=t.prototype)||!t.isReactComponent)}function ko(t,e){var i=t.alternate;return null===i?((i=To(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Io(t,e,i,n,r,a){var l=2;if(n=t,"function"===typeof t)Co(t)&&(l=1);else if("string"===typeof t)l=5;else t:switch(t){case it:return Mo(i.children,r,a,e);case lt:l=8,r|=7;break;case nt:l=8,r|=1;break;case rt:return(t=To(12,i,e,8|r)).elementType=rt,t.type=rt,t.expirationTime=a,t;case _t:return(t=To(13,i,e,r)).type=_t,t.elementType=_t,t.expirationTime=a,t;case ct:return(t=To(19,i,e,r)).elementType=ct,t.expirationTime=a,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case at:l=10;break t;case st:l=9;break t;case ot:l=11;break t;case ut:l=14;break t;case ht:l=16,n=null;break t;case pt:l=22;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=To(l,i,e,r)).elementType=t,e.type=n,e.expirationTime=a,e}function Mo(t,e,i,n){return(t=To(7,t,n,e)).expirationTime=i,t}function Eo(t,e,i){return(t=To(6,t,null,e)).expirationTime=i,t}function Po(t,e,i){return(e=To(4,null!==t.children?t.children:[],t.key,e)).expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bo(t,e,i){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ao(t,e){var i=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==i&&i>=e&&t<=e}function Oo(t,e){var i=t.firstSuspendedTime,n=t.lastSuspendedTime;i<e&&(t.firstSuspendedTime=e),(n>e||0===i)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Do(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var i=t.firstSuspendedTime;0!==i&&(e>=i?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Ro(t,e){var i=t.lastExpiredTime;(0===i||i>e)&&(t.lastExpiredTime=e)}function Lo(t,e,i,n){var r=e.current,a=Yl(),l=ha.suspense;a=$l(a,r,l);t:if(i){e:{if(Jt(i=i._reactInternalFiber)!==i||1!==i.tag)throw Error(s(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(fr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(null!==o);throw Error(s(171))}if(1===i.tag){var _=i.type;if(fr(_)){i=gr(i,_,o);break t}}i=o}else i=cr;return null===e.context?e.context=i:e.pendingContext=i,(e=la(a,l)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),oa(r,e),Kl(r,a),a}function zo(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Fo(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Vo(t,e){Fo(t,e),(t=t.alternate)&&Fo(t,e)}function No(t,e,i){var n=new Bo(t,e,i=null!=i&&!0===i.hydrate),r=To(3,null,null,2===e?7:1===e?3:0);n.current=r,r.stateNode=n,aa(r),t[Ci]=n.current,i&&0!==e&&function(t,e){var i=Zt(e);ke.forEach((function(t){de(t,e,i)})),Ie.forEach((function(t){de(t,e,i)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=n}function Uo(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Wo(t,e,i,n,r){var a=i._reactRootContainer;if(a){var s=a._internalRoot;if("function"===typeof r){var l=r;r=function(){var t=zo(s);l.call(t)}}Lo(e,s,t,r)}else{if(a=i._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new No(t,0,e?{hydrate:!0}:void 0)}(i,n),s=a._internalRoot,"function"===typeof r){var o=r;r=function(){var t=zo(s);o.call(t)}}to((function(){Lo(e,s,t,r)}))}return zo(s)}function jo(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}function Ho(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uo(e))throw Error(s(200));return jo(t,e,null,i)}No.prototype.render=function(t){Lo(t,this._internalRoot,null,null)},No.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Lo(null,t,null,(function(){e[Ci]=null}))},fe=function(t){if(13===t.tag){var e=Kr(Yl(),150,100);Kl(t,e),Vo(t,e)}},ve=function(t){13===t.tag&&(Kl(t,3),Vo(t,3))},me=function(t){if(13===t.tag){var e=Yl();Kl(t,e=$l(e,t,null)),Vo(t,e)}},M=function(t,e,i){switch(e){case"input":if(Ct(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=Ei(n);if(!r)throw Error(s(90));wt(n),Ct(n,r)}}}break;case"textarea":At(t,i);break;case"select":null!=(e=i.value)&&Et(t,!!i.multiple,e,!1)}},D=Jl,R=function(t,e,i,n,r){var a=Sl;Sl|=4;try{return Wr(98,t.bind(null,e,i,n,r))}finally{0===(Sl=a)&&Yr()}},L=function(){0===(49&Sl)&&(function(){if(null!==Ul){var t=Ul;Ul=null,t.forEach((function(t,e){Ro(e,t),Ql(e)})),Yr()}}(),fo())},z=function(t,e){var i=Sl;Sl|=2;try{return t(e)}finally{0===(Sl=i)&&Yr()}};var Yo={Events:[Ii,Mi,Ei,k,x,Li,function(t){re(t,Ri)},A,O,Ge,le,fo,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);wo=function(t){try{e.onCommitFiberRoot(i,t,void 0,64===(64&t.current.effectTag))}catch(n){}},So=function(t){try{e.onCommitFiberUnmount(i,t)}catch(n){}}}catch(n){}})(r({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ie(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:ki,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yo,e.createPortal=Ho,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return t=null===(t=ie(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&Sl))throw Error(s(187));var i=Sl;Sl|=1;try{return Wr(99,t.bind(null,e))}finally{Sl=i,Yr()}},e.hydrate=function(t,e,i){if(!Uo(e))throw Error(s(200));return Wo(null,t,e,!0,i)},e.render=function(t,e,i){if(!Uo(e))throw Error(s(200));return Wo(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!Uo(t))throw Error(s(40));return!!t._reactRootContainer&&(to((function(){Wo(null,null,t,!1,(function(){t._reactRootContainer=null,t[Ci]=null}))})),!0)},e.unstable_batchedUpdates=Jl,e.unstable_createPortal=function(t,e){return Ho(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Uo(i))throw Error(s(200));if(null==t||void 0===t._reactInternalFiber)throw Error(s(38));return Wo(t,e,i,!1,n)},e.version="16.14.0"},function(t,e,i){"use strict";t.exports=i(14)},function(t,e,i){"use strict";var n,r,a,s,l;if("undefined"===typeof window||"function"!==typeof MessageChannel){var o=null,_=null,c=function(){if(null!==o)try{var t=e.unstable_now();o(!0,t),o=null}catch(i){throw setTimeout(c,0),i}},u=Date.now();e.unstable_now=function(){return Date.now()-u},n=function(t){null!==o?setTimeout(n,0,t):(o=t,setTimeout(c,0))},r=function(t,e){_=setTimeout(t,e)},a=function(){clearTimeout(_)},s=function(){return!1},l=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,d=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var m=p.now();e.unstable_now=function(){return p.now()-m}}var g=!1,b=null,y=-1,w=5,S=0;s=function(){return e.unstable_now()>=S},l=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,T=x.port2;x.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();S=t+w;try{b(!0,t)?T.postMessage(null):(g=!1,b=null)}catch(i){throw T.postMessage(null),i}}else g=!1},n=function(t){b=t,g||(g=!0,T.postMessage(null))},r=function(t,i){y=d((function(){t(e.unstable_now())}),i)},a=function(){f(y),y=-1}}function C(t,e){var i=t.length;t.push(e);t:for(;;){var n=i-1>>>1,r=t[n];if(!(void 0!==r&&0<M(r,e)))break t;t[n]=e,t[i]=r,i=n}}function k(t){return void 0===(t=t[0])?null:t}function I(t){var e=t[0];if(void 0!==e){var i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,r=t.length;n<r;){var a=2*(n+1)-1,s=t[a],l=a+1,o=t[l];if(void 0!==s&&0>M(s,i))void 0!==o&&0>M(o,s)?(t[n]=o,t[l]=i,n=l):(t[n]=s,t[a]=i,n=a);else{if(!(void 0!==o&&0>M(o,i)))break t;t[n]=o,t[l]=i,n=l}}}return e}return null}function M(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}var E=[],P=[],B=1,A=null,O=3,D=!1,R=!1,L=!1;function z(t){for(var e=k(P);null!==e;){if(null===e.callback)I(P);else{if(!(e.startTime<=t))break;I(P),e.sortIndex=e.expirationTime,C(E,e)}e=k(P)}}function F(t){if(L=!1,z(t),!R)if(null!==k(E))R=!0,n(V);else{var e=k(P);null!==e&&r(F,e.startTime-t)}}function V(t,i){R=!1,L&&(L=!1,a()),D=!0;var n=O;try{for(z(i),A=k(E);null!==A&&(!(A.expirationTime>i)||t&&!s());){var l=A.callback;if(null!==l){A.callback=null,O=A.priorityLevel;var o=l(A.expirationTime<=i);i=e.unstable_now(),"function"===typeof o?A.callback=o:A===k(E)&&I(E),z(i)}else I(E);A=k(E)}if(null!==A)var _=!0;else{var c=k(P);null!==c&&r(F,c.startTime-i),_=!1}return _}finally{A=null,O=n,D=!1}}function N(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=l;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){R||D||(R=!0,n(V))},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return k(E)},e.unstable_next=function(t){switch(O){case 1:case 2:case 3:var e=3;break;default:e=O}var i=O;O=e;try{return t()}finally{O=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=O;O=t;try{return e()}finally{O=i}},e.unstable_scheduleCallback=function(t,i,s){var l=e.unstable_now();if("object"===typeof s&&null!==s){var o=s.delay;o="number"===typeof o&&0<o?l+o:l,s="number"===typeof s.timeout?s.timeout:N(t)}else s=N(t),o=l;return t={id:B++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>l?(t.sortIndex=o,C(P,t),null===k(E)&&t===k(P)&&(L?a():L=!0,r(F,o-l))):(t.sortIndex=s,C(E,t),R||D||(R=!0,n(V))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();z(t);var i=k(E);return i!==A&&null!==A&&null!==i&&null!==i.callback&&i.startTime<=t&&i.expirationTime<A.expirationTime||s()},e.unstable_wrapCallback=function(t){var e=O;return function(){var i=O;O=e;try{return t.apply(this,arguments)}finally{O=i}}}},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&r(e,t,i);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useRenderData=void 0;var o=i(4),_=s(i(1)),c=i(6),u=i(5),h=l(i(19)),p=_.default.createContext(void 0);e.useRenderData=function(){var t=(0,_.useContext)(p);if(null==t)throw new Error("useRenderData() must be used inside <StreamlitProvider />");return t};e.default=function(t){var e=(0,u.useNullableRenderData)();return(0,_.useEffect)((function(){c.Streamlit.setFrameHeight()})),null==e?null:(0,o.jsx)(h.default,{children:(0,o.jsx)(p.Provider,n({value:e},{children:t.children}),void 0)},void 0)}},function(t,e,i){"use strict";var n=i(1),r=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;r=a("react.element"),e.Fragment=a("react.fragment")}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,o={key:!0,ref:!0,__self:!0,__source:!0};function _(t,e,i){var n,a={},_=null,c=null;for(n in void 0!==i&&(_=""+i),void 0!==e.key&&(_=""+e.key),void 0!==e.ref&&(c=e.ref),e)l.call(e,n)&&!o.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===a[n]&&(a[n]=e[n]);return{$$typeof:r,type:t,key:_,ref:c,props:a,_owner:s.current}}e.jsx=_,e.jsxs=_},function(t,e,i){"use strict";t.exports=i(18)},function(t,e,i){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,l=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,_=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function S(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case u:case h:case s:case o:case l:case d:return t;default:switch(t=t&&t.$$typeof){case c:case p:case m:case v:case _:return t;default:return e}}case a:return e}}}function x(t){return S(t)===h}e.AsyncMode=u,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=_,e.Element=r,e.ForwardRef=p,e.Fragment=s,e.Lazy=m,e.Memo=v,e.Portal=a,e.Profiler=o,e.StrictMode=l,e.Suspense=d,e.isAsyncMode=function(t){return x(t)||S(t)===u},e.isConcurrentMode=x,e.isContextConsumer=function(t){return S(t)===c},e.isContextProvider=function(t){return S(t)===_},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return S(t)===p},e.isFragment=function(t){return S(t)===s},e.isLazy=function(t){return S(t)===m},e.isMemo=function(t){return S(t)===v},e.isPortal=function(t){return S(t)===a},e.isProfiler=function(t){return S(t)===o},e.isStrictMode=function(t){return S(t)===l},e.isSuspense=function(t){return S(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===h||t===o||t===l||t===d||t===f||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===v||t.$$typeof===_||t.$$typeof===c||t.$$typeof===p||t.$$typeof===b||t.$$typeof===y||t.$$typeof===w||t.$$typeof===g)},e.typeOf=S},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(4),s=function(t){function e(e){var i=t.call(this,e)||this;return i.state={error:void 0},i}return n(e,t),e.getDerivedStateFromError=function(t){return{error:t}},e.prototype.render=function(){return null!=this.state.error?(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Component Error"},void 0),(0,a.jsx)("span",{children:this.state.error.message},void 0)]},void 0):this.props.children},e}(r(i(1)).default.PureComponent);e.default=s}]]);
//# sourceMappingURL=2.1903643f.chunk.js.map