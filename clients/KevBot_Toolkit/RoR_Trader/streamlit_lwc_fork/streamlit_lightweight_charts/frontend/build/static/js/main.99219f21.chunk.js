(this.webpackJsonpstreamlit_lightweight_charts=this.webpackJsonpstreamlit_lightweight_charts||[]).push([[0],{10:function(t,e,i){t.exports=i(20)},20:function(t,e,i){"use strict";i.r(e);var s=i(1),r=i.n(s),o=i(7),n=i.n(o),a=i(2),h=i(0),l=i(9);class c{constructor(t,e,i){this._upperCoords=void 0,this._lowerCoords=void 0,this._fillColor=void 0,this._upperCoords=t,this._lowerCoords=e,this._fillColor=i}draw(t){if(!(this._upperCoords.length<2)){var e=this._upperCoords,i=this._lowerCoords,s=this._fillColor;t.useMediaCoordinateSpace(t=>{var r=t.context;r.beginPath(),r.moveTo(e[0].x,e[0].y);for(var o=1;o<e.length;o++)r.lineTo(e[o].x,e[o].y);for(var n=i.length-1;n>=0;n--)r.lineTo(i[n].x,i[n].y);r.closePath(),r.fillStyle=s,r.fill()})}}}class d{constructor(t){this._source=void 0,this._source=t}zOrder(){return"bottom"}renderer(){return this._source.buildRenderer()}}class _{constructor(t){this._options=void 0,this._chart=void 0,this._series=void 0,this._paneViews=void 0,this._options=t,this._chart=null,this._series=null,this._paneViews=[new d(this)]}attached(t){this._chart=t.chart,this._series=t.series}detached(){this._chart=null,this._series=null}updateAllViews(){}paneViews(){return this._paneViews}buildRenderer(){if(!this._chart||!this._series)return null;for(var t=this._chart.timeScale(),e=this._series,i=[],s=[],r=0;r<this._options.data.length;r++){var o=this._options.data[r],n=t.timeToCoordinate(o.time),a=e.priceToCoordinate(o.upperValue),h=e.priceToCoordinate(o.lowerValue);null!==n&&null!==a&&null!==h&&(i.push({x:n,y:a}),s.push({x:n,y:h}))}return i.length<2?null:new c(i,s,this._options.fillColor)}}class u{constructor(t,e,i,s,r,o,n){this._x1=void 0,this._y1=void 0,this._x2=void 0,this._y2=void 0,this._fillColor=void 0,this._borderColor=void 0,this._borderWidth=void 0,this._x1=t,this._y1=e,this._x2=i,this._y2=s,this._fillColor=r,this._borderColor=o,this._borderWidth=n}draw(t){var e=this._x1,i=this._y1,s=this._x2,r=this._y2,o=this._fillColor,n=this._borderColor,a=this._borderWidth;t.useMediaCoordinateSpace(t=>{var h=t.context,l=Math.min(e,s),c=Math.min(i,r),d=Math.abs(s-e),_=Math.abs(r-i);h.fillStyle=o,h.fillRect(l,c,d,_),a>0&&(h.strokeStyle=n,h.lineWidth=a,h.strokeRect(l,c,d,_))})}}class p{constructor(t){this._source=void 0,this._source=t}zOrder(){return"bottom"}renderer(){return this._source.buildRenderer()}}class f{constructor(t){this._options=void 0,this._chart=void 0,this._series=void 0,this._paneViews=void 0,this._options=t,this._chart=null,this._series=null,this._paneViews=[new p(this)]}attached(t){this._chart=t.chart,this._series=t.series}detached(){this._chart=null,this._series=null}updateAllViews(){}paneViews(){return this._paneViews}buildRenderer(){if(!this._chart||!this._series)return null;var t=this._chart.timeScale(),e=t.timeToCoordinate(this._options.point1.time),i=this._series.priceToCoordinate(this._options.point1.price),s=t.timeToCoordinate(this._options.point2.time),r=this._series.priceToCoordinate(this._options.point2.price);return null===e||null===i||null===s||null===r?null:new u(e,i,s,r,this._options.fillColor,this._options.borderColor||"transparent",this._options.borderWidth||0)}}class v{constructor(t){this._bands=void 0,this._bands=t}draw(t){}drawBackground(t){var e=this._bands;t.useMediaCoordinateSpace(t=>{for(var i=t.context,s=t.mediaSize.height,r=0;r<e.length;r++){var o=e[r];i.fillStyle=o.color,i.fillRect(o.x1,0,o.x2-o.x1,s)}})}}class b{constructor(t){this._source=void 0,this._source=t}zOrder(){return"bottom"}renderer(){return this._source.buildRenderer()}}class m{constructor(t){this._options=void 0,this._chart=void 0,this._series=void 0,this._paneViews=void 0,this._options=t,this._chart=null,this._series=null,this._paneViews=[new b(this)]}attached(t){this._chart=t.chart,this._series=t.series}detached(){this._chart=null,this._series=null}updateAllViews(){}paneViews(){return this._paneViews}buildRenderer(){if(!this._chart)return null;for(var t=this._chart.timeScale(),e=[],i=0;i<this._options.ranges.length;i++){var s=this._options.ranges[i],r=t.timeToCoordinate(s.startTime),o=t.timeToCoordinate(s.endTime);null!==r&&null!==o&&e.push({x1:r,x2:o,color:s.color})}return 0===e.length?null:new v(e)}}class w{constructor(t,e,i,s,r,o){this._x=void 0,this._y=void 0,this._text=void 0,this._color=void 0,this._fontSize=void 0,this._position=void 0,this._x=t,this._y=e,this._text=i,this._color=s,this._fontSize=r,this._position=o}draw(t){var e=this._x,i=this._y,s=this._text,r=this._color,o=this._fontSize,n=this._position;t.useMediaCoordinateSpace(t=>{var a=t.context;a.font=o+"px sans-serif",a.fillStyle=r,a.textBaseline="middle";var h=e,l=i;switch(n){case"above":a.textAlign="center",l-=4+o/2;break;case"below":a.textAlign="center",l+=4+o/2;break;case"left":a.textAlign="right",h-=4;break;case"right":a.textAlign="left",h+=4;break;default:a.textAlign="center",l-=4+o/2}a.fillText(s,h,l)})}}class g{constructor(t){this._source=void 0,this._source=t}zOrder(){return"top"}renderer(){return this._source.buildRenderer()}}class C{constructor(t){this._options=void 0,this._chart=void 0,this._series=void 0,this._paneViews=void 0,this._options=t,this._chart=null,this._series=null,this._paneViews=[new g(this)]}attached(t){this._chart=t.chart,this._series=t.series}detached(){this._chart=null,this._series=null}updateAllViews(){}paneViews(){return this._paneViews}buildRenderer(){if(!this._chart||!this._series)return null;var t=this._chart.timeScale().timeToCoordinate(this._options.time),e=this._series.priceToCoordinate(this._options.price);return null===t||null===e?null:new w(t,e,this._options.text,this._options.color||"#ffffff",this._options.fontSize||12,this._options.position||"above")}}var x=()=>{const t=Object(a.useRenderData)().args.charts,e=Object(s.useRef)(null),i=Array(t.length).fill(Object(s.useRef)(null)),o=Object(s.useRef)([]);return Object(s.useEffect)(()=>{if(i.find(t=>!t.current))return;i.forEach((e,s)=>{const r=o.current[s]=Object(l.a)(e.current,Object(h.a)({height:300,width:i[s].current.clientWidth},t[s].chart)),n=[];for(const i of t[s].series){let t;switch(i.type){case"Area":t=r.addAreaSeries(i.options);break;case"Bar":t=r.addBarSeries(i.options);break;case"Baseline":t=r.addBaselineSeries(i.options);break;case"Candlestick":t=r.addCandlestickSeries(i.options);break;case"Histogram":t=r.addHistogramSeries(i.options);break;case"Line":t=r.addLineSeries(i.options);break;default:return}if(i.priceScale&&r.priceScale(i.options.priceScaleId||"").applyOptions(i.priceScale),t.setData(i.data),i.markers&&t.setMarkers(i.markers),i.priceLines)for(const e of i.priceLines)t.createPriceLine(e);n.push(t)}if(t[s].primitives)for(const i of t[s].primitives){const t=n[i.seriesIndex||0];if(t)try{switch(i.type){case"bandFill":t.attachPrimitive(new _(i.options));break;case"rectangle":t.attachPrimitive(new f(i.options));break;case"sessionHighlight":t.attachPrimitive(new m(i.options));break;case"anchoredText":t.attachPrimitive(new C(i.options));break;default:console.warn("Unknown primitive type: ".concat(i.type))}}catch(a){console.error("Error attaching primitive ".concat(i.type,":"),a)}}r.timeScale().fitContent()});const e=o.current.map(t=>t);return t.length>1&&e.forEach(t=>{t&&(t.timeScale().subscribeVisibleTimeRangeChange(i=>{e.filter(e=>e!==t).forEach(e=>{e.timeScale().applyOptions({rightOffset:t.timeScale().scrollPosition()})})}),t.timeScale().subscribeVisibleLogicalRangeChange(i=>{i&&e.filter(e=>e!==t).forEach(t=>{t.timeScale().setVisibleLogicalRange({from:null===i||void 0===i?void 0:i.from,to:null===i||void 0===i?void 0:i.to})})}))}),()=>{e.forEach(t=>{t.remove()})}},[t,i,o]),r.a.createElement("div",{ref:e},i.map((t,e)=>r.a.createElement("div",{ref:t,id:"lightweight-charts-".concat(e),key:"lightweight-charts-".concat(e)})))};n.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(a.StreamlitProvider,null,r.a.createElement(x,null))),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.99219f21.chunk.js.map